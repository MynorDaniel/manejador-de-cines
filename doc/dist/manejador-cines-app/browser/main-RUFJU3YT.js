var X_=Object.defineProperty,e1=Object.defineProperties;var t1=Object.getOwnPropertyDescriptors;var Eh=Object.getOwnPropertySymbols;var n1=Object.prototype.hasOwnProperty,i1=Object.prototype.propertyIsEnumerable;var Dh=(e,n,t)=>n in e?X_(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,N=(e,n)=>{for(var t in n||={})n1.call(n,t)&&Dh(e,t,n[t]);if(Eh)for(var t of Eh(n))i1.call(n,t)&&Dh(e,t,n[t]);return e},he=(e,n)=>e1(e,t1(n));var yr=(e,n,t)=>new Promise((i,r)=>{var o=d=>{try{l(t.next(d))}catch(p){r(p)}},a=d=>{try{l(t.throw(d))}catch(p){r(p)}},l=d=>d.done?i(d.value):Promise.resolve(d.value).then(o,a);l((t=t.apply(e,n)).next())});var Ku;function ss(){return Ku}function Nn(e){let n=Ku;return Ku=e,n}var Sh=Symbol("NotFound");function _r(e){return e===Sh||e?.name==="\u0275NotFound"}var _t=null,ls=!1,Ju=1,r1=null,bt=Symbol("SIGNAL");function se(e){let n=_t;return _t=e,n}function fs(){return _t}var br={version:0,lastCleanEpoch:0,dirty:!1,producers:void 0,producersTail:void 0,consumers:void 0,consumersTail:void 0,recomputing:!1,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,kind:"unknown",producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Er(e){if(ls)throw new Error("");if(_t===null)return;_t.consumerOnSignalRead(e);let n=_t.producersTail;if(n!==void 0&&n.producer===e)return;let t,i=_t.recomputing;if(i&&(t=n!==void 0?n.nextProducer:_t.producers,t!==void 0&&t.producer===e)){_t.producersTail=t,t.lastReadVersion=e.version;return}let r=e.consumersTail;if(r!==void 0&&r.consumer===_t&&(!i||a1(r,_t)))return;let o=Sr(_t),a={producer:e,consumer:_t,nextProducer:t,prevConsumer:r,lastReadVersion:e.version,nextConsumer:void 0};_t.producersTail=a,n!==void 0?n.nextProducer=a:_t.producers=a,o&&Th(e,a)}function xh(){Ju++}function ps(e){if(!(Sr(e)&&!e.dirty)&&!(!e.dirty&&e.lastCleanEpoch===Ju)){if(!e.producerMustRecompute(e)&&!Ao(e)){ds(e);return}e.producerRecomputeValue(e),ds(e)}}function Xu(e){if(e.consumers===void 0)return;let n=ls;ls=!0;try{for(let t=e.consumers;t!==void 0;t=t.nextConsumer){let i=t.consumer;i.dirty||o1(i)}}finally{ls=n}}function ed(){return _t?.consumerAllowSignalWrites!==!1}function o1(e){e.dirty=!0,Xu(e),e.consumerMarkedDirty?.(e)}function ds(e){e.dirty=!1,e.lastCleanEpoch=Ju}function Dr(e){return e&&Ih(e),se(e)}function Ih(e){e.producersTail=void 0,e.recomputing=!0}function Mo(e,n){se(n),e&&wh(e)}function wh(e){e.recomputing=!1;let n=e.producersTail,t=n!==void 0?n.nextProducer:e.producers;if(t!==void 0){if(Sr(e))do t=td(t);while(t!==void 0);n!==void 0?n.nextProducer=void 0:e.producers=void 0}}function Ao(e){for(let n=e.producers;n!==void 0;n=n.nextProducer){let t=n.producer,i=n.lastReadVersion;if(i!==t.version||(ps(t),i!==t.version))return!0}return!1}function No(e){if(Sr(e)){let n=e.producers;for(;n!==void 0;)n=td(n)}e.producers=void 0,e.producersTail=void 0,e.consumers=void 0,e.consumersTail=void 0}function Th(e,n){let t=e.consumersTail,i=Sr(e);if(t!==void 0?(n.nextConsumer=t.nextConsumer,t.nextConsumer=n):(n.nextConsumer=void 0,e.consumers=n),n.prevConsumer=t,e.consumersTail=n,!i)for(let r=e.producers;r!==void 0;r=r.nextProducer)Th(r.producer,r)}function td(e){let n=e.producer,t=e.nextProducer,i=e.nextConsumer,r=e.prevConsumer;if(e.nextConsumer=void 0,e.prevConsumer=void 0,i!==void 0?i.prevConsumer=r:n.consumersTail=r,r!==void 0)r.nextConsumer=i;else if(n.consumers=i,!Sr(n)){let o=n.producers;for(;o!==void 0;)o=td(o)}return t}function Sr(e){return e.consumerIsAlwaysLive||e.consumers!==void 0}function ms(e){r1?.(e)}function a1(e,n){let t=n.producersTail;if(t!==void 0){let i=n.producers;do{if(i===e)return!0;if(i===t)break;i=i.nextProducer}while(i!==void 0)}return!1}function hs(e,n){return Object.is(e,n)}function gs(e,n){let t=Object.create(s1);t.computation=e,n!==void 0&&(t.equal=n);let i=()=>{if(ps(t),Er(t),t.value===To)throw t.error;return t.value};return i[bt]=t,ms(t),i}var cs=Symbol("UNSET"),us=Symbol("COMPUTING"),To=Symbol("ERRORED"),s1=he(N({},br),{value:cs,dirty:!0,error:null,equal:hs,kind:"computed",producerMustRecompute(e){return e.value===cs||e.value===us},producerRecomputeValue(e){if(e.value===us)throw new Error("");let n=e.value;e.value=us;let t=Dr(e),i,r=!1;try{i=e.computation(),se(null),r=n!==cs&&n!==To&&i!==To&&e.equal(n,i)}catch(o){i=To,e.error=o}finally{Mo(e,t)}if(r){e.value=n;return}e.value=i,e.version++}});function l1(){throw new Error}var Mh=l1;function Ah(e){Mh(e)}function nd(e){Mh=e}var c1=null;function id(e,n){let t=Object.create(vs);t.value=e,n!==void 0&&(t.equal=n);let i=()=>Nh(t);return i[bt]=t,ms(t),[i,a=>xr(t,a),a=>rd(t,a)]}function Nh(e){return Er(e),e.value}function xr(e,n){ed()||Ah(e),e.equal(e.value,n)||(e.value=n,u1(e))}function rd(e,n){ed()||Ah(e),xr(e,n(e.value))}var vs=he(N({},br),{equal:hs,value:void 0,kind:"signal"});function u1(e){e.version++,xh(),Xu(e),c1?.(e)}function ce(e){return typeof e=="function"}function Ir(e){let t=e(i=>{Error.call(i),i.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var Cs=Ir(e=>function(t){e(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((i,r)=>`${r+1}) ${i.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function Ro(e,n){if(e){let t=e.indexOf(n);0<=t&&e.splice(t,1)}}var Qe=class e{constructor(n){this.initialTeardown=n,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let n;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:i}=this;if(ce(i))try{i()}catch(o){n=o instanceof Cs?o.errors:[o]}let{_finalizers:r}=this;if(r){this._finalizers=null;for(let o of r)try{Rh(o)}catch(a){n=n??[],a instanceof Cs?n=[...n,...a.errors]:n.push(a)}}if(n)throw new Cs(n)}}add(n){var t;if(n&&n!==this)if(this.closed)Rh(n);else{if(n instanceof e){if(n.closed||n._hasParent(this))return;n._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(n)}}_hasParent(n){let{_parentage:t}=this;return t===n||Array.isArray(t)&&t.includes(n)}_addParent(n){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(n),t):t?[t,n]:n}_removeParent(n){let{_parentage:t}=this;t===n?this._parentage=null:Array.isArray(t)&&Ro(t,n)}remove(n){let{_finalizers:t}=this;t&&Ro(t,n),n instanceof e&&n._removeParent(this)}};Qe.EMPTY=(()=>{let e=new Qe;return e.closed=!0,e})();var od=Qe.EMPTY;function ys(e){return e instanceof Qe||e&&"closed"in e&&ce(e.remove)&&ce(e.add)&&ce(e.unsubscribe)}function Rh(e){ce(e)?e():e.unsubscribe()}var un={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var wr={setTimeout(e,n,...t){let{delegate:i}=wr;return i?.setTimeout?i.setTimeout(e,n,...t):setTimeout(e,n,...t)},clearTimeout(e){let{delegate:n}=wr;return(n?.clearTimeout||clearTimeout)(e)},delegate:void 0};function _s(e){wr.setTimeout(()=>{let{onUnhandledError:n}=un;if(n)n(e);else throw e})}function Fo(){}var Fh=ad("C",void 0,void 0);function Oh(e){return ad("E",void 0,e)}function Ph(e){return ad("N",e,void 0)}function ad(e,n,t){return{kind:e,value:n,error:t}}var Li=null;function Tr(e){if(un.useDeprecatedSynchronousErrorHandling){let n=!Li;if(n&&(Li={errorThrown:!1,error:null}),e(),n){let{errorThrown:t,error:i}=Li;if(Li=null,t)throw i}}else e()}function kh(e){un.useDeprecatedSynchronousErrorHandling&&Li&&(Li.errorThrown=!0,Li.error=e)}var Vi=class extends Qe{constructor(n){super(),this.isStopped=!1,n?(this.destination=n,ys(n)&&n.add(this)):this.destination=p1}static create(n,t,i){return new Mr(n,t,i)}next(n){this.isStopped?ld(Ph(n),this):this._next(n)}error(n){this.isStopped?ld(Oh(n),this):(this.isStopped=!0,this._error(n))}complete(){this.isStopped?ld(Fh,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(n){this.destination.next(n)}_error(n){try{this.destination.error(n)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},d1=Function.prototype.bind;function sd(e,n){return d1.call(e,n)}var cd=class{constructor(n){this.partialObserver=n}next(n){let{partialObserver:t}=this;if(t.next)try{t.next(n)}catch(i){bs(i)}}error(n){let{partialObserver:t}=this;if(t.error)try{t.error(n)}catch(i){bs(i)}else bs(n)}complete(){let{partialObserver:n}=this;if(n.complete)try{n.complete()}catch(t){bs(t)}}},Mr=class extends Vi{constructor(n,t,i){super();let r;if(ce(n)||!n)r={next:n??void 0,error:t??void 0,complete:i??void 0};else{let o;this&&un.useDeprecatedNextContext?(o=Object.create(n),o.unsubscribe=()=>this.unsubscribe(),r={next:n.next&&sd(n.next,o),error:n.error&&sd(n.error,o),complete:n.complete&&sd(n.complete,o)}):r=n}this.destination=new cd(r)}};function bs(e){un.useDeprecatedSynchronousErrorHandling?kh(e):_s(e)}function f1(e){throw e}function ld(e,n){let{onStoppedNotification:t}=un;t&&wr.setTimeout(()=>t(e,n))}var p1={closed:!0,next:Fo,error:f1,complete:Fo};var Ar=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Bt(e){return e}function ud(...e){return dd(e)}function dd(e){return e.length===0?Bt:e.length===1?e[0]:function(t){return e.reduce((i,r)=>r(i),t)}}var ve=(()=>{class e{constructor(t){t&&(this._subscribe=t)}lift(t){let i=new e;return i.source=this,i.operator=t,i}subscribe(t,i,r){let o=h1(t)?t:new Mr(t,i,r);return Tr(()=>{let{operator:a,source:l}=this;o.add(a?a.call(o,l):l?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(i){t.error(i)}}forEach(t,i){return i=Lh(i),new i((r,o)=>{let a=new Mr({next:l=>{try{t(l)}catch(d){o(d),a.unsubscribe()}},error:o,complete:r});this.subscribe(a)})}_subscribe(t){var i;return(i=this.source)===null||i===void 0?void 0:i.subscribe(t)}[Ar](){return this}pipe(...t){return dd(t)(this)}toPromise(t){return t=Lh(t),new t((i,r)=>{let o;this.subscribe(a=>o=a,a=>r(a),()=>i(o))})}}return e.create=n=>new e(n),e})();function Lh(e){var n;return(n=e??un.Promise)!==null&&n!==void 0?n:Promise}function m1(e){return e&&ce(e.next)&&ce(e.error)&&ce(e.complete)}function h1(e){return e&&e instanceof Vi||m1(e)&&ys(e)}function fd(e){return ce(e?.lift)}function ye(e){return n=>{if(fd(n))return n.lift(function(t){try{return e(t,this)}catch(i){this.error(i)}});throw new TypeError("Unable to lift unknown Observable type")}}function Ce(e,n,t,i,r){return new pd(e,n,t,i,r)}var pd=class extends Vi{constructor(n,t,i,r,o,a){super(n),this.onFinalize=o,this.shouldUnsubscribe=a,this._next=t?function(l){try{t(l)}catch(d){n.error(d)}}:super._next,this._error=r?function(l){try{r(l)}catch(d){n.error(d)}finally{this.unsubscribe()}}:super._error,this._complete=i?function(){try{i()}catch(l){n.error(l)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var n;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((n=this.onFinalize)===null||n===void 0||n.call(this))}}};function Nr(){return ye((e,n)=>{let t=null;e._refCount++;let i=Ce(n,void 0,void 0,void 0,()=>{if(!e||e._refCount<=0||0<--e._refCount){t=null;return}let r=e._connection,o=t;t=null,r&&(!o||r===o)&&r.unsubscribe(),n.unsubscribe()});e.subscribe(i),i.closed||(t=e.connect())})}var Rr=class extends ve{constructor(n,t){super(),this.source=n,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,fd(n)&&(this.lift=n.lift)}_subscribe(n){return this.getSubject().subscribe(n)}getSubject(){let n=this._subject;return(!n||n.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:n}=this;this._subject=this._connection=null,n?.unsubscribe()}connect(){let n=this._connection;if(!n){n=this._connection=new Qe;let t=this.getSubject();n.add(this.source.subscribe(Ce(t,void 0,()=>{this._teardown(),t.complete()},i=>{this._teardown(),t.error(i)},()=>this._teardown()))),n.closed&&(this._connection=null,n=Qe.EMPTY)}return n}refCount(){return Nr()(this)}};var Vh=Ir(e=>function(){e(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var Ke=(()=>{class e extends ve{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let i=new Es(this,this);return i.operator=t,i}_throwIfClosed(){if(this.closed)throw new Vh}next(t){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let i of this.currentObservers)i.next(t)}})}error(t){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:i}=this;for(;i.length;)i.shift().error(t)}})}complete(){Tr(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:i,isStopped:r,observers:o}=this;return i||r?od:(this.currentObservers=null,o.push(t),new Qe(()=>{this.currentObservers=null,Ro(o,t)}))}_checkFinalizedStatuses(t){let{hasError:i,thrownError:r,isStopped:o}=this;i?t.error(r):o&&t.complete()}asObservable(){let t=new ve;return t.source=this,t}}return e.create=(n,t)=>new Es(n,t),e})(),Es=class extends Ke{constructor(n,t){super(),this.destination=n,this.source=t}next(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.next)===null||i===void 0||i.call(t,n)}error(n){var t,i;(i=(t=this.destination)===null||t===void 0?void 0:t.error)===null||i===void 0||i.call(t,n)}complete(){var n,t;(t=(n=this.destination)===null||n===void 0?void 0:n.complete)===null||t===void 0||t.call(n)}_subscribe(n){var t,i;return(i=(t=this.source)===null||t===void 0?void 0:t.subscribe(n))!==null&&i!==void 0?i:od}};var mt=class extends Ke{constructor(n){super(),this._value=n}get value(){return this.getValue()}_subscribe(n){let t=super._subscribe(n);return!t.closed&&n.next(this._value),t}getValue(){let{hasError:n,thrownError:t,_value:i}=this;if(n)throw t;return this._throwIfClosed(),i}next(n){super.next(this._value=n)}};var Ot=new ve(e=>e.complete());function jh(e){return e&&ce(e.schedule)}function Uh(e){return e[e.length-1]}function Ds(e){return ce(Uh(e))?e.pop():void 0}function fi(e){return jh(Uh(e))?e.pop():void 0}function $h(e,n,t,i){function r(o){return o instanceof t?o:new t(function(a){a(o)})}return new(t||(t=Promise))(function(o,a){function l(h){try{p(i.next(h))}catch(_){a(_)}}function d(h){try{p(i.throw(h))}catch(_){a(_)}}function p(h){h.done?o(h.value):r(h.value).then(l,d)}p((i=i.apply(e,n||[])).next())})}function Bh(e){var n=typeof Symbol=="function"&&Symbol.iterator,t=n&&e[n],i=0;if(t)return t.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&i>=e.length&&(e=void 0),{value:e&&e[i++],done:!e}}};throw new TypeError(n?"Object is not iterable.":"Symbol.iterator is not defined.")}function ji(e){return this instanceof ji?(this.v=e,this):new ji(e)}function Hh(e,n,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i=t.apply(e,n||[]),r,o=[];return r=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),l("next"),l("throw"),l("return",a),r[Symbol.asyncIterator]=function(){return this},r;function a(b){return function(x){return Promise.resolve(x).then(b,_)}}function l(b,x){i[b]&&(r[b]=function(B){return new Promise(function(j,U){o.push([b,B,j,U])>1||d(b,B)})},x&&(r[b]=x(r[b])))}function d(b,x){try{p(i[b](x))}catch(B){S(o[0][3],B)}}function p(b){b.value instanceof ji?Promise.resolve(b.value.v).then(h,_):S(o[0][2],b)}function h(b){d("next",b)}function _(b){d("throw",b)}function S(b,x){b(x),o.shift(),o.length&&d(o[0][0],o[0][1])}}function Gh(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=e[Symbol.asyncIterator],t;return n?n.call(e):(e=typeof Bh=="function"?Bh(e):e[Symbol.iterator](),t={},i("next"),i("throw"),i("return"),t[Symbol.asyncIterator]=function(){return this},t);function i(o){t[o]=e[o]&&function(a){return new Promise(function(l,d){a=e[o](a),r(l,d,a.done,a.value)})}}function r(o,a,l,d){Promise.resolve(d).then(function(p){o({value:p,done:l})},a)}}var Ss=e=>e&&typeof e.length=="number"&&typeof e!="function";function xs(e){return ce(e?.then)}function Is(e){return ce(e[Ar])}function ws(e){return Symbol.asyncIterator&&ce(e?.[Symbol.asyncIterator])}function Ts(e){return new TypeError(`You provided ${e!==null&&typeof e=="object"?"an invalid object":`'${e}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function g1(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Ms=g1();function As(e){return ce(e?.[Ms])}function Ns(e){return Hh(this,arguments,function*(){let t=e.getReader();try{for(;;){let{value:i,done:r}=yield ji(t.read());if(r)return yield ji(void 0);yield yield ji(i)}}finally{t.releaseLock()}})}function Rs(e){return ce(e?.getReader)}function Je(e){if(e instanceof ve)return e;if(e!=null){if(Is(e))return v1(e);if(Ss(e))return C1(e);if(xs(e))return y1(e);if(ws(e))return zh(e);if(As(e))return _1(e);if(Rs(e))return b1(e)}throw Ts(e)}function v1(e){return new ve(n=>{let t=e[Ar]();if(ce(t.subscribe))return t.subscribe(n);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function C1(e){return new ve(n=>{for(let t=0;t<e.length&&!n.closed;t++)n.next(e[t]);n.complete()})}function y1(e){return new ve(n=>{e.then(t=>{n.closed||(n.next(t),n.complete())},t=>n.error(t)).then(null,_s)})}function _1(e){return new ve(n=>{for(let t of e)if(n.next(t),n.closed)return;n.complete()})}function zh(e){return new ve(n=>{E1(e,n).catch(t=>n.error(t))})}function b1(e){return zh(Ns(e))}function E1(e,n){var t,i,r,o;return $h(this,void 0,void 0,function*(){try{for(t=Gh(e);i=yield t.next(),!i.done;){let a=i.value;if(n.next(a),n.closed)return}}catch(a){r={error:a}}finally{try{i&&!i.done&&(o=t.return)&&(yield o.call(t))}finally{if(r)throw r.error}}n.complete()})}function Pt(e,n,t,i=0,r=!1){let o=n.schedule(function(){t(),r?e.add(this.schedule(null,i)):this.unsubscribe()},i);if(e.add(o),!r)return o}function Fs(e,n=0){return ye((t,i)=>{t.subscribe(Ce(i,r=>Pt(i,e,()=>i.next(r),n),()=>Pt(i,e,()=>i.complete(),n),r=>Pt(i,e,()=>i.error(r),n)))})}function Os(e,n=0){return ye((t,i)=>{i.add(e.schedule(()=>t.subscribe(i),n))})}function qh(e,n){return Je(e).pipe(Os(n),Fs(n))}function Wh(e,n){return Je(e).pipe(Os(n),Fs(n))}function Zh(e,n){return new ve(t=>{let i=0;return n.schedule(function(){i===e.length?t.complete():(t.next(e[i++]),t.closed||this.schedule())})})}function Yh(e,n){return new ve(t=>{let i;return Pt(t,n,()=>{i=e[Ms](),Pt(t,n,()=>{let r,o;try{({value:r,done:o}=i.next())}catch(a){t.error(a);return}o?t.complete():t.next(r)},0,!0)}),()=>ce(i?.return)&&i.return()})}function Ps(e,n){if(!e)throw new Error("Iterable cannot be null");return new ve(t=>{Pt(t,n,()=>{let i=e[Symbol.asyncIterator]();Pt(t,n,()=>{i.next().then(r=>{r.done?t.complete():t.next(r.value)})},0,!0)})})}function Qh(e,n){return Ps(Ns(e),n)}function Kh(e,n){if(e!=null){if(Is(e))return qh(e,n);if(Ss(e))return Zh(e,n);if(xs(e))return Wh(e,n);if(ws(e))return Ps(e,n);if(As(e))return Yh(e,n);if(Rs(e))return Qh(e,n)}throw Ts(e)}function Oe(e,n){return n?Kh(e,n):Je(e)}function W(...e){let n=fi(e);return Oe(e,n)}function Fr(e,n){let t=ce(e)?e:()=>e,i=r=>r.error(t());return new ve(n?r=>n.schedule(i,0,r):i)}function md(e){return!!e&&(e instanceof ve||ce(e.lift)&&ce(e.subscribe))}var Jn=Ir(e=>function(){e(this),this.name="EmptyError",this.message="no elements in sequence"});function X(e,n){return ye((t,i)=>{let r=0;t.subscribe(Ce(i,o=>{i.next(e.call(n,o,r++))}))})}var{isArray:D1}=Array;function S1(e,n){return D1(n)?e(...n):e(n)}function ks(e){return X(n=>S1(e,n))}var{isArray:x1}=Array,{getPrototypeOf:I1,prototype:w1,keys:T1}=Object;function Ls(e){if(e.length===1){let n=e[0];if(x1(n))return{args:n,keys:null};if(M1(n)){let t=T1(n);return{args:t.map(i=>n[i]),keys:t}}}return{args:e,keys:null}}function M1(e){return e&&typeof e=="object"&&I1(e)===w1}function Vs(e,n){return e.reduce((t,i,r)=>(t[i]=n[r],t),{})}function Oo(...e){let n=fi(e),t=Ds(e),{args:i,keys:r}=Ls(e);if(i.length===0)return Oe([],n);let o=new ve(A1(i,n,r?a=>Vs(r,a):Bt));return t?o.pipe(ks(t)):o}function A1(e,n,t=Bt){return i=>{Jh(n,()=>{let{length:r}=e,o=new Array(r),a=r,l=r;for(let d=0;d<r;d++)Jh(n,()=>{let p=Oe(e[d],n),h=!1;p.subscribe(Ce(i,_=>{o[d]=_,h||(h=!0,l--),l||i.next(t(o.slice()))},()=>{--a||i.complete()}))},i)},i)}}function Jh(e,n,t){e?Pt(t,e,n):n()}function Xh(e,n,t,i,r,o,a,l){let d=[],p=0,h=0,_=!1,S=()=>{_&&!d.length&&!p&&n.complete()},b=B=>p<i?x(B):d.push(B),x=B=>{o&&n.next(B),p++;let j=!1;Je(t(B,h++)).subscribe(Ce(n,U=>{r?.(U),o?b(U):n.next(U)},()=>{j=!0},void 0,()=>{if(j)try{for(p--;d.length&&p<i;){let U=d.shift();a?Pt(n,a,()=>x(U)):x(U)}S()}catch(U){n.error(U)}}))};return e.subscribe(Ce(n,b,()=>{_=!0,S()})),()=>{l?.()}}function qe(e,n,t=1/0){return ce(n)?qe((i,r)=>X((o,a)=>n(i,o,r,a))(Je(e(i,r))),t):(typeof n=="number"&&(t=n),ye((i,r)=>Xh(i,r,e,t)))}function Or(e=1/0){return qe(Bt,e)}function eg(){return Or(1)}function Pr(...e){return eg()(Oe(e,fi(e)))}function Po(e){return new ve(n=>{Je(e()).subscribe(n)})}function hd(...e){let n=Ds(e),{args:t,keys:i}=Ls(e),r=new ve(o=>{let{length:a}=t;if(!a){o.complete();return}let l=new Array(a),d=a,p=a;for(let h=0;h<a;h++){let _=!1;Je(t[h]).subscribe(Ce(o,S=>{_||(_=!0,p--),l[h]=S},()=>d--,void 0,()=>{(!d||!_)&&(p||o.next(i?Vs(i,l):l),o.complete())}))}});return n?r.pipe(ks(n)):r}function tt(e,n){return ye((t,i)=>{let r=0;t.subscribe(Ce(i,o=>e.call(n,o,r++)&&i.next(o)))})}function Xn(e){return ye((n,t)=>{let i=null,r=!1,o;i=n.subscribe(Ce(t,void 0,void 0,a=>{o=Je(e(a,Xn(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(t)):r=!0})),r&&(i.unsubscribe(),i=null,o.subscribe(t))})}function tg(e,n,t,i,r){return(o,a)=>{let l=t,d=n,p=0;o.subscribe(Ce(a,h=>{let _=p++;d=l?e(d,h,_):(l=!0,h),i&&a.next(d)},r&&(()=>{l&&a.next(d),a.complete()})))}}function Rn(e,n){return ce(n)?qe(e,n,1):qe(e,1)}function pi(e){return ye((n,t)=>{let i=!1;n.subscribe(Ce(t,r=>{i=!0,t.next(r)},()=>{i||t.next(e),t.complete()}))})}function Kt(e){return e<=0?()=>Ot:ye((n,t)=>{let i=0;n.subscribe(Ce(t,r=>{++i<=e&&(t.next(r),e<=i&&t.complete())}))})}function js(e=N1){return ye((n,t)=>{let i=!1;n.subscribe(Ce(t,r=>{i=!0,t.next(r)},()=>i?t.complete():t.error(e())))})}function N1(){return new Jn}function Ui(e){return ye((n,t)=>{try{n.subscribe(t)}finally{t.add(e)}})}function ei(e,n){let t=arguments.length>=2;return i=>i.pipe(e?tt((r,o)=>e(r,o,i)):Bt,Kt(1),t?pi(n):js(()=>new Jn))}function kr(e){return e<=0?()=>Ot:ye((n,t)=>{let i=[];n.subscribe(Ce(t,r=>{i.push(r),e<i.length&&i.shift()},()=>{for(let r of i)t.next(r);t.complete()},void 0,()=>{i=null}))})}function gd(e,n){let t=arguments.length>=2;return i=>i.pipe(e?tt((r,o)=>e(r,o,i)):Bt,kr(1),t?pi(n):js(()=>new Jn))}function vd(e,n){return ye(tg(e,n,arguments.length>=2,!0))}function Cd(...e){let n=fi(e);return ye((t,i)=>{(n?Pr(e,t,n):Pr(e,t)).subscribe(i)})}function ht(e,n){return ye((t,i)=>{let r=null,o=0,a=!1,l=()=>a&&!r&&i.complete();t.subscribe(Ce(i,d=>{r?.unsubscribe();let p=0,h=o++;Je(e(d,h)).subscribe(r=Ce(i,_=>i.next(n?n(d,_,h,p++):_),()=>{r=null,l()}))},()=>{a=!0,l()}))})}function Us(e){return ye((n,t)=>{Je(e).subscribe(Ce(t,()=>t.complete(),Fo)),!t.closed&&n.subscribe(t)})}function lt(e,n,t){let i=ce(e)||n||t?{next:e,error:n,complete:t}:e;return i?ye((r,o)=>{var a;(a=i.subscribe)===null||a===void 0||a.call(i);let l=!0;r.subscribe(Ce(o,d=>{var p;(p=i.next)===null||p===void 0||p.call(i,d),o.next(d)},()=>{var d;l=!1,(d=i.complete)===null||d===void 0||d.call(i),o.complete()},d=>{var p;l=!1,(p=i.error)===null||p===void 0||p.call(i,d),o.error(d)},()=>{var d,p;l&&((d=i.unsubscribe)===null||d===void 0||d.call(i)),(p=i.finalize)===null||p===void 0||p.call(i)}))}):Bt}function ng(e){let n=se(null);try{return e()}finally{se(n)}}var Gs="https://angular.dev/best-practices/security#preventing-cross-site-scripting-xss",O=class extends Error{code;constructor(n,t){super(gi(n,t)),this.code=n}};function R1(e){return`NG0${Math.abs(e)}`}function gi(e,n){return`${R1(e)}${n?": "+n:""}`}var Jt=globalThis;function be(e){for(let n in e)if(e[n]===be)return n;throw Error("")}function og(e,n){for(let t in n)n.hasOwnProperty(t)&&!e.hasOwnProperty(t)&&(e[t]=n[t])}function ni(e){if(typeof e=="string")return e;if(Array.isArray(e))return`[${e.map(ni).join(", ")}]`;if(e==null)return""+e;let n=e.overriddenName||e.name;if(n)return`${n}`;let t=e.toString();if(t==null)return""+t;let i=t.indexOf(`
`);return i>=0?t.slice(0,i):t}function zs(e,n){return e?n?`${e} ${n}`:e:n||""}var F1=be({__forward_ref__:be});function Et(e){return e.__forward_ref__=Et,e.toString=function(){return ni(this())},e}function gt(e){return Ad(e)?e():e}function Ad(e){return typeof e=="function"&&e.hasOwnProperty(F1)&&e.__forward_ref__===Et}function A(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function $t(e){return{providers:e.providers||[],imports:e.imports||[]}}function jo(e){return O1(e,qs)}function Nd(e){return jo(e)!==null}function O1(e,n){return e.hasOwnProperty(n)&&e[n]||null}function P1(e){let n=e?.[qs]??null;return n||null}function _d(e){return e&&e.hasOwnProperty($s)?e[$s]:null}var qs=be({\u0275prov:be}),$s=be({\u0275inj:be}),L=class{_desc;ngMetadataName="InjectionToken";\u0275prov;constructor(n,t){this._desc=n,this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=A({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Rd(e){return e&&!!e.\u0275providers}var Fd=be({\u0275cmp:be}),Od=be({\u0275dir:be}),Pd=be({\u0275pipe:be}),kd=be({\u0275mod:be}),Lo=be({\u0275fac:be}),zi=be({__NG_ELEMENT_ID__:be}),ig=be({__NG_ENV_ID__:be});function Fn(e){return typeof e=="string"?e:e==null?"":String(e)}function ag(e){return typeof e=="function"?e.name||e.toString():typeof e=="object"&&e!=null&&typeof e.type=="function"?e.type.name||e.type.toString():Fn(e)}var sg=be({ngErrorCode:be}),k1=be({ngErrorMessage:be}),L1=be({ngTokenPath:be});function Ld(e,n){return lg("",-200,n)}function Ws(e,n){throw new O(-201,!1)}function lg(e,n,t){let i=new O(n,e);return i[sg]=n,i[k1]=e,t&&(i[L1]=t),i}function V1(e){return e[sg]}var bd;function cg(){return bd}function It(e){let n=bd;return bd=e,n}function Vd(e,n,t){let i=jo(e);if(i&&i.providedIn=="root")return i.value===void 0?i.value=i.factory():i.value;if(t&8)return null;if(n!==void 0)return n;Ws(e,"Injector")}var j1={},Bi=j1,U1="__NG_DI_FLAG__",Ed=class{injector;constructor(n){this.injector=n}retrieve(n,t){let i=$i(t)||0;try{return this.injector.get(n,i&8?null:Bi,i)}catch(r){if(_r(r))return r;throw r}}};function B1(e,n=0){let t=ss();if(t===void 0)throw new O(-203,!1);if(t===null)return Vd(e,void 0,n);{let i=$1(n),r=t.retrieve(e,i);if(_r(r)){if(i.optional)return null;throw r}return r}}function q(e,n=0){return(cg()||B1)(gt(e),n)}function g(e,n){return q(e,$i(n))}function $i(e){return typeof e>"u"||typeof e=="number"?e:0|(e.optional&&8)|(e.host&&1)|(e.self&&2)|(e.skipSelf&&4)}function $1(e){return{optional:!!(e&8),host:!!(e&1),self:!!(e&2),skipSelf:!!(e&4)}}function Dd(e){let n=[];for(let t=0;t<e.length;t++){let i=gt(e[t]);if(Array.isArray(i)){if(i.length===0)throw new O(900,!1);let r,o=0;for(let a=0;a<i.length;a++){let l=i[a],d=H1(l);typeof d=="number"?d===-1?r=l.token:o|=d:r=l}n.push(q(r,o))}else n.push(q(i))}return n}function H1(e){return e[U1]}function mi(e,n){let t=e.hasOwnProperty(Lo);return t?e[Lo]:null}function Zs(e,n){e.forEach(t=>Array.isArray(t)?Zs(t,n):n(t))}function jd(e,n,t){n>=e.length?e.push(t):e.splice(n,0,t)}function Uo(e,n){return n>=e.length-1?e.pop():e.splice(n,1)[0]}function ug(e,n,t,i){let r=e.length;if(r==n)e.push(t,i);else if(r===1)e.push(i,e[0]),e[0]=t;else{for(r--,e.push(e[r-1],e[r]);r>n;){let o=r-2;e[r]=e[o],r--}e[n]=t,e[n+1]=i}}function Ys(e,n,t){let i=Vr(e,n);return i>=0?e[i|1]=t:(i=~i,ug(e,i,n,t)),i}function Qs(e,n){let t=Vr(e,n);if(t>=0)return e[t|1]}function Vr(e,n){return G1(e,n,1)}function G1(e,n,t){let i=0,r=e.length>>t;for(;r!==i;){let o=i+(r-i>>1),a=e[o<<t];if(n===a)return o<<t;a>n?r=o:i=o+1}return~(r<<t)}var vi={},wt=[],On=new L(""),Ud=new L("",-1),Bd=new L(""),Vo=class{get(n,t=Bi){if(t===Bi){let r=lg("",-201);throw r.name="\u0275NotFound",r}return t}};function $d(e){return e[kd]||null}function ri(e){return e[Fd]||null}function Hd(e){return e[Od]||null}function dg(e){return e[Pd]||null}function fn(e){return{\u0275providers:e}}function fg(e){return fn([{provide:On,multi:!0,useValue:e}])}function pg(...e){return{\u0275providers:Gd(!0,e),\u0275fromNgModule:!0}}function Gd(e,...n){let t=[],i=new Set,r,o=a=>{t.push(a)};return Zs(n,a=>{let l=a;Hs(l,o,[],i)&&(r||=[],r.push(l))}),r!==void 0&&mg(r,o),t}function mg(e,n){for(let t=0;t<e.length;t++){let{ngModule:i,providers:r}=e[t];zd(r,o=>{n(o,i)})}}function Hs(e,n,t,i){if(e=gt(e),!e)return!1;let r=null,o=_d(e),a=!o&&ri(e);if(!o&&!a){let d=e.ngModule;if(o=_d(d),o)r=d;else return!1}else{if(a&&!a.standalone)return!1;r=e}let l=i.has(r);if(a){if(l)return!1;if(i.add(r),a.dependencies){let d=typeof a.dependencies=="function"?a.dependencies():a.dependencies;for(let p of d)Hs(p,n,t,i)}}else if(o){if(o.imports!=null&&!l){i.add(r);let p;try{Zs(o.imports,h=>{Hs(h,n,t,i)&&(p||=[],p.push(h))})}finally{}p!==void 0&&mg(p,n)}if(!l){let p=mi(r)||(()=>new r);n({provide:r,useFactory:p,deps:wt},r),n({provide:Bd,useValue:r,multi:!0},r),n({provide:On,useValue:()=>q(r),multi:!0},r)}let d=o.providers;if(d!=null&&!l){let p=e;zd(d,h=>{n(h,p)})}}else return!1;return r!==e&&e.providers!==void 0}function zd(e,n){for(let t of e)Rd(t)&&(t=t.\u0275providers),Array.isArray(t)?zd(t,n):n(t)}var z1=be({provide:String,useValue:be});function hg(e){return e!==null&&typeof e=="object"&&z1 in e}function q1(e){return!!(e&&e.useExisting)}function W1(e){return!!(e&&e.useFactory)}function Hi(e){return typeof e=="function"}function gg(e){return!!e.useClass}var Bo=new L(""),Bs={},rg={},yd;function $o(){return yd===void 0&&(yd=new Vo),yd}var We=class{},Gi=class extends We{parent;source;scopes;records=new Map;_ngOnDestroyHooks=new Set;_onDestroyHooks=[];get destroyed(){return this._destroyed}_destroyed=!1;injectorDefTypes;constructor(n,t,i,r){super(),this.parent=t,this.source=i,this.scopes=r,xd(n,a=>this.processProvider(a)),this.records.set(Ud,Lr(void 0,this)),r.has("environment")&&this.records.set(We,Lr(void 0,this));let o=this.records.get(Bo);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(Bd,wt,{self:!0}))}retrieve(n,t){let i=$i(t)||0;try{return this.get(n,Bi,i)}catch(r){if(_r(r))return r;throw r}}destroy(){ko(this),this._destroyed=!0;let n=se(null);try{for(let i of this._ngOnDestroyHooks)i.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let i of t)i()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),se(n)}}onDestroy(n){return ko(this),this._onDestroyHooks.push(n),()=>this.removeOnDestroy(n)}runInContext(n){ko(this);let t=Nn(this),i=It(void 0),r;try{return n()}finally{Nn(t),It(i)}}get(n,t=Bi,i){if(ko(this),n.hasOwnProperty(ig))return n[ig](this);let r=$i(i),o,a=Nn(this),l=It(void 0);try{if(!(r&4)){let p=this.records.get(n);if(p===void 0){let h=J1(n)&&jo(n);h&&this.injectableDefInScope(h)?p=Lr(Sd(n),Bs):p=null,this.records.set(n,p)}if(p!=null)return this.hydrate(n,p,r)}let d=r&2?$o():this.parent;return t=r&8&&t===Bi?null:t,d.get(n,t)}catch(d){let p=V1(d);throw p===-200||p===-201?new O(p,null):d}finally{It(l),Nn(a)}}resolveInjectorInitializers(){let n=se(null),t=Nn(this),i=It(void 0),r;try{let o=this.get(On,wt,{self:!0});for(let a of o)a()}finally{Nn(t),It(i),se(n)}}toString(){let n=[],t=this.records;for(let i of t.keys())n.push(ni(i));return`R3Injector[${n.join(", ")}]`}processProvider(n){n=gt(n);let t=Hi(n)?n:gt(n&&n.provide),i=Y1(n);if(!Hi(n)&&n.multi===!0){let r=this.records.get(t);r||(r=Lr(void 0,Bs,!0),r.factory=()=>Dd(r.multi),this.records.set(t,r)),t=n,r.multi.push(n)}this.records.set(t,i)}hydrate(n,t,i){let r=se(null);try{if(t.value===rg)throw Ld(ni(n));return t.value===Bs&&(t.value=rg,t.value=t.factory(void 0,i)),typeof t.value=="object"&&t.value&&K1(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{se(r)}}injectableDefInScope(n){if(!n.providedIn)return!1;let t=gt(n.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(n){let t=this._onDestroyHooks.indexOf(n);t!==-1&&this._onDestroyHooks.splice(t,1)}};function Sd(e){let n=jo(e),t=n!==null?n.factory:mi(e);if(t!==null)return t;if(e instanceof L)throw new O(204,!1);if(e instanceof Function)return Z1(e);throw new O(204,!1)}function Z1(e){if(e.length>0)throw new O(204,!1);let t=P1(e);return t!==null?()=>t.factory(e):()=>new e}function Y1(e){if(hg(e))return Lr(void 0,e.useValue);{let n=qd(e);return Lr(n,Bs)}}function qd(e,n,t){let i;if(Hi(e)){let r=gt(e);return mi(r)||Sd(r)}else if(hg(e))i=()=>gt(e.useValue);else if(W1(e))i=()=>e.useFactory(...Dd(e.deps||[]));else if(q1(e))i=(r,o)=>q(gt(e.useExisting),o!==void 0&&o&8?8:void 0);else{let r=gt(e&&(e.useClass||e.provide));if(Q1(e))i=()=>new r(...Dd(e.deps));else return mi(r)||Sd(r)}return i}function ko(e){if(e.destroyed)throw new O(205,!1)}function Lr(e,n,t=!1){return{factory:e,value:n,multi:t?[]:void 0}}function Q1(e){return!!e.deps}function K1(e){return e!==null&&typeof e=="object"&&typeof e.ngOnDestroy=="function"}function J1(e){return typeof e=="function"||typeof e=="object"&&e.ngMetadataName==="InjectionToken"}function xd(e,n){for(let t of e)Array.isArray(t)?xd(t,n):t&&Rd(t)?xd(t.\u0275providers,n):n(t)}function ut(e,n){let t;e instanceof Gi?(ko(e),t=e):t=new Ed(e);let i,r=Nn(t),o=It(void 0);try{return n()}finally{Nn(r),It(o)}}function vg(){return cg()!==void 0||ss()!=null}var pn=0,te=1,le=2,ct=3,Xt=4,en=5,jr=6,Ur=7,Ze=8,Ci=9,Pn=10,Me=11,Br=12,Wd=13,qi=14,Ht=15,Wi=16,Zi=17,Yi=18,Ho=19,Zd=20,ti=21,Ks=22,Go=23,Gt=24,Qi=25,Ki=26,nt=27,Cg=1,Yd=6,yi=7,zo=8,qo=9,it=10;function kn(e){return Array.isArray(e)&&typeof e[Cg]=="object"}function mn(e){return Array.isArray(e)&&e[Cg]===!0}function Qd(e){return(e.flags&4)!==0}function _i(e){return e.componentOffset>-1}function Js(e){return(e.flags&1)===1}function Ln(e){return!!e.template}function $r(e){return(e[le]&512)!==0}function Ji(e){return(e[le]&256)===256}var yg="svg",_g="math";function tn(e){for(;Array.isArray(e);)e=e[pn];return e}function Kd(e,n){return tn(n[e])}function hn(e,n){return tn(n[e.index])}function Wo(e,n){return e.data[n]}function bg(e,n){return e[n]}function Jd(e,n,t,i){t>=e.data.length&&(e.data[t]=null,e.blueprint[t]=null),n[t]=i}function nn(e,n){let t=n[e];return kn(t)?t:t[pn]}function Xs(e){return(e[le]&128)===128}function Eg(e){return mn(e[ct])}function Vn(e,n){return n==null?null:e[n]}function Xd(e){e[Zi]=0}function ef(e){e[le]&1024||(e[le]|=1024,Xs(e)&&Hr(e))}function Dg(e,n){for(;e>0;)n=n[qi],e--;return n}function Zo(e){return!!(e[le]&9216||e[Gt]?.dirty)}function el(e){e[Pn].changeDetectionScheduler?.notify(8),e[le]&64&&(e[le]|=1024),Zo(e)&&Hr(e)}function Hr(e){e[Pn].changeDetectionScheduler?.notify(0);let n=hi(e);for(;n!==null&&!(n[le]&8192||(n[le]|=8192,!Xs(n)));)n=hi(n)}function tf(e,n){if(Ji(e))throw new O(911,!1);e[ti]===null&&(e[ti]=[]),e[ti].push(n)}function Sg(e,n){if(e[ti]===null)return;let t=e[ti].indexOf(n);t!==-1&&e[ti].splice(t,1)}function hi(e){let n=e[ct];return mn(n)?n[ct]:n}function xg(e){return e[Ur]??=[]}function Ig(e){return e.cleanup??=[]}var ge={lFrame:jg(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var Id=!1;function wg(){return ge.lFrame.elementDepthCount}function Tg(){ge.lFrame.elementDepthCount++}function nf(){ge.lFrame.elementDepthCount--}function Mg(){return ge.bindingsEnabled}function Ag(){return ge.skipHydrationRootTNode!==null}function rf(e){return ge.skipHydrationRootTNode===e}function of(){ge.skipHydrationRootTNode=null}function ue(){return ge.lFrame.lView}function rt(){return ge.lFrame.tView}function P(e){return ge.lFrame.contextLView=e,e[Ze]}function k(e){return ge.lFrame.contextLView=null,e}function vt(){let e=af();for(;e!==null&&e.type===64;)e=e.parent;return e}function af(){return ge.lFrame.currentTNode}function Ng(){let e=ge.lFrame,n=e.currentTNode;return e.isParent?n:n.parent}function Gr(e,n){let t=ge.lFrame;t.currentTNode=e,t.isParent=n}function sf(){return ge.lFrame.isParent}function Rg(){ge.lFrame.isParent=!1}function lf(){return Id}function cf(e){let n=Id;return Id=e,n}function Yo(){let e=ge.lFrame,n=e.bindingRootIndex;return n===-1&&(n=e.bindingRootIndex=e.tView.bindingStartIndex),n}function uf(){return ge.lFrame.bindingIndex}function Fg(e){return ge.lFrame.bindingIndex=e}function bi(){return ge.lFrame.bindingIndex++}function Qo(e){let n=ge.lFrame,t=n.bindingIndex;return n.bindingIndex=n.bindingIndex+e,t}function Og(){return ge.lFrame.inI18n}function Pg(e,n){let t=ge.lFrame;t.bindingIndex=t.bindingRootIndex=e,tl(n)}function kg(){return ge.lFrame.currentDirectiveIndex}function tl(e){ge.lFrame.currentDirectiveIndex=e}function Lg(e){let n=ge.lFrame.currentDirectiveIndex;return n===-1?null:e[n]}function df(e){ge.lFrame.currentQueryIndex=e}function X1(e){let n=e[te];return n.type===2?n.declTNode:n.type===1?e[en]:null}function ff(e,n,t){if(t&4){let r=n,o=e;for(;r=r.parent,r===null&&!(t&1);)if(r=X1(o),r===null||(o=o[qi],r.type&10))break;if(r===null)return!1;n=r,e=o}let i=ge.lFrame=Vg();return i.currentTNode=n,i.lView=e,!0}function nl(e){let n=Vg(),t=e[te];ge.lFrame=n,n.currentTNode=t.firstChild,n.lView=e,n.tView=t,n.contextLView=e,n.bindingIndex=t.bindingStartIndex,n.inI18n=!1}function Vg(){let e=ge.lFrame,n=e===null?null:e.child;return n===null?jg(e):n}function jg(e){let n={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null,inI18n:!1};return e!==null&&(e.child=n),n}function Ug(){let e=ge.lFrame;return ge.lFrame=e.parent,e.currentTNode=null,e.lView=null,e}var pf=Ug;function il(){let e=Ug();e.isParent=!0,e.tView=null,e.selectedIndex=-1,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function Bg(e){return(ge.lFrame.contextLView=Dg(e,ge.lFrame.contextLView))[Ze]}function gn(){return ge.lFrame.selectedIndex}function Ei(e){ge.lFrame.selectedIndex=e}function Ko(){let e=ge.lFrame;return Wo(e.tView,e.selectedIndex)}function $g(){return ge.lFrame.currentNamespace}var Hg=!0;function rl(){return Hg}function ol(e){Hg=e}function wd(e,n=null,t=null,i){let r=mf(e,n,t,i);return r.resolveInjectorInitializers(),r}function mf(e,n=null,t=null,i,r=new Set){let o=[t||wt,pg(e)];return i=i||(typeof e=="object"?void 0:ni(e)),new Gi(o,n||$o(),i||null,r)}var Tt=class e{static THROW_IF_NOT_FOUND=Bi;static NULL=new Vo;static create(n,t){if(Array.isArray(n))return wd({name:""},t,n,"");{let i=n.name??"";return wd({name:i},n.parent,n.providers,i)}}static \u0275prov=A({token:e,providedIn:"any",factory:()=>q(Ud)});static __NG_ELEMENT_ID__=-1},Pe=new L(""),vn=(()=>{class e{static __NG_ELEMENT_ID__=eb;static __NG_ENV_ID__=t=>t}return e})(),Td=class extends vn{_lView;constructor(n){super(),this._lView=n}get destroyed(){return Ji(this._lView)}onDestroy(n){let t=this._lView;return tf(t,n),()=>Sg(t,n)}};function eb(){return new Td(ue())}var dn=class{_console=console;handleError(n){this._console.error("ERROR",n)}},Mt=new L("",{providedIn:"root",factory:()=>{let e=g(We),n;return t=>{e.destroyed&&!n?setTimeout(()=>{throw t}):(n??=e.get(dn),n.handleError(t))}}}),Gg={provide:On,useValue:()=>void g(dn),multi:!0},tb=new L("",{providedIn:"root",factory:()=>{let e=g(Pe).defaultView;if(!e)return;let n=g(Mt),t=o=>{n(o.reason),o.preventDefault()},i=o=>{o.error?n(o.error):n(new Error(o.message,{cause:o})),o.preventDefault()},r=()=>{e.addEventListener("unhandledrejection",t),e.addEventListener("error",i)};typeof Zone<"u"?Zone.root.run(r):r(),g(vn).onDestroy(()=>{e.removeEventListener("error",i),e.removeEventListener("unhandledrejection",t)})}});function hf(){return fn([fg(()=>void g(tb))])}function gf(e){return typeof e=="function"&&e[bt]!==void 0}function At(e,n){let[t,i,r]=id(e,n?.equal),o=t,a=o[bt];return o.set=i,o.update=r,o.asReadonly=zg.bind(o),o}function zg(){let e=this[bt];if(e.readonlyFn===void 0){let n=()=>this();n[bt]=e,e.readonlyFn=n}return e.readonlyFn}function vf(e){return gf(e)&&typeof e.set=="function"}var al=(()=>{class e{view;node;constructor(t,i){this.view=t,this.node=i}static __NG_ELEMENT_ID__=nb}return e})();function nb(){return new al(ue(),vt())}var ii=class{},zr=new L("",{providedIn:"root",factory:()=>!1});var Cf=new L(""),yf=new L(""),jn=(()=>{class e{taskId=0;pendingTasks=new Set;destroyed=!1;pendingTask=new mt(!1);get hasPendingTasks(){return this.destroyed?!1:this.pendingTask.value}get hasPendingTasksObservable(){return this.destroyed?new ve(t=>{t.next(!1),t.complete()}):this.pendingTask}add(){!this.hasPendingTasks&&!this.destroyed&&this.pendingTask.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}has(t){return this.pendingTasks.has(t)}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this.hasPendingTasks&&this.pendingTask.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks&&this.pendingTask.next(!1),this.destroyed=!0,this.pendingTask.unsubscribe()}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})(),sl=(()=>{class e{internalPendingTasks=g(jn);scheduler=g(ii);errorHandler=g(Mt);add(){let t=this.internalPendingTasks.add();return()=>{this.internalPendingTasks.has(t)&&(this.scheduler.notify(11),this.internalPendingTasks.remove(t))}}run(t){let i=this.add();t().catch(this.errorHandler).finally(i)}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})();function Jo(...e){}var _f=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:()=>new Md})}return e})(),Md=class{dirtyEffectCount=0;queues=new Map;add(n){this.enqueue(n),this.schedule(n)}schedule(n){n.dirty&&this.dirtyEffectCount++}remove(n){let t=n.zone,i=this.queues.get(t);i.has(n)&&(i.delete(n),n.dirty&&this.dirtyEffectCount--)}enqueue(n){let t=n.zone;this.queues.has(t)||this.queues.set(t,new Set);let i=this.queues.get(t);i.has(n)||i.add(n)}flush(){for(;this.dirtyEffectCount>0;){let n=!1;for(let[t,i]of this.queues)t===null?n||=this.flushQueue(i):n||=t.run(()=>this.flushQueue(i));n||(this.dirtyEffectCount=0)}}flushQueue(n){let t=!1;for(let i of n)i.dirty&&(this.dirtyEffectCount--,t=!0,i.run());return t}};function aa(e){return{toString:e}.toString()}function ub(e){return typeof e=="function"}var vl=class{previousValue;currentValue;firstChange;constructor(n,t,i){this.previousValue=n,this.currentValue=t,this.firstChange=i}isFirstChange(){return this.firstChange}};function I0(e,n,t,i){n!==null?n.applyValueToInputSignal(n,i):e[t]=i}var Dt=(()=>{let e=()=>w0;return e.ngInherit=!0,e})();function w0(e){return e.type.prototype.ngOnChanges&&(e.setInput=fb),db}function db(){let e=M0(this),n=e?.current;if(n){let t=e.previous;if(t===vi)e.previous=n;else for(let i in n)t[i]=n[i];e.current=null,this.ngOnChanges(n)}}function fb(e,n,t,i,r){let o=this.declaredInputs[i],a=M0(e)||pb(e,{previous:vi,current:null}),l=a.current||(a.current={}),d=a.previous,p=d[o];l[o]=new vl(p&&p.currentValue,t,d===vi),I0(e,n,r,t)}var T0="__ngSimpleChanges__";function M0(e){return e[T0]||null}function pb(e,n){return e[T0]=n}var qg=[];var De=function(e,n=null,t){for(let i=0;i<qg.length;i++){let r=qg[i];r(e,n,t)}};function mb(e,n,t){let{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=n.type.prototype;if(i){let a=w0(n);(t.preOrderHooks??=[]).push(e,a),(t.preOrderCheckHooks??=[]).push(e,a)}r&&(t.preOrderHooks??=[]).push(0-e,r),o&&((t.preOrderHooks??=[]).push(e,o),(t.preOrderCheckHooks??=[]).push(e,o))}function hb(e,n){for(let t=n.directiveStart,i=n.directiveEnd;t<i;t++){let o=e.data[t].type.prototype,{ngAfterContentInit:a,ngAfterContentChecked:l,ngAfterViewInit:d,ngAfterViewChecked:p,ngOnDestroy:h}=o;a&&(e.contentHooks??=[]).push(-t,a),l&&((e.contentHooks??=[]).push(t,l),(e.contentCheckHooks??=[]).push(t,l)),d&&(e.viewHooks??=[]).push(-t,d),p&&((e.viewHooks??=[]).push(t,p),(e.viewCheckHooks??=[]).push(t,p)),h!=null&&(e.destroyHooks??=[]).push(t,h)}}function pl(e,n,t){A0(e,n,3,t)}function ml(e,n,t,i){(e[le]&3)===t&&A0(e,n,t,i)}function bf(e,n){let t=e[le];(t&3)===n&&(t&=16383,t+=1,e[le]=t)}function A0(e,n,t,i){let r=i!==void 0?e[Zi]&65535:0,o=i??-1,a=n.length-1,l=0;for(let d=r;d<a;d++)if(typeof n[d+1]=="number"){if(l=n[d],i!=null&&l>=i)break}else n[d]<0&&(e[Zi]+=65536),(l<o||o==-1)&&(gb(e,t,n,d),e[Zi]=(e[Zi]&4294901760)+d+2),d++}function Wg(e,n){De(4,e,n);let t=se(null);try{n.call(e)}finally{se(t),De(5,e,n)}}function gb(e,n,t,i){let r=t[i]<0,o=t[i+1],a=r?-t[i]:t[i],l=e[a];r?e[le]>>14<e[Zi]>>16&&(e[le]&3)===n&&(e[le]+=16384,Wg(l,o)):Wg(l,o)}var Wr=-1,er=class{factory;name;injectImpl;resolving=!1;canSeeViewProviders;multi;componentProviders;index;providerFactory;constructor(n,t,i,r){this.factory=n,this.name=r,this.canSeeViewProviders=t,this.injectImpl=i}};function vb(e){return(e.flags&8)!==0}function Cb(e){return(e.flags&16)!==0}function yb(e,n,t){let i=0;for(;i<t.length;){let r=t[i];if(typeof r=="number"){if(r!==0)break;i++;let o=t[i++],a=t[i++],l=t[i++];e.setAttribute(n,a,l,o)}else{let o=r,a=t[++i];_b(o)?e.setProperty(n,o,a):e.setAttribute(n,o,a),i++}}return i}function N0(e){return e===3||e===4||e===6}function _b(e){return e.charCodeAt(0)===64}function Zr(e,n){if(!(n===null||n.length===0))if(e===null||e.length===0)e=n.slice();else{let t=-1;for(let i=0;i<n.length;i++){let r=n[i];typeof r=="number"?t=r:t===0||(t===-1||t===2?Zg(e,t,r,null,n[++i]):Zg(e,t,r,null,null))}}return e}function Zg(e,n,t,i,r){let o=0,a=e.length;if(n===-1)a=-1;else for(;o<e.length;){let l=e[o++];if(typeof l=="number"){if(l===n){a=-1;break}else if(l>n){a=o-1;break}}}for(;o<e.length;){let l=e[o];if(typeof l=="number")break;if(l===t){r!==null&&(e[o+1]=r);return}o++,r!==null&&o++}a!==-1&&(e.splice(a,0,n),o=a+1),e.splice(o++,0,t),r!==null&&e.splice(o++,0,r)}function R0(e){return e!==Wr}function Cl(e){return e&32767}function bb(e){return e>>16}function yl(e,n){let t=bb(e),i=n;for(;t>0;)i=i[qi],t--;return i}var Rf=!0;function _l(e){let n=Rf;return Rf=e,n}var Eb=256,F0=Eb-1,O0=5,Db=0,Un={};function Sb(e,n,t){let i;typeof t=="string"?i=t.charCodeAt(0)||0:t.hasOwnProperty(zi)&&(i=t[zi]),i==null&&(i=t[zi]=Db++);let r=i&F0,o=1<<r;n.data[e+(r>>O0)]|=o}function bl(e,n){let t=P0(e,n);if(t!==-1)return t;let i=n[te];i.firstCreatePass&&(e.injectorIndex=n.length,Ef(i.data,e),Ef(n,null),Ef(i.blueprint,null));let r=fp(e,n),o=e.injectorIndex;if(R0(r)){let a=Cl(r),l=yl(r,n),d=l[te].data;for(let p=0;p<8;p++)n[o+p]=l[a+p]|d[a+p]}return n[o+8]=r,o}function Ef(e,n){e.push(0,0,0,0,0,0,0,0,n)}function P0(e,n){return e.injectorIndex===-1||e.parent&&e.parent.injectorIndex===e.injectorIndex||n[e.injectorIndex+8]===null?-1:e.injectorIndex}function fp(e,n){if(e.parent&&e.parent.injectorIndex!==-1)return e.parent.injectorIndex;let t=0,i=null,r=n;for(;r!==null;){if(i=U0(r),i===null)return Wr;if(t++,r=r[qi],i.injectorIndex!==-1)return i.injectorIndex|t<<16}return Wr}function Ff(e,n,t){Sb(e,n,t)}function xb(e,n){if(n==="class")return e.classes;if(n==="style")return e.styles;let t=e.attrs;if(t){let i=t.length,r=0;for(;r<i;){let o=t[r];if(N0(o))break;if(o===0)r=r+2;else if(typeof o=="number")for(r++;r<i&&typeof t[r]=="string";)r++;else{if(o===n)return t[r+1];r=r+2}}}return null}function k0(e,n,t){if(t&8||e!==void 0)return e;Ws(n,"NodeInjector")}function L0(e,n,t,i){if(t&8&&i===void 0&&(i=null),(t&3)===0){let r=e[Ci],o=It(void 0);try{return r?r.get(n,i,t&8):Vd(n,i,t&8)}finally{It(o)}}return k0(i,n,t)}function V0(e,n,t,i=0,r){if(e!==null){if(n[le]&2048&&!(i&2)){let a=Ab(e,n,t,i,Un);if(a!==Un)return a}let o=j0(e,n,t,i,Un);if(o!==Un)return o}return L0(n,t,i,r)}function j0(e,n,t,i,r){let o=Tb(t);if(typeof o=="function"){if(!ff(n,e,i))return i&1?k0(r,t,i):L0(n,t,i,r);try{let a;if(a=o(i),a==null&&!(i&8))Ws(t);else return a}finally{pf()}}else if(typeof o=="number"){let a=null,l=P0(e,n),d=Wr,p=i&1?n[Ht][en]:null;for((l===-1||i&4)&&(d=l===-1?fp(e,n):n[l+8],d===Wr||!Qg(i,!1)?l=-1:(a=n[te],l=Cl(d),n=yl(d,n)));l!==-1;){let h=n[te];if(Yg(o,l,h.data)){let _=Ib(l,n,t,a,i,p);if(_!==Un)return _}d=n[l+8],d!==Wr&&Qg(i,n[te].data[l+8]===p)&&Yg(o,l,n)?(a=h,l=Cl(d),n=yl(d,n)):l=-1}}return r}function Ib(e,n,t,i,r,o){let a=n[te],l=a.data[e+8],d=i==null?_i(l)&&Rf:i!=a&&(l.type&3)!==0,p=r&1&&o===l,h=wb(l,a,t,d,p);return h!==null?El(n,a,h,l,r):Un}function wb(e,n,t,i,r){let o=e.providerIndexes,a=n.data,l=o&1048575,d=e.directiveStart,p=e.directiveEnd,h=o>>20,_=i?l:l+h,S=r?l+h:p;for(let b=_;b<S;b++){let x=a[b];if(b<d&&t===x||b>=d&&x.type===t)return b}if(r){let b=a[d];if(b&&Ln(b)&&b.type===t)return d}return null}function El(e,n,t,i,r){let o=e[t],a=n.data;if(o instanceof er){let l=o;if(l.resolving){let b=ag(a[t]);throw Ld(b)}let d=_l(l.canSeeViewProviders);l.resolving=!0;let p=a[t].type||a[t],h,_=l.injectImpl?It(l.injectImpl):null,S=ff(e,i,0);try{o=e[t]=l.factory(void 0,r,a,e,i),n.firstCreatePass&&t>=i.directiveStart&&mb(t,a[t],n)}finally{_!==null&&It(_),_l(d),l.resolving=!1,pf()}}return o}function Tb(e){if(typeof e=="string")return e.charCodeAt(0)||0;let n=e.hasOwnProperty(zi)?e[zi]:void 0;return typeof n=="number"?n>=0?n&F0:Mb:n}function Yg(e,n,t){let i=1<<e;return!!(t[n+(e>>O0)]&i)}function Qg(e,n){return!(e&2)&&!(e&1&&n)}var Xi=class{_tNode;_lView;constructor(n,t){this._tNode=n,this._lView=t}get(n,t,i){return V0(this._tNode,this._lView,n,$i(i),t)}};function Mb(){return new Xi(vt(),ue())}function rn(e){return aa(()=>{let n=e.prototype.constructor,t=n[Lo]||Of(n),i=Object.prototype,r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){let o=r[Lo]||Of(r);if(o&&o!==t)return o;r=Object.getPrototypeOf(r)}return o=>new o})}function Of(e){return Ad(e)?()=>{let n=Of(gt(e));return n&&n()}:mi(e)}function Ab(e,n,t,i,r){let o=e,a=n;for(;o!==null&&a!==null&&a[le]&2048&&!$r(a);){let l=j0(o,a,t,i|2,Un);if(l!==Un)return l;let d=o.parent;if(!d){let p=a[Zd];if(p){let h=p.get(t,Un,i);if(h!==Un)return h}d=U0(a),a=a[qi]}o=d}return r}function U0(e){let n=e[te],t=n.type;return t===2?n.declTNode:t===1?e[en]:null}function sa(e){return xb(vt(),e)}function Nb(){return pp(vt(),ue())}function pp(e,n){return new on(hn(e,n))}var on=(()=>{class e{nativeElement;constructor(t){this.nativeElement=t}static __NG_ELEMENT_ID__=Nb}return e})();function B0(e){return(e.flags&128)===128}var mp=(function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e})(mp||{}),$0=new Map,Rb=0;function Fb(){return Rb++}function Ob(e){$0.set(e[Ho],e)}function Pf(e){$0.delete(e[Ho])}var Kg="__ngContext__";function Yr(e,n){kn(n)?(e[Kg]=n[Ho],Ob(n)):e[Kg]=n}function H0(e){return z0(e[Br])}function G0(e){return z0(e[Xt])}function z0(e){for(;e!==null&&!mn(e);)e=e[Xt];return e}var kf;function hp(e){kf=e}function q0(){if(kf!==void 0)return kf;if(typeof document<"u")return document;throw new O(210,!1)}var Ll=new L("",{providedIn:"root",factory:()=>Pb}),Pb="ng",Vl=new L(""),Jr=new L("",{providedIn:"platform",factory:()=>"unknown"});var jl=new L("",{providedIn:"root",factory:()=>q0().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var kb="h",Lb="b";var W0="r";var Z0="di";var Y0=!1,Q0=new L("",{providedIn:"root",factory:()=>Y0});var Ul=new L("");var Vb=(e,n,t,i)=>{};function jb(e,n,t,i){Vb(e,n,t,i)}function gp(e){return(e.flags&32)===32}var Ub=()=>null;function K0(e,n,t=!1){return Ub(e,n,t)}function J0(e,n){let t=e.contentQueries;if(t!==null){let i=se(null);try{for(let r=0;r<t.length;r+=2){let o=t[r],a=t[r+1];if(a!==-1){let l=e.data[a];df(o),l.contentQueries(2,n[a],a)}}}finally{se(i)}}}function Lf(e,n,t){df(0);let i=se(null);try{n(e,t)}finally{se(i)}}function X0(e,n,t){if(Qd(n)){let i=se(null);try{let r=n.directiveStart,o=n.directiveEnd;for(let a=r;a<o;a++){let l=e.data[a];if(l.contentQueries){let d=t[a];l.contentQueries(1,d,a)}}}finally{se(i)}}}var oi=(function(e){return e[e.Emulated=0]="Emulated",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e})(oi||{}),ll;function Bb(){if(ll===void 0&&(ll=null,Jt.trustedTypes))try{ll=Jt.trustedTypes.createPolicy("angular",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return ll}function Bl(e){return Bb()?.createHTML(e)||e}var cl;function $b(){if(cl===void 0&&(cl=null,Jt.trustedTypes))try{cl=Jt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:e=>e,createScript:e=>e,createScriptURL:e=>e})}catch{}return cl}function Jg(e){return $b()?.createScriptURL(e)||e}var ai=class{changingThisBreaksApplicationSecurity;constructor(n){this.changingThisBreaksApplicationSecurity=n}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Gs})`}},Vf=class extends ai{getTypeName(){return"HTML"}},jf=class extends ai{getTypeName(){return"Style"}},Uf=class extends ai{getTypeName(){return"Script"}},Bf=class extends ai{getTypeName(){return"URL"}},$f=class extends ai{getTypeName(){return"ResourceURL"}};function an(e){return e instanceof ai?e.changingThisBreaksApplicationSecurity:e}function si(e,n){let t=ev(e);if(t!=null&&t!==n){if(t==="ResourceURL"&&n==="URL")return!0;throw new Error(`Required a safe ${n}, got a ${t} (see ${Gs})`)}return t===n}function ev(e){return e instanceof ai&&e.getTypeName()||null}function vp(e){return new Vf(e)}function Cp(e){return new jf(e)}function yp(e){return new Uf(e)}function _p(e){return new Bf(e)}function bp(e){return new $f(e)}function Hb(e){let n=new Gf(e);return Gb()?new Hf(n):n}var Hf=class{inertDocumentHelper;constructor(n){this.inertDocumentHelper=n}getInertBodyElement(n){n="<body><remove></remove>"+n;try{let t=new window.DOMParser().parseFromString(Bl(n),"text/html").body;return t===null?this.inertDocumentHelper.getInertBodyElement(n):(t.firstChild?.remove(),t)}catch{return null}}},Gf=class{defaultDoc;inertDocument;constructor(n){this.defaultDoc=n,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(n){let t=this.inertDocument.createElement("template");return t.innerHTML=Bl(n),t}};function Gb(){try{return!!new window.DOMParser().parseFromString(Bl(""),"text/html")}catch{return!1}}var zb=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function la(e){return e=String(e),e.match(zb)?e:"unsafe:"+e}function li(e){let n={};for(let t of e.split(","))n[t]=!0;return n}function ca(...e){let n={};for(let t of e)for(let i in t)t.hasOwnProperty(i)&&(n[i]=!0);return n}var tv=li("area,br,col,hr,img,wbr"),nv=li("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),iv=li("rp,rt"),qb=ca(iv,nv),Wb=ca(nv,li("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Zb=ca(iv,li("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Xg=ca(tv,Wb,Zb,qb),rv=li("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Yb=li("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Qb=li("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"),Kb=ca(rv,Yb,Qb),Jb=li("script,style,template"),zf=class{sanitizedSomething=!1;buf=[];sanitizeChildren(n){let t=n.firstChild,i=!0,r=[];for(;t;){if(t.nodeType===Node.ELEMENT_NODE?i=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,i&&t.firstChild){r.push(t),t=tE(t);continue}for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let o=eE(t);if(o){t=o;break}t=r.pop()}}return this.buf.join("")}startElement(n){let t=e0(n).toLowerCase();if(!Xg.hasOwnProperty(t))return this.sanitizedSomething=!0,!Jb.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);let i=n.attributes;for(let r=0;r<i.length;r++){let o=i.item(r),a=o.name,l=a.toLowerCase();if(!Kb.hasOwnProperty(l)){this.sanitizedSomething=!0;continue}let d=o.value;rv[l]&&(d=la(d)),this.buf.push(" ",a,'="',t0(d),'"')}return this.buf.push(">"),!0}endElement(n){let t=e0(n).toLowerCase();Xg.hasOwnProperty(t)&&!tv.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(n){this.buf.push(t0(n))}};function Xb(e,n){return(e.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY)!==Node.DOCUMENT_POSITION_CONTAINED_BY}function eE(e){let n=e.nextSibling;if(n&&e!==n.previousSibling)throw ov(n);return n}function tE(e){let n=e.firstChild;if(n&&Xb(e,n))throw ov(n);return n}function e0(e){let n=e.nodeName;return typeof n=="string"?n:"FORM"}function ov(e){return new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`)}var nE=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,iE=/([^\#-~ |!])/g;function t0(e){return e.replace(/&/g,"&amp;").replace(nE,function(n){let t=n.charCodeAt(0),i=n.charCodeAt(1);return"&#"+((t-55296)*1024+(i-56320)+65536)+";"}).replace(iE,function(n){return"&#"+n.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}var ul;function Ep(e,n){let t=null;try{ul=ul||Hb(e);let i=n?String(n):"";t=ul.getInertBodyElement(i);let r=5,o=i;do{if(r===0)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=t.innerHTML,t=ul.getInertBodyElement(i)}while(i!==o);let l=new zf().sanitizeChildren(n0(t)||t);return Bl(l)}finally{if(t){let i=n0(t)||t;for(;i.firstChild;)i.firstChild.remove()}}}function n0(e){return"content"in e&&rE(e)?e.content:null}function rE(e){return e.nodeType===Node.ELEMENT_NODE&&e.nodeName==="TEMPLATE"}var _n=(function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e})(_n||{});function Xe(e){let n=av();return n?n.sanitize(_n.URL,e)||"":si(e,"URL")?an(e):la(Fn(e))}function $l(e){let n=av();if(n)return Jg(n.sanitize(_n.RESOURCE_URL,e)||"");if(si(e,"ResourceURL"))return Jg(an(e));throw new O(904,!1)}function oE(e,n){return n==="src"&&(e==="embed"||e==="frame"||e==="iframe"||e==="media"||e==="script")||n==="href"&&(e==="base"||e==="link")?$l:Xe}function Dp(e,n,t){return oE(n,t)(e)}function av(){let e=ue();return e&&e[Pn].sanitizer}function sv(e){return e instanceof Function?e():e}function aE(e,n,t){let i=e.length;for(;;){let r=e.indexOf(n,t);if(r===-1)return r;if(r===0||e.charCodeAt(r-1)<=32){let o=n.length;if(r+o===i||e.charCodeAt(r+o)<=32)return r}t=r+1}}var lv="ng-template";function sE(e,n,t,i){let r=0;if(i){for(;r<n.length&&typeof n[r]=="string";r+=2)if(n[r]==="class"&&aE(n[r+1].toLowerCase(),t,0)!==-1)return!0}else if(Sp(e))return!1;if(r=n.indexOf(1,r),r>-1){let o;for(;++r<n.length&&typeof(o=n[r])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Sp(e){return e.type===4&&e.value!==lv}function lE(e,n,t){let i=e.type===4&&!t?lv:e.value;return n===i}function cE(e,n,t){let i=4,r=e.attrs,o=r!==null?fE(r):0,a=!1;for(let l=0;l<n.length;l++){let d=n[l];if(typeof d=="number"){if(!a&&!Cn(i)&&!Cn(d))return!1;if(a&&Cn(d))continue;a=!1,i=d|i&1;continue}if(!a)if(i&4){if(i=2|i&1,d!==""&&!lE(e,d,t)||d===""&&n.length===1){if(Cn(i))return!1;a=!0}}else if(i&8){if(r===null||!sE(e,r,d,t)){if(Cn(i))return!1;a=!0}}else{let p=n[++l],h=uE(d,r,Sp(e),t);if(h===-1){if(Cn(i))return!1;a=!0;continue}if(p!==""){let _;if(h>o?_="":_=r[h+1].toLowerCase(),i&2&&p!==_){if(Cn(i))return!1;a=!0}}}}return Cn(i)||a}function Cn(e){return(e&1)===0}function uE(e,n,t,i){if(n===null)return-1;let r=0;if(i||!t){let o=!1;for(;r<n.length;){let a=n[r];if(a===e)return r;if(a===3||a===6)o=!0;else if(a===1||a===2){let l=n[++r];for(;typeof l=="string";)l=n[++r];continue}else{if(a===4)break;if(a===0){r+=4;continue}}r+=o?1:2}return-1}else return pE(n,e)}function dE(e,n,t=!1){for(let i=0;i<n.length;i++)if(cE(e,n[i],t))return!0;return!1}function fE(e){for(let n=0;n<e.length;n++){let t=e[n];if(N0(t))return n}return e.length}function pE(e,n){let t=e.indexOf(4);if(t>-1)for(t++;t<e.length;){let i=e[t];if(typeof i=="number")return-1;if(i===n)return t;t++}return-1}function i0(e,n){return e?":not("+n.trim()+")":n}function mE(e){let n=e[0],t=1,i=2,r="",o=!1;for(;t<e.length;){let a=e[t];if(typeof a=="string")if(i&2){let l=e[++t];r+="["+a+(l.length>0?'="'+l+'"':"")+"]"}else i&8?r+="."+a:i&4&&(r+=" "+a);else r!==""&&!Cn(a)&&(n+=i0(o,r),r=""),i=a,o=o||!Cn(i);t++}return r!==""&&(n+=i0(o,r)),n}function hE(e){return e.map(mE).join(",")}function gE(e){let n=[],t=[],i=1,r=2;for(;i<e.length;){let o=e[i];if(typeof o=="string")r===2?o!==""&&n.push(o,e[++i]):r===8&&t.push(o);else{if(!Cn(r))break;r=o}i++}return t.length&&n.push(1,...t),n}var Ct={};function vE(e,n){return e.createText(n)}function CE(e,n,t){e.setValue(n,t)}function cv(e,n,t){return e.createElement(n,t)}function Dl(e,n,t,i,r){e.insertBefore(n,t,i,r)}function uv(e,n,t){e.appendChild(n,t)}function r0(e,n,t,i,r){i!==null?Dl(e,n,t,i,r):uv(e,n,t)}function dv(e,n,t,i){e.removeChild(null,n,t,i)}function yE(e,n,t){e.setAttribute(n,"style",t)}function _E(e,n,t){t===""?e.removeAttribute(n,"class"):e.setAttribute(n,"class",t)}function fv(e,n,t){let{mergedAttrs:i,classes:r,styles:o}=t;i!==null&&yb(e,n,i),r!==null&&_E(e,n,r),o!==null&&yE(e,n,o)}function xp(e,n,t,i,r,o,a,l,d,p,h){let _=nt+i,S=_+r,b=bE(_,S),x=typeof p=="function"?p():p;return b[te]={type:e,blueprint:b,template:t,queries:null,viewQuery:l,declTNode:n,data:b.slice().fill(null,_),bindingStartIndex:_,expandoStartIndex:S,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof a=="function"?a():a,firstChild:null,schemas:d,consts:x,incompleteFirstPass:!1,ssrId:h}}function bE(e,n){let t=[];for(let i=0;i<n;i++)t.push(i<e?null:Ct);return t}function EE(e){let n=e.tView;return n===null||n.incompleteFirstPass?e.tView=xp(1,null,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts,e.id):n}function Ip(e,n,t,i,r,o,a,l,d,p,h){let _=n.blueprint.slice();return _[pn]=r,_[le]=i|4|128|8|64|1024,(p!==null||e&&e[le]&2048)&&(_[le]|=2048),Xd(_),_[ct]=_[qi]=e,_[Ze]=t,_[Pn]=a||e&&e[Pn],_[Me]=l||e&&e[Me],_[Ci]=d||e&&e[Ci]||null,_[en]=o,_[Ho]=Fb(),_[jr]=h,_[Zd]=p,_[Ht]=n.type==2?e[Ht]:_,_}function DE(e,n,t){let i=hn(n,e),r=EE(t),o=e[Pn].rendererFactory,a=wp(e,Ip(e,r,null,pv(t),i,n,null,o.createRenderer(i,t),null,null,null));return e[n.index]=a}function pv(e){let n=16;return e.signals?n=4096:e.onPush&&(n=64),n}function mv(e,n,t,i){if(t===0)return-1;let r=n.length;for(let o=0;o<t;o++)n.push(i),e.blueprint.push(i),e.data.push(null);return r}function wp(e,n){return e[Br]?e[Wd][Xt]=n:e[Br]=n,e[Wd]=n,n}function f(e=1){hv(rt(),ue(),gn()+e,!1)}function hv(e,n,t,i){if(!i)if((n[le]&3)===3){let o=e.preOrderCheckHooks;o!==null&&pl(n,o,t)}else{let o=e.preOrderHooks;o!==null&&ml(n,o,0,t)}Ei(t)}var Hl=(function(e){return e[e.None=0]="None",e[e.SignalBased=1]="SignalBased",e[e.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",e})(Hl||{});function qf(e,n,t,i){let r=se(null);try{let[o,a,l]=e.inputs[t],d=null;(a&Hl.SignalBased)!==0&&(d=n[o][bt]),d!==null&&d.transformFn!==void 0?i=d.transformFn(i):l!==null&&(i=l.call(n,i)),e.setInput!==null?e.setInput(n,d,i,t,o):I0(n,d,o,i)}finally{se(r)}}var Bn=(function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e})(Bn||{}),SE;function Tp(e,n){return SE(e,n)}var Qr=new Set,Gl=(function(e){return e[e.CHANGE_DETECTION=0]="CHANGE_DETECTION",e[e.AFTER_NEXT_RENDER=1]="AFTER_NEXT_RENDER",e})(Gl||{}),ar=new L(""),o0=new Set;function bn(e){o0.has(e)||(o0.add(e),performance?.mark?.("mark_feature_usage",{detail:{feature:e}}))}var gv=!1,Wf=class extends Ke{__isAsync;destroyRef=void 0;pendingTasks=void 0;constructor(n=!1){super(),this.__isAsync=n,vg()&&(this.destroyRef=g(vn,{optional:!0})??void 0,this.pendingTasks=g(jn,{optional:!0})??void 0)}emit(n){let t=se(null);try{super.next(n)}finally{se(t)}}subscribe(n,t,i){let r=n,o=t||(()=>null),a=i;if(n&&typeof n=="object"){let d=n;r=d.next?.bind(d),o=d.error?.bind(d),a=d.complete?.bind(d)}this.__isAsync&&(o=this.wrapInTimeout(o),r&&(r=this.wrapInTimeout(r)),a&&(a=this.wrapInTimeout(a)));let l=super.subscribe({next:r,error:o,complete:a});return n instanceof Qe&&n.add(l),l}wrapInTimeout(n){return t=>{let i=this.pendingTasks?.add();setTimeout(()=>{try{n(t)}finally{i!==void 0&&this.pendingTasks?.remove(i)}})}}},Ae=Wf;function vv(e){let n,t;function i(){e=Jo;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),n!==void 0&&clearTimeout(n)}catch{}}return n=setTimeout(()=>{e(),i()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{e(),i()})),()=>i()}function a0(e){return queueMicrotask(()=>e()),()=>{e=Jo}}var Mp="isAngularZone",Sl=Mp+"_ID",xE=0,je=class e{hasPendingMacrotasks=!1;hasPendingMicrotasks=!1;isStable=!0;onUnstable=new Ae(!1);onMicrotaskEmpty=new Ae(!1);onStable=new Ae(!1);onError=new Ae(!1);constructor(n){let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:i=!1,shouldCoalesceRunChangeDetection:r=!1,scheduleInRootZone:o=gv}=n;if(typeof Zone>"u")throw new O(908,!1);Zone.assertZonePatched();let a=this;a._nesting=0,a._outer=a._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(a._inner=a._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(a._inner=a._inner.fork(Zone.longStackTraceZoneSpec)),a.shouldCoalesceEventChangeDetection=!r&&i,a.shouldCoalesceRunChangeDetection=r,a.callbackScheduled=!1,a.scheduleInRootZone=o,TE(a)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(Mp)===!0}static assertInAngularZone(){if(!e.isInAngularZone())throw new O(909,!1)}static assertNotInAngularZone(){if(e.isInAngularZone())throw new O(909,!1)}run(n,t,i){return this._inner.run(n,t,i)}runTask(n,t,i,r){let o=this._inner,a=o.scheduleEventTask("NgZoneEvent: "+r,n,IE,Jo,Jo);try{return o.runTask(a,t,i)}finally{o.cancelTask(a)}}runGuarded(n,t,i){return this._inner.runGuarded(n,t,i)}runOutsideAngular(n){return this._outer.run(n)}},IE={};function Ap(e){if(e._nesting==0&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function wE(e){if(e.isCheckStableRunning||e.callbackScheduled)return;e.callbackScheduled=!0;function n(){vv(()=>{e.callbackScheduled=!1,Zf(e),e.isCheckStableRunning=!0,Ap(e),e.isCheckStableRunning=!1})}e.scheduleInRootZone?Zone.root.run(()=>{n()}):e._outer.run(()=>{n()}),Zf(e)}function TE(e){let n=()=>{wE(e)},t=xE++;e._inner=e._inner.fork({name:"angular",properties:{[Mp]:!0,[Sl]:t,[Sl+t]:!0},onInvokeTask:(i,r,o,a,l,d)=>{if(ME(d))return i.invokeTask(o,a,l,d);try{return s0(e),i.invokeTask(o,a,l,d)}finally{(e.shouldCoalesceEventChangeDetection&&a.type==="eventTask"||e.shouldCoalesceRunChangeDetection)&&n(),l0(e)}},onInvoke:(i,r,o,a,l,d,p)=>{try{return s0(e),i.invoke(o,a,l,d,p)}finally{e.shouldCoalesceRunChangeDetection&&!e.callbackScheduled&&!AE(d)&&n(),l0(e)}},onHasTask:(i,r,o,a)=>{i.hasTask(o,a),r===o&&(a.change=="microTask"?(e._hasPendingMicrotasks=a.microTask,Zf(e),Ap(e)):a.change=="macroTask"&&(e.hasPendingMacrotasks=a.macroTask))},onHandleError:(i,r,o,a)=>(i.handleError(o,a),e.runOutsideAngular(()=>e.onError.emit(a)),!1)})}function Zf(e){e._hasPendingMicrotasks||(e.shouldCoalesceEventChangeDetection||e.shouldCoalesceRunChangeDetection)&&e.callbackScheduled===!0?e.hasPendingMicrotasks=!0:e.hasPendingMicrotasks=!1}function s0(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function l0(e){e._nesting--,Ap(e)}var xl=class{hasPendingMicrotasks=!1;hasPendingMacrotasks=!1;isStable=!0;onUnstable=new Ae;onMicrotaskEmpty=new Ae;onStable=new Ae;onError=new Ae;run(n,t,i){return n.apply(t,i)}runGuarded(n,t,i){return n.apply(t,i)}runOutsideAngular(n){return n()}runTask(n,t,i,r){return n.apply(t,i)}};function ME(e){return Cv(e,"__ignore_ng_zone__")}function AE(e){return Cv(e,"__scheduler_tick__")}function Cv(e,n){return!Array.isArray(e)||e.length!==1?!1:e[0]?.data?.[n]===!0}var Np=(()=>{class e{impl=null;execute(){this.impl?.execute()}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})(),yv=[0,1,2,3],_v=(()=>{class e{ngZone=g(je);scheduler=g(ii);errorHandler=g(dn,{optional:!0});sequences=new Set;deferredRegistrations=new Set;executing=!1;constructor(){g(ar,{optional:!0})}execute(){let t=this.sequences.size>0;t&&De(16),this.executing=!0;for(let i of yv)for(let r of this.sequences)if(!(r.erroredOrDestroyed||!r.hooks[i]))try{r.pipelinedValue=this.ngZone.runOutsideAngular(()=>this.maybeTrace(()=>{let o=r.hooks[i];return o(r.pipelinedValue)},r.snapshot))}catch(o){r.erroredOrDestroyed=!0,this.errorHandler?.handleError(o)}this.executing=!1;for(let i of this.sequences)i.afterRun(),i.once&&(this.sequences.delete(i),i.destroy());for(let i of this.deferredRegistrations)this.sequences.add(i);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear(),t&&De(17)}register(t){let{view:i}=t;i!==void 0?((i[Qi]??=[]).push(t),Hr(i),i[le]|=8192):this.executing?this.deferredRegistrations.add(t):this.addSequence(t)}addSequence(t){this.sequences.add(t),this.scheduler.notify(7)}unregister(t){this.executing&&this.sequences.has(t)?(t.erroredOrDestroyed=!0,t.pipelinedValue=void 0,t.once=!0):(this.sequences.delete(t),this.deferredRegistrations.delete(t))}maybeTrace(t,i){return i?i.run(Gl.AFTER_NEXT_RENDER,t):t()}static \u0275prov=A({token:e,providedIn:"root",factory:()=>new e})}return e})(),Il=class{impl;hooks;view;once;snapshot;erroredOrDestroyed=!1;pipelinedValue=void 0;unregisterOnDestroy;constructor(n,t,i,r,o,a=null){this.impl=n,this.hooks=t,this.view=i,this.once=r,this.snapshot=a,this.unregisterOnDestroy=o?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.snapshot?.dispose(),this.snapshot=null}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.();let n=this.view?.[Qi];n&&(this.view[Qi]=n.filter(t=>t!==this))}};function ua(e,n){let t=n?.injector??g(Tt);return bn("NgAfterNextRender"),RE(e,t,n,!0)}function NE(e){return e instanceof Function?[void 0,void 0,e,void 0]:[e.earlyRead,e.write,e.mixedReadWrite,e.read]}function RE(e,n,t,i){let r=n.get(Np);r.impl??=n.get(_v);let o=n.get(ar,null,{optional:!0}),a=t?.manualCleanup!==!0?n.get(vn):null,l=n.get(al,null,{optional:!0}),d=new Il(r.impl,NE(e),l?.view,i,a,o?.snapshot(null));return r.impl.register(d),d}var FE=new L("",{providedIn:"root",factory:()=>({queue:new Set,isScheduled:!1,scheduler:null})});function bv(e,n){let t=e.get(FE);if(Array.isArray(n))for(let i of n)t.queue.add(i);else t.queue.add(n);t.scheduler&&t.scheduler(e)}function OE(e,n){for(let[t,i]of n)bv(e,i.animateFns)}function c0(e,n,t,i){let r=e?.[Ki]?.enter;n!==null&&r&&r.has(t.index)&&OE(i,r)}function qr(e,n,t,i,r,o,a,l){if(r!=null){let d,p=!1;mn(r)?d=r:kn(r)&&(p=!0,r=r[pn]);let h=tn(r);e===0&&i!==null?(c0(l,i,o,t),a==null?uv(n,i,h):Dl(n,i,h,a||null,!0)):e===1&&i!==null?(c0(l,i,o,t),Dl(n,i,h,a||null,!0)):e===2?u0(l,o,t,_=>{dv(n,h,p,_)}):e===3&&u0(l,o,t,()=>{n.destroyNode(h)}),d!=null&&WE(n,e,t,d,o,i,a)}}function PE(e,n){Ev(e,n),n[pn]=null,n[en]=null}function kE(e,n,t,i,r,o){i[pn]=r,i[en]=n,ql(e,i,t,1,r,o)}function Ev(e,n){n[Pn].changeDetectionScheduler?.notify(9),ql(e,n,n[Me],2,null,null)}function LE(e){let n=e[Br];if(!n)return Df(e[te],e);for(;n;){let t=null;if(kn(n))t=n[Br];else{let i=n[it];i&&(t=i)}if(!t){for(;n&&!n[Xt]&&n!==e;)kn(n)&&Df(n[te],n),n=n[ct];n===null&&(n=e),kn(n)&&Df(n[te],n),t=n&&n[Xt]}n=t}}function Rp(e,n){let t=e[qo],i=t.indexOf(n);t.splice(i,1)}function zl(e,n){if(Ji(n))return;let t=n[Me];t.destroyNode&&ql(e,n,t,3,null,null),LE(n)}function Df(e,n){if(Ji(n))return;let t=se(null);try{n[le]&=-129,n[le]|=256,n[Gt]&&No(n[Gt]),UE(e,n),jE(e,n),n[te].type===1&&n[Me].destroy();let i=n[Wi];if(i!==null&&mn(n[ct])){i!==n[ct]&&Rp(i,n);let r=n[Yi];r!==null&&r.detachView(e)}Pf(n)}finally{se(t)}}function u0(e,n,t,i){let r=e?.[Ki];if(r==null||r.leave==null||!r.leave.has(n.index))return i(!1);if(r.skipLeaveAnimations)return r.skipLeaveAnimations=!1,i(!1);e&&Qr.add(e),bv(t,()=>{if(r.leave&&r.leave.has(n.index)){let a=r.leave.get(n.index),l=[];if(a)for(let d=0;d<a.animateFns.length;d++){let p=a.animateFns[d],{promise:h}=p();l.push(h)}r.running=Promise.allSettled(l),VE(e,i)}else e&&Qr.delete(e),i(!1)})}function VE(e,n){let t=e[Ki]?.running;if(t){t.then(()=>{e[Ki].running=void 0,Qr.delete(e),n(!0)});return}n(!1)}function jE(e,n){let t=e.cleanup,i=n[Ur];if(t!==null)for(let a=0;a<t.length-1;a+=2)if(typeof t[a]=="string"){let l=t[a+3];l>=0?i[l]():i[-l].unsubscribe(),a+=2}else{let l=i[t[a+1]];t[a].call(l)}i!==null&&(n[Ur]=null);let r=n[ti];if(r!==null){n[ti]=null;for(let a=0;a<r.length;a++){let l=r[a];l()}}let o=n[Go];if(o!==null){n[Go]=null;for(let a of o)a.destroy()}}function UE(e,n){let t;if(e!=null&&(t=e.destroyHooks)!=null)for(let i=0;i<t.length;i+=2){let r=n[t[i]];if(!(r instanceof er)){let o=t[i+1];if(Array.isArray(o))for(let a=0;a<o.length;a+=2){let l=r[o[a]],d=o[a+1];De(4,l,d);try{d.call(l)}finally{De(5,l,d)}}else{De(4,r,o);try{o.call(r)}finally{De(5,r,o)}}}}}function BE(e,n,t){return $E(e,n.parent,t)}function $E(e,n,t){let i=n;for(;i!==null&&i.type&168;)n=i,i=n.parent;if(i===null)return t[pn];if(_i(i)){let{encapsulation:r}=e.data[i.directiveStart+i.componentOffset];if(r===oi.None||r===oi.Emulated)return null}return hn(i,t)}function HE(e,n,t){return zE(e,n,t)}function GE(e,n,t){return e.type&40?hn(e,t):null}var zE=GE,d0;function Fp(e,n,t,i){let r=BE(e,i,n),o=n[Me],a=i.parent||n[en],l=HE(a,i,n);if(r!=null)if(Array.isArray(t))for(let d=0;d<t.length;d++)r0(o,r,t[d],l,!1);else r0(o,r,t,l,!1);d0!==void 0&&d0(o,i,n,t,r)}function Xo(e,n){if(n!==null){let t=n.type;if(t&3)return hn(n,e);if(t&4)return Yf(-1,e[n.index]);if(t&8){let i=n.child;if(i!==null)return Xo(e,i);{let r=e[n.index];return mn(r)?Yf(-1,r):tn(r)}}else{if(t&128)return Xo(e,n.next);if(t&32)return Tp(n,e)()||tn(e[n.index]);{let i=Dv(e,n);if(i!==null){if(Array.isArray(i))return i[0];let r=hi(e[Ht]);return Xo(r,i)}else return Xo(e,n.next)}}}return null}function Dv(e,n){if(n!==null){let i=e[Ht][en],r=n.projection;return i.projection[r]}return null}function Yf(e,n){let t=it+e+1;if(t<n.length){let i=n[t],r=i[te].firstChild;if(r!==null)return Xo(i,r)}return n[yi]}function Op(e,n,t,i,r,o,a){for(;t!=null;){let l=i[Ci];if(t.type===128){t=t.next;continue}let d=i[t.index],p=t.type;if(a&&n===0&&(d&&Yr(tn(d),i),t.flags|=2),!gp(t))if(p&8)Op(e,n,t.child,i,r,o,!1),qr(n,e,l,r,d,t,o,i);else if(p&32){let h=Tp(t,i),_;for(;_=h();)qr(n,e,l,r,_,t,o,i);qr(n,e,l,r,d,t,o,i)}else p&16?qE(e,n,i,t,r,o):qr(n,e,l,r,d,t,o,i);t=a?t.projectionNext:t.next}}function ql(e,n,t,i,r,o){Op(t,i,e.firstChild,n,r,o,!1)}function qE(e,n,t,i,r,o){let a=t[Ht],d=a[en].projection[i.projection];if(Array.isArray(d))for(let p=0;p<d.length;p++){let h=d[p];qr(n,e,t[Ci],r,h,i,o,t)}else{let p=d,h=a[ct];B0(i)&&(p.flags|=128),Op(e,n,p,h,r,o,!0)}}function WE(e,n,t,i,r,o,a){let l=i[yi],d=tn(i);l!==d&&qr(n,e,t,o,l,r,a);for(let p=it;p<i.length;p++){let h=i[p];ql(h[te],h,e,n,o,l)}}function ZE(e,n,t,i,r){if(n)r?e.addClass(t,i):e.removeClass(t,i);else{let o=i.indexOf("-")===-1?void 0:Bn.DashCase;r==null?e.removeStyle(t,i,o):(typeof r=="string"&&r.endsWith("!important")&&(r=r.slice(0,-10),o|=Bn.Important),e.setStyle(t,i,r,o))}}function Sv(e,n,t,i,r){let o=gn(),a=i&2;try{Ei(-1),a&&n.length>nt&&hv(e,n,nt,!1),De(a?2:0,r,t),t(i,r)}finally{Ei(o),De(a?3:1,r,t)}}function xv(e,n,t){eD(e,n,t),(t.flags&64)===64&&tD(e,n,t)}function Pp(e,n,t=hn){let i=n.localNames;if(i!==null){let r=n.index+1;for(let o=0;o<i.length;o+=2){let a=i[o+1],l=a===-1?t(n,e):e[a];e[r++]=l}}}function YE(e,n,t,i){let o=i.get(Q0,Y0)||t===oi.ShadowDom,a=e.selectRootElement(n,o);return QE(a),a}function QE(e){KE(e)}var KE=()=>null;function JE(e){return e==="class"?"className":e==="for"?"htmlFor":e==="formaction"?"formAction":e==="innerHtml"?"innerHTML":e==="readonly"?"readOnly":e==="tabindex"?"tabIndex":e}function Iv(e,n,t,i,r,o){let a=n[te];if(kp(e,a,n,t,i)){_i(e)&&XE(n,e.index);return}e.type&3&&(t=JE(t)),wv(e,n,t,i,r,o)}function wv(e,n,t,i,r,o){if(e.type&3){let a=hn(e,n);i=o!=null?o(i,e.value||"",t):i,r.setProperty(a,t,i)}else e.type&12}function XE(e,n){let t=nn(n,e);t[le]&16||(t[le]|=64)}function eD(e,n,t){let i=t.directiveStart,r=t.directiveEnd;_i(t)&&DE(n,t,e.data[i+t.componentOffset]),e.firstCreatePass||bl(t,n);let o=t.initialInputs;for(let a=i;a<r;a++){let l=e.data[a],d=El(n,e,a,t);if(Yr(d,n),o!==null&&aD(n,a-i,d,l,t,o),Ln(l)){let p=nn(t.index,n);p[Ze]=El(n,e,a,t)}}}function tD(e,n,t){let i=t.directiveStart,r=t.directiveEnd,o=t.index,a=kg();try{Ei(o);for(let l=i;l<r;l++){let d=e.data[l],p=n[l];tl(l),(d.hostBindings!==null||d.hostVars!==0||d.hostAttrs!==null)&&nD(d,p)}}finally{Ei(-1),tl(a)}}function nD(e,n){e.hostBindings!==null&&e.hostBindings(1,n)}function iD(e,n){let t=e.directiveRegistry,i=null;if(t)for(let r=0;r<t.length;r++){let o=t[r];dE(n,o.selectors,!1)&&(i??=[],Ln(o)?i.unshift(o):i.push(o))}return i}function rD(e,n,t,i,r,o){let a=hn(e,n);oD(n[Me],a,o,e.value,t,i,r)}function oD(e,n,t,i,r,o,a){if(o==null)e.removeAttribute(n,r,t);else{let l=a==null?Fn(o):a(o,i||"",r);e.setAttribute(n,r,l,t)}}function aD(e,n,t,i,r,o){let a=o[n];if(a!==null)for(let l=0;l<a.length;l+=2){let d=a[l],p=a[l+1];qf(i,t,d,p)}}function Tv(e,n,t,i,r){let o=nt+t,a=n[te],l=r(a,n,e,i,t);n[o]=l,Gr(e,!0);let d=e.type===2;return d?(fv(n[Me],l,e),(wg()===0||Js(e))&&Yr(l,n),Tg()):Yr(l,n),rl()&&(!d||!gp(e))&&Fp(a,n,l,e),e}function Mv(e){let n=e;return sf()?Rg():(n=n.parent,Gr(n,!1)),n}function sD(e,n){let t=e[Ci];if(!t)return;let i;try{i=t.get(Mt,null)}catch{i=null}i?.(n)}function kp(e,n,t,i,r){let o=e.inputs?.[i],a=e.hostDirectiveInputs?.[i],l=!1;if(a)for(let d=0;d<a.length;d+=2){let p=a[d],h=a[d+1],_=n.data[p];qf(_,t[p],h,r),l=!0}if(o)for(let d of o){let p=t[d],h=n.data[d];qf(h,p,i,r),l=!0}return l}function lD(e,n){let t=nn(n,e),i=t[te];cD(i,t);let r=t[pn];r!==null&&t[jr]===null&&(t[jr]=K0(r,t[Ci])),De(18),Lp(i,t,t[Ze]),De(19,t[Ze])}function cD(e,n){for(let t=n.length;t<e.blueprint.length;t++)n.push(e.blueprint[t])}function Lp(e,n,t){nl(n);try{let i=e.viewQuery;i!==null&&Lf(1,i,t);let r=e.template;r!==null&&Sv(e,n,r,1,t),e.firstCreatePass&&(e.firstCreatePass=!1),n[Yi]?.finishViewCreation(e),e.staticContentQueries&&J0(e,n),e.staticViewQueries&&Lf(2,e.viewQuery,t);let o=e.components;o!==null&&uD(n,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0,e.firstCreatePass=!1),i}finally{n[le]&=-5,il()}}function uD(e,n){for(let t=0;t<n.length;t++)lD(e,n[t])}function Vp(e,n,t,i){let r=se(null);try{let o=n.tView,l=e[le]&4096?4096:16,d=Ip(e,o,t,l,null,n,null,null,i?.injector??null,i?.embeddedViewInjector??null,i?.dehydratedView??null),p=e[n.index];d[Wi]=p;let h=e[Yi];return h!==null&&(d[Yi]=h.createEmbeddedView(o)),Lp(o,d,t),d}finally{se(r)}}function ta(e,n){return!n||n.firstChild===null||B0(e)}function na(e,n,t,i,r=!1){for(;t!==null;){if(t.type===128){t=r?t.projectionNext:t.next;continue}let o=n[t.index];o!==null&&i.push(tn(o)),mn(o)&&Av(o,i);let a=t.type;if(a&8)na(e,n,t.child,i);else if(a&32){let l=Tp(t,n),d;for(;d=l();)i.push(d)}else if(a&16){let l=Dv(n,t);if(Array.isArray(l))i.push(...l);else{let d=hi(n[Ht]);na(d[te],d,l,i,!0)}}t=r?t.projectionNext:t.next}return i}function Av(e,n){for(let t=it;t<e.length;t++){let i=e[t],r=i[te].firstChild;r!==null&&na(i[te],i,r,n)}e[yi]!==e[pn]&&n.push(e[yi])}function Nv(e){if(e[Qi]!==null){for(let n of e[Qi])n.impl.addSequence(n);e[Qi].length=0}}var Rv=[];function dD(e){return e[Gt]??fD(e)}function fD(e){let n=Rv.pop()??Object.create(mD);return n.lView=e,n}function pD(e){e.lView[Gt]!==e&&(e.lView=null,Rv.push(e))}var mD=he(N({},br),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{Hr(e.lView)},consumerOnSignalRead(){this.lView[Gt]=this}});function hD(e){let n=e[Gt]??Object.create(gD);return n.lView=e,n}var gD=he(N({},br),{consumerIsAlwaysLive:!0,kind:"template",consumerMarkedDirty:e=>{let n=hi(e.lView);for(;n&&!Fv(n[te]);)n=hi(n);n&&ef(n)},consumerOnSignalRead(){this.lView[Gt]=this}});function Fv(e){return e.type!==2}function Ov(e){if(e[Go]===null)return;let n=!0;for(;n;){let t=!1;for(let i of e[Go])i.dirty&&(t=!0,i.zone===null||Zone.current===i.zone?i.run():i.zone.run(()=>i.run()));n=t&&!!(e[le]&8192)}}var vD=100;function Pv(e,n=0){let i=e[Pn].rendererFactory,r=!1;r||i.begin?.();try{CD(e,n)}finally{r||i.end?.()}}function CD(e,n){let t=lf();try{cf(!0),Qf(e,n);let i=0;for(;Zo(e);){if(i===vD)throw new O(103,!1);i++,Qf(e,1)}}finally{cf(t)}}function yD(e,n,t,i){if(Ji(n))return;let r=n[le],o=!1,a=!1;nl(n);let l=!0,d=null,p=null;o||(Fv(e)?(p=dD(n),d=Dr(p)):fs()===null?(l=!1,p=hD(n),d=Dr(p)):n[Gt]&&(No(n[Gt]),n[Gt]=null));try{Xd(n),Fg(e.bindingStartIndex),t!==null&&Sv(e,n,t,2,i);let h=(r&3)===3;if(!o)if(h){let b=e.preOrderCheckHooks;b!==null&&pl(n,b,null)}else{let b=e.preOrderHooks;b!==null&&ml(n,b,0,null),bf(n,0)}if(a||_D(n),Ov(n),kv(n,0),e.contentQueries!==null&&J0(e,n),!o)if(h){let b=e.contentCheckHooks;b!==null&&pl(n,b)}else{let b=e.contentHooks;b!==null&&ml(n,b,1),bf(n,1)}ED(e,n);let _=e.components;_!==null&&Vv(n,_,0);let S=e.viewQuery;if(S!==null&&Lf(2,S,i),!o)if(h){let b=e.viewCheckHooks;b!==null&&pl(n,b)}else{let b=e.viewHooks;b!==null&&ml(n,b,2),bf(n,2)}if(e.firstUpdatePass===!0&&(e.firstUpdatePass=!1),n[Ks]){for(let b of n[Ks])b();n[Ks]=null}o||(Nv(n),n[le]&=-73)}catch(h){throw o||Hr(n),h}finally{p!==null&&(Mo(p,d),l&&pD(p)),il()}}function kv(e,n){for(let t=H0(e);t!==null;t=G0(t))for(let i=it;i<t.length;i++){let r=t[i];Lv(r,n)}}function _D(e){for(let n=H0(e);n!==null;n=G0(n)){if(!(n[le]&2))continue;let t=n[qo];for(let i=0;i<t.length;i++){let r=t[i];ef(r)}}}function bD(e,n,t){De(18);let i=nn(n,e);Lv(i,t),De(19,i[Ze])}function Lv(e,n){Xs(e)&&Qf(e,n)}function Qf(e,n){let i=e[te],r=e[le],o=e[Gt],a=!!(n===0&&r&16);if(a||=!!(r&64&&n===0),a||=!!(r&1024),a||=!!(o?.dirty&&Ao(o)),a||=!1,o&&(o.dirty=!1),e[le]&=-9217,a)yD(i,e,i.template,e[Ze]);else if(r&8192){let l=se(null);try{Ov(e),kv(e,1);let d=i.components;d!==null&&Vv(e,d,1),Nv(e)}finally{se(l)}}}function Vv(e,n,t){for(let i=0;i<n.length;i++)bD(e,n[i],t)}function ED(e,n){let t=e.hostBindingOpCodes;if(t!==null)try{for(let i=0;i<t.length;i++){let r=t[i];if(r<0)Ei(~r);else{let o=r,a=t[++i],l=t[++i];Pg(a,o);let d=n[o];De(24,d),l(2,d),De(25,d)}}}finally{Ei(-1)}}function jp(e,n){let t=lf()?64:1088;for(e[Pn].changeDetectionScheduler?.notify(n);e;){e[le]|=t;let i=hi(e);if($r(e)&&!i)return e;e=i}return null}function jv(e,n,t,i){return[e,!0,0,n,null,i,null,t,null,null]}function Uv(e,n){let t=it+n;if(t<e.length)return e[t]}function Wl(e,n,t,i=!0){let r=n[te];if(DD(r,n,e,t),i){let a=Yf(t,e),l=n[Me],d=l.parentNode(e[yi]);d!==null&&kE(r,e[en],l,n,d,a)}let o=n[jr];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function Bv(e,n){let t=ia(e,n);return t!==void 0&&zl(t[te],t),t}function ia(e,n){if(e.length<=it)return;let t=it+n,i=e[t];if(i){let r=i[Wi];r!==null&&r!==e&&Rp(r,i),n>0&&(e[t-1][Xt]=i[Xt]);let o=Uo(e,it+n);PE(i[te],i);let a=o[Yi];a!==null&&a.detachView(o[te]),i[ct]=null,i[Xt]=null,i[le]&=-129}return i}function DD(e,n,t,i){let r=it+i,o=t.length;i>0&&(t[r-1][Xt]=n),i<o-it?(n[Xt]=t[r],jd(t,it+i,n)):(t.push(n),n[Xt]=null),n[ct]=t;let a=n[Wi];a!==null&&t!==a&&$v(a,n);let l=n[Yi];l!==null&&l.insertView(e),el(n),n[le]|=128}function $v(e,n){let t=e[qo],i=n[ct];if(kn(i))e[le]|=2;else{let r=i[ct][Ht];n[Ht]!==r&&(e[le]|=2)}t===null?e[qo]=[n]:t.push(n)}var tr=class{_lView;_cdRefInjectingView;_appRef=null;_attachedToViewContainer=!1;exhaustive;get rootNodes(){let n=this._lView,t=n[te];return na(t,n,t.firstChild,[])}constructor(n,t){this._lView=n,this._cdRefInjectingView=t}get context(){return this._lView[Ze]}set context(n){this._lView[Ze]=n}get destroyed(){return Ji(this._lView)}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let n=this._lView[ct];if(mn(n)){let t=n[zo],i=t?t.indexOf(this):-1;i>-1&&(ia(n,i),Uo(t,i))}this._attachedToViewContainer=!1}zl(this._lView[te],this._lView)}onDestroy(n){tf(this._lView,n)}markForCheck(){jp(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[le]&=-129}reattach(){el(this._lView),this._lView[le]|=128}detectChanges(){this._lView[le]|=1024,Pv(this._lView)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new O(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let n=$r(this._lView),t=this._lView[Wi];t!==null&&!n&&Rp(t,this._lView),Ev(this._lView[te],this._lView)}attachToAppRef(n){if(this._attachedToViewContainer)throw new O(902,!1);this._appRef=n;let t=$r(this._lView),i=this._lView[Wi];i!==null&&!t&&$v(i,this._lView),el(this._lView)}};function Zl(e,n,t,i,r){let o=e.data[n];if(o===null)o=SD(e,n,t,i,r),Og()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=i,o.attrs=r;let a=Ng();o.injectorIndex=a===null?-1:a.injectorIndex}return Gr(o,!0),o}function SD(e,n,t,i,r){let o=af(),a=sf(),l=a?o:o&&o.parent,d=e.data[n]=ID(e,l,t,n,i,r);return xD(e,d,o,a),d}function xD(e,n,t,i){e.firstChild===null&&(e.firstChild=n),t!==null&&(i?t.child==null&&n.parent!==null&&(t.child=n):t.next===null&&(t.next=n,n.prev=t))}function ID(e,n,t,i,r,o){let a=n?n.injectorIndex:-1,l=0;return Ag()&&(l|=128),{type:t,index:i,insertBeforeIndex:null,injectorIndex:a,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:l,providerIndexes:0,value:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:null,inputs:null,hostDirectiveInputs:null,outputs:null,hostDirectiveOutputs:null,directiveToIndex:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:n,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}var U4=new RegExp(`^(\\d+)*(${Lb}|${kb})*(.*)`);function wD(e){let n=e[Yd]??[],i=e[ct][Me],r=[];for(let o of n)o.data[Z0]!==void 0?r.push(o):TD(o,i);e[Yd]=r}function TD(e,n){let t=0,i=e.firstChild;if(i){let r=e.data[W0];for(;t<r;){let o=i.nextSibling;dv(n,i,!1),i=o,t++}}}var MD=()=>null,AD=()=>null;function Kf(e,n){return MD(e,n)}function Hv(e,n,t){return AD(e,n,t)}var Gv=class{},Yl=class{},Jf=class{resolveComponentFactory(n){throw new O(917,!1)}},da=class{static NULL=new Jf},nr=class{},En=(()=>{class e{destroyNode=null;static __NG_ELEMENT_ID__=()=>ND()}return e})();function ND(){let e=ue(),n=vt(),t=nn(n.index,e);return(kn(t)?t:e)[Me]}var zv=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:()=>null})}return e})();var hl={},Xf=class{injector;parentInjector;constructor(n,t){this.injector=n,this.parentInjector=t}get(n,t,i){let r=this.injector.get(n,hl,i);return r!==hl||t===hl?r:this.parentInjector.get(n,t,i)}};function wl(e,n,t){let i=t?e.styles:null,r=t?e.classes:null,o=0;if(n!==null)for(let a=0;a<n.length;a++){let l=n[a];if(typeof l=="number")o=l;else if(o==1)r=zs(r,l);else if(o==2){let d=l,p=n[++a];i=zs(i,d+": "+p+";")}}t?e.styles=i:e.stylesWithoutHost=i,t?e.classes=r:e.classesWithoutHost=r}function Q(e,n=0){let t=ue();if(t===null)return q(e,n);let i=vt();return V0(i,t,gt(e),n)}function Up(){let e="invalid";throw new Error(e)}function RD(e,n,t,i,r){let o=i===null?null:{"":-1},a=r(e,t);if(a!==null){let l=a,d=null,p=null;for(let h of a)if(h.resolveHostDirectives!==null){[l,d,p]=h.resolveHostDirectives(a);break}PD(e,n,t,l,o,d,p)}o!==null&&i!==null&&FD(t,i,o)}function FD(e,n,t){let i=e.localNames=[];for(let r=0;r<n.length;r+=2){let o=t[n[r+1]];if(o==null)throw new O(-301,!1);i.push(n[r],o)}}function OD(e,n,t){n.componentOffset=t,(e.components??=[]).push(n.index)}function PD(e,n,t,i,r,o,a){let l=i.length,d=!1;for(let S=0;S<l;S++){let b=i[S];!d&&Ln(b)&&(d=!0,OD(e,t,S)),Ff(bl(t,n),e,b.type)}BD(t,e.data.length,l);for(let S=0;S<l;S++){let b=i[S];b.providersResolver&&b.providersResolver(b)}let p=!1,h=!1,_=mv(e,n,l,null);l>0&&(t.directiveToIndex=new Map);for(let S=0;S<l;S++){let b=i[S];if(t.mergedAttrs=Zr(t.mergedAttrs,b.hostAttrs),LD(e,t,n,_,b),UD(_,b,r),a!==null&&a.has(b)){let[B,j]=a.get(b);t.directiveToIndex.set(b.type,[_,B+t.directiveStart,j+t.directiveStart])}else(o===null||!o.has(b))&&t.directiveToIndex.set(b.type,_);b.contentQueries!==null&&(t.flags|=4),(b.hostBindings!==null||b.hostAttrs!==null||b.hostVars!==0)&&(t.flags|=64);let x=b.type.prototype;!p&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((e.preOrderHooks??=[]).push(t.index),p=!0),!h&&(x.ngOnChanges||x.ngDoCheck)&&((e.preOrderCheckHooks??=[]).push(t.index),h=!0),_++}kD(e,t,o)}function kD(e,n,t){for(let i=n.directiveStart;i<n.directiveEnd;i++){let r=e.data[i];if(t===null||!t.has(r))f0(0,n,r,i),f0(1,n,r,i),m0(n,i,!1);else{let o=t.get(r);p0(0,n,o,i),p0(1,n,o,i),m0(n,i,!0)}}}function f0(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a;e===0?a=n.inputs??={}:a=n.outputs??={},a[o]??=[],a[o].push(i),qv(n,o)}}function p0(e,n,t,i){let r=e===0?t.inputs:t.outputs;for(let o in r)if(r.hasOwnProperty(o)){let a=r[o],l;e===0?l=n.hostDirectiveInputs??={}:l=n.hostDirectiveOutputs??={},l[a]??=[],l[a].push(i,o),qv(n,a)}}function qv(e,n){n==="class"?e.flags|=8:n==="style"&&(e.flags|=16)}function m0(e,n,t){let{attrs:i,inputs:r,hostDirectiveInputs:o}=e;if(i===null||!t&&r===null||t&&o===null||Sp(e)){e.initialInputs??=[],e.initialInputs.push(null);return}let a=null,l=0;for(;l<i.length;){let d=i[l];if(d===0){l+=4;continue}else if(d===5){l+=2;continue}else if(typeof d=="number")break;if(!t&&r.hasOwnProperty(d)){let p=r[d];for(let h of p)if(h===n){a??=[],a.push(d,i[l+1]);break}}else if(t&&o.hasOwnProperty(d)){let p=o[d];for(let h=0;h<p.length;h+=2)if(p[h]===n){a??=[],a.push(p[h+1],i[l+1]);break}}l+=2}e.initialInputs??=[],e.initialInputs.push(a)}function LD(e,n,t,i,r){e.data[i]=r;let o=r.factory||(r.factory=mi(r.type,!0)),a=new er(o,Ln(r),Q,null);e.blueprint[i]=a,t[i]=a,VD(e,n,i,mv(e,t,r.hostVars,Ct),r)}function VD(e,n,t,i,r){let o=r.hostBindings;if(o){let a=e.hostBindingOpCodes;a===null&&(a=e.hostBindingOpCodes=[]);let l=~n.index;jD(a)!=l&&a.push(l),a.push(t,i,o)}}function jD(e){let n=e.length;for(;n>0;){let t=e[--n];if(typeof t=="number"&&t<0)return t}return 0}function UD(e,n,t){if(t){if(n.exportAs)for(let i=0;i<n.exportAs.length;i++)t[n.exportAs[i]]=e;Ln(n)&&(t[""]=e)}}function BD(e,n,t){e.flags|=1,e.directiveStart=n,e.directiveEnd=n+t,e.providerIndexes=n}function Wv(e,n,t,i,r,o,a,l){let d=n[te],p=d.consts,h=Vn(p,a),_=Zl(d,e,t,i,h);return o&&RD(d,n,_,Vn(p,l),r),_.mergedAttrs=Zr(_.mergedAttrs,_.attrs),_.attrs!==null&&wl(_,_.attrs,!1),_.mergedAttrs!==null&&wl(_,_.mergedAttrs,!0),d.queries!==null&&d.queries.elementStart(d,_),_}function Zv(e,n){hb(e,n),Qd(n)&&e.queries.elementEnd(n)}function $D(e,n,t,i,r,o){let a=n.consts,l=Vn(a,r),d=Zl(n,e,t,i,l);if(d.mergedAttrs=Zr(d.mergedAttrs,d.attrs),o!=null){let p=Vn(a,o);d.localNames=[];for(let h=0;h<p.length;h+=2)d.localNames.push(p[h],-1)}return d.attrs!==null&&wl(d,d.attrs,!1),d.mergedAttrs!==null&&wl(d,d.mergedAttrs,!0),n.queries!==null&&n.queries.elementStart(n,d),d}function Bp(e,n,t){return e[n]=t}function HD(e,n){return e[n]}function zt(e,n,t){if(t===Ct)return!1;let i=e[n];return Object.is(i,t)?!1:(e[n]=t,!0)}function $p(e,n,t,i){let r=zt(e,n,t);return zt(e,n+1,i)||r}function GD(e,n,t,i,r){let o=$p(e,n,t,i);return zt(e,n+2,r)||o}function gl(e,n,t){return function i(r){let o=_i(e)?nn(e.index,n):n;jp(o,5);let a=n[Ze],l=h0(n,a,t,r),d=i.__ngNextListenerFn__;for(;d;)l=h0(n,a,d,r)&&l,d=d.__ngNextListenerFn__;return l}}function h0(e,n,t,i){let r=se(null);try{return De(6,n,t),t(i)!==!1}catch(o){return sD(e,o),!1}finally{De(7,n,t),se(r)}}function Yv(e,n,t,i,r,o,a,l){let d=Js(e),p=!1,h=null;if(!i&&d&&(h=qD(n,t,o,e.index)),h!==null){let _=h.__ngLastListenerFn__||h;_.__ngNextListenerFn__=a,h.__ngLastListenerFn__=a,p=!0}else{let _=hn(e,t),S=i?i(_):_;jb(t,S,o,l);let b=r.listen(S,o,l);if(!zD(o)){let x=i?B=>i(tn(B[e.index])):e.index;Qv(x,n,t,o,l,b,!1)}}return p}function zD(e){return e.startsWith("animation")||e.startsWith("transition")}function qD(e,n,t,i){let r=e.cleanup;if(r!=null)for(let o=0;o<r.length-1;o+=2){let a=r[o];if(a===t&&r[o+1]===i){let l=n[Ur],d=r[o+2];return l&&l.length>d?l[d]:null}typeof a=="string"&&(o+=2)}return null}function Qv(e,n,t,i,r,o,a){let l=n.firstCreatePass?Ig(n):null,d=xg(t),p=d.length;d.push(r,o),l&&l.push(i,e,p,(p+1)*(a?-1:1))}function g0(e,n,t,i,r,o){let a=n[t],l=n[te],p=l.data[t].outputs[i],_=a[p].subscribe(o);Qv(e.index,l,n,r,o,_,!0)}var ep=Symbol("BINDING");var Tl=class extends da{ngModule;constructor(n){super(),this.ngModule=n}resolveComponentFactory(n){let t=ri(n);return new ir(t,this.ngModule)}};function WD(e){return Object.keys(e).map(n=>{let[t,i,r]=e[n],o={propName:t,templateName:n,isSignal:(i&Hl.SignalBased)!==0};return r&&(o.transform=r),o})}function ZD(e){return Object.keys(e).map(n=>({propName:e[n],templateName:n}))}function YD(e,n,t){let i=n instanceof We?n:n?.injector;return i&&e.getStandaloneInjector!==null&&(i=e.getStandaloneInjector(i)||i),i?new Xf(t,i):t}function QD(e){let n=e.get(nr,null);if(n===null)throw new O(407,!1);let t=e.get(zv,null),i=e.get(ii,null);return{rendererFactory:n,sanitizer:t,changeDetectionScheduler:i,ngReflect:!1}}function KD(e,n){let t=Kv(e);return cv(n,t,t==="svg"?yg:t==="math"?_g:null)}function Kv(e){return(e.selectors[0][0]||"div").toLowerCase()}var ir=class extends Yl{componentDef;ngModule;selector;componentType;ngContentSelectors;isBoundToModule;cachedInputs=null;cachedOutputs=null;get inputs(){return this.cachedInputs??=WD(this.componentDef.inputs),this.cachedInputs}get outputs(){return this.cachedOutputs??=ZD(this.componentDef.outputs),this.cachedOutputs}constructor(n,t){super(),this.componentDef=n,this.ngModule=t,this.componentType=n.type,this.selector=hE(n.selectors),this.ngContentSelectors=n.ngContentSelectors??[],this.isBoundToModule=!!t}create(n,t,i,r,o,a){De(22);let l=se(null);try{let d=this.componentDef,p=JD(i,d,a,o),h=YD(d,r||this.ngModule,n),_=QD(h),S=_.rendererFactory.createRenderer(null,d),b=i?YE(S,i,d.encapsulation,h):KD(d,S),x=a?.some(v0)||o?.some(U=>typeof U!="function"&&U.bindings.some(v0)),B=Ip(null,p,null,512|pv(d),null,null,_,S,h,null,K0(b,h,!0));B[nt]=b,nl(B);let j=null;try{let U=Wv(nt,B,2,"#host",()=>p.directiveRegistry,!0,0);fv(S,b,U),Yr(b,B),xv(p,B,U),X0(p,U,B),Zv(p,U),t!==void 0&&eS(U,this.ngContentSelectors,t),j=nn(U.index,B),B[Ze]=j[Ze],Lp(p,B,null)}catch(U){throw j!==null&&Pf(j),Pf(B),U}finally{De(23),il()}return new Ml(this.componentType,B,!!x)}finally{se(l)}}};function JD(e,n,t,i){let r=e?["ng-version","20.3.6"]:gE(n.selectors[0]),o=null,a=null,l=0;if(t)for(let h of t)l+=h[ep].requiredVars,h.create&&(h.targetIdx=0,(o??=[]).push(h)),h.update&&(h.targetIdx=0,(a??=[]).push(h));if(i)for(let h=0;h<i.length;h++){let _=i[h];if(typeof _!="function")for(let S of _.bindings){l+=S[ep].requiredVars;let b=h+1;S.create&&(S.targetIdx=b,(o??=[]).push(S)),S.update&&(S.targetIdx=b,(a??=[]).push(S))}}let d=[n];if(i)for(let h of i){let _=typeof h=="function"?h:h.type,S=Hd(_);d.push(S)}return xp(0,null,XD(o,a),1,l,d,null,null,null,[r],null)}function XD(e,n){return!e&&!n?null:t=>{if(t&1&&e)for(let i of e)i.create();if(t&2&&n)for(let i of n)i.update()}}function v0(e){let n=e[ep].kind;return n==="input"||n==="twoWay"}var Ml=class extends Gv{_rootLView;_hasInputBindings;instance;hostView;changeDetectorRef;componentType;location;previousInputValues=null;_tNode;constructor(n,t,i){super(),this._rootLView=t,this._hasInputBindings=i,this._tNode=Wo(t[te],nt),this.location=pp(this._tNode,t),this.instance=nn(this._tNode.index,t)[Ze],this.hostView=this.changeDetectorRef=new tr(t,void 0),this.componentType=n}setInput(n,t){this._hasInputBindings;let i=this._tNode;if(this.previousInputValues??=new Map,this.previousInputValues.has(n)&&Object.is(this.previousInputValues.get(n),t))return;let r=this._rootLView,o=kp(i,r[te],r,n,t);this.previousInputValues.set(n,t);let a=nn(i.index,r);jp(a,1)}get injector(){return new Xi(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(n){this.hostView.onDestroy(n)}};function eS(e,n,t){let i=e.projection=[];for(let r=0;r<n.length;r++){let o=t[r];i.push(o!=null&&o.length?Array.from(o):null)}}var fa=(()=>{class e{static __NG_ELEMENT_ID__=tS}return e})();function tS(){let e=vt();return iS(e,ue())}var nS=fa,Jv=class extends nS{_lContainer;_hostTNode;_hostLView;constructor(n,t,i){super(),this._lContainer=n,this._hostTNode=t,this._hostLView=i}get element(){return pp(this._hostTNode,this._hostLView)}get injector(){return new Xi(this._hostTNode,this._hostLView)}get parentInjector(){let n=fp(this._hostTNode,this._hostLView);if(R0(n)){let t=yl(n,this._hostLView),i=Cl(n),r=t[te].data[i+8];return new Xi(r,t)}else return new Xi(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(n){let t=C0(this._lContainer);return t!==null&&t[n]||null}get length(){return this._lContainer.length-it}createEmbeddedView(n,t,i){let r,o;typeof i=="number"?r=i:i!=null&&(r=i.index,o=i.injector);let a=Kf(this._lContainer,n.ssrId),l=n.createEmbeddedViewImpl(t||{},o,a);return this.insertImpl(l,r,ta(this._hostTNode,a)),l}createComponent(n,t,i,r,o,a,l){let d=n&&!ub(n),p;if(d)p=t;else{let j=t||{};p=j.index,i=j.injector,r=j.projectableNodes,o=j.environmentInjector||j.ngModuleRef,a=j.directives,l=j.bindings}let h=d?n:new ir(ri(n)),_=i||this.parentInjector;if(!o&&h.ngModule==null){let U=(d?_:this.parentInjector).get(We,null);U&&(o=U)}let S=ri(h.componentType??{}),b=Kf(this._lContainer,S?.id??null),x=b?.firstChild??null,B=h.create(_,r,x,o,a,l);return this.insertImpl(B.hostView,p,ta(this._hostTNode,b)),B}insert(n,t){return this.insertImpl(n,t,!0)}insertImpl(n,t,i){let r=n._lView;if(Eg(r)){let l=this.indexOf(n);if(l!==-1)this.detach(l);else{let d=r[ct],p=new Jv(d,d[en],d[ct]);p.detach(p.indexOf(n))}}let o=this._adjustIndex(t),a=this._lContainer;return Wl(a,r,o,i),n.attachToViewContainerRef(),jd(Sf(a),o,n),n}move(n,t){return this.insert(n,t)}indexOf(n){let t=C0(this._lContainer);return t!==null?t.indexOf(n):-1}remove(n){let t=this._adjustIndex(n,-1),i=ia(this._lContainer,t);i&&(Uo(Sf(this._lContainer),t),zl(i[te],i))}detach(n){let t=this._adjustIndex(n,-1),i=ia(this._lContainer,t);return i&&Uo(Sf(this._lContainer),t)!=null?new tr(i):null}_adjustIndex(n,t=0){return n??this.length+t}};function C0(e){return e[zo]}function Sf(e){return e[zo]||(e[zo]=[])}function iS(e,n){let t,i=n[e.index];return mn(i)?t=i:(t=jv(i,n,null,e),n[e.index]=t,wp(n,t)),oS(t,n,e,i),new Jv(t,e,n)}function rS(e,n){let t=e[Me],i=t.createComment(""),r=hn(n,e),o=t.parentNode(r);return Dl(t,o,i,t.nextSibling(r),!1),i}var oS=lS,aS=()=>!1;function sS(e,n,t){return aS(e,n,t)}function lS(e,n,t,i){if(e[yi])return;let r;t.type&8?r=tn(i):r=rS(n,t),e[yi]=r}var rr=class{},Ql=class{};var Al=class extends rr{ngModuleType;_parent;_bootstrapComponents=[];_r3Injector;instance;destroyCbs=[];componentFactoryResolver=new Tl(this);constructor(n,t,i,r=!0){super(),this.ngModuleType=n,this._parent=t;let o=$d(n);this._bootstrapComponents=sv(o.bootstrap),this._r3Injector=mf(n,t,[{provide:rr,useValue:this},{provide:da,useValue:this.componentFactoryResolver},...i],ni(n),new Set(["environment"])),r&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let n=this._r3Injector;!n.destroyed&&n.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(n){this.destroyCbs.push(n)}},Nl=class extends Ql{moduleType;constructor(n){super(),this.moduleType=n}create(n){return new Al(this.moduleType,n,[])}};var ra=class extends rr{injector;componentFactoryResolver=new Tl(this);instance=null;constructor(n){super();let t=new Gi([...n.providers,{provide:rr,useValue:this},{provide:da,useValue:this.componentFactoryResolver}],n.parent||$o(),n.debugName,new Set(["environment"]));this.injector=t,n.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(n){this.injector.onDestroy(n)}};function Xr(e,n,t=null){return new ra({providers:e,parent:n,debugName:t,runEnvironmentInitializers:!0}).injector}var cS=(()=>{class e{_injector;cachedInjectors=new Map;constructor(t){this._injector=t}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let i=Gd(!1,t.type),r=i.length>0?Xr([i],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,r)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static \u0275prov=A({token:e,providedIn:"environment",factory:()=>new e(q(We))})}return e})();function F(e){return aa(()=>{let n=Xv(e),t=he(N({},n),{decls:e.decls,vars:e.vars,template:e.template,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,onPush:e.changeDetection===mp.OnPush,directiveDefs:null,pipeDefs:null,dependencies:n.standalone&&e.dependencies||null,getStandaloneInjector:n.standalone?r=>r.get(cS).getOrCreateStandaloneInjector(t):null,getExternalStyles:null,signals:e.signals??!1,data:e.data||{},encapsulation:e.encapsulation||oi.Emulated,styles:e.styles||wt,_:null,schemas:e.schemas||null,tView:null,id:""});n.standalone&&bn("NgStandalone"),eC(t);let i=e.dependencies;return t.directiveDefs=y0(i,uS),t.pipeDefs=y0(i,dg),t.id=pS(t),t})}function uS(e){return ri(e)||Hd(e)}function sn(e){return aa(()=>({type:e.type,bootstrap:e.bootstrap||wt,declarations:e.declarations||wt,imports:e.imports||wt,exports:e.exports||wt,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null}))}function dS(e,n){if(e==null)return vi;let t={};for(let i in e)if(e.hasOwnProperty(i)){let r=e[i],o,a,l,d;Array.isArray(r)?(l=r[0],o=r[1],a=r[2]??o,d=r[3]||null):(o=r,a=r,l=Hl.None,d=null),t[o]=[i,l,d],n[o]=a}return t}function fS(e){if(e==null)return vi;let n={};for(let t in e)e.hasOwnProperty(t)&&(n[e[t]]=t);return n}function Te(e){return aa(()=>{let n=Xv(e);return eC(n),n})}function Kl(e){return{type:e.type,name:e.name,factory:null,pure:e.pure!==!1,standalone:e.standalone??!0,onDestroy:e.type.prototype.ngOnDestroy||null}}function Xv(e){let n={};return{type:e.type,providersResolver:null,factory:null,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:n,inputConfig:e.inputs||vi,exportAs:e.exportAs||null,standalone:e.standalone??!0,signals:e.signals===!0,selectors:e.selectors||wt,viewQuery:e.viewQuery||null,features:e.features||null,setInput:null,resolveHostDirectives:null,hostDirectives:null,inputs:dS(e.inputs,n),outputs:fS(e.outputs),debugInfo:null}}function eC(e){e.features?.forEach(n=>n(e))}function y0(e,n){return e?()=>{let t=typeof e=="function"?e():e,i=[];for(let r of t){let o=n(r);o!==null&&i.push(o)}return i}:null}function pS(e){let n=0,t=typeof e.consts=="function"?"":e.consts,i=[e.selectors,e.ngContentSelectors,e.hostVars,e.hostAttrs,t,e.vars,e.decls,e.encapsulation,e.standalone,e.signals,e.exportAs,JSON.stringify(e.inputs),JSON.stringify(e.outputs),Object.getOwnPropertyNames(e.type.prototype),!!e.contentQueries,!!e.viewQuery];for(let o of i.join("|"))n=Math.imul(31,n)+o.charCodeAt(0)<<0;return n+=2147483648,"c"+n}function mS(e){return Object.getPrototypeOf(e.prototype).constructor}function yt(e){let n=mS(e.type),t=!0,i=[e];for(;n;){let r;if(Ln(e))r=n.\u0275cmp||n.\u0275dir;else{if(n.\u0275cmp)throw new O(903,!1);r=n.\u0275dir}if(r){if(t){i.push(r);let a=e;a.inputs=xf(e.inputs),a.declaredInputs=xf(e.declaredInputs),a.outputs=xf(e.outputs);let l=r.hostBindings;l&&yS(e,l);let d=r.viewQuery,p=r.contentQueries;if(d&&vS(e,d),p&&CS(e,p),hS(e,r),og(e.outputs,r.outputs),Ln(r)&&r.data.animation){let h=e.data;h.animation=(h.animation||[]).concat(r.data.animation)}}let o=r.features;if(o)for(let a=0;a<o.length;a++){let l=o[a];l&&l.ngInherit&&l(e),l===yt&&(t=!1)}}n=Object.getPrototypeOf(n)}gS(i)}function hS(e,n){for(let t in n.inputs){if(!n.inputs.hasOwnProperty(t)||e.inputs.hasOwnProperty(t))continue;let i=n.inputs[t];i!==void 0&&(e.inputs[t]=i,e.declaredInputs[t]=n.declaredInputs[t])}}function gS(e){let n=0,t=null;for(let i=e.length-1;i>=0;i--){let r=e[i];r.hostVars=n+=r.hostVars,r.hostAttrs=Zr(r.hostAttrs,t=Zr(t,r.hostAttrs))}}function xf(e){return e===vi?{}:e===wt?[]:e}function vS(e,n){let t=e.viewQuery;t?e.viewQuery=(i,r)=>{n(i,r),t(i,r)}:e.viewQuery=n}function CS(e,n){let t=e.contentQueries;t?e.contentQueries=(i,r,o)=>{n(i,r,o),t(i,r,o)}:e.contentQueries=n}function yS(e,n){let t=e.hostBindings;t?e.hostBindings=(i,r)=>{n(i,r),t(i,r)}:e.hostBindings=n}function _S(e,n,t,i,r,o,a,l){if(t.firstCreatePass){e.mergedAttrs=Zr(e.mergedAttrs,e.attrs);let h=e.tView=xp(2,e,r,o,a,t.directiveRegistry,t.pipeRegistry,null,t.schemas,t.consts,null);t.queries!==null&&(t.queries.template(t,e),h.queries=t.queries.embeddedTView(e))}l&&(e.flags|=l),Gr(e,!1);let d=bS(t,n,e,i);rl()&&Fp(t,n,d,e),Yr(d,n);let p=jv(d,n,d,e);n[i+nt]=p,wp(n,p),sS(p,e,n)}function Rl(e,n,t,i,r,o,a,l,d,p,h){let _=t+nt,S;if(n.firstCreatePass){if(S=Zl(n,_,4,a||null,l||null),p!=null){let b=Vn(n.consts,p);S.localNames=[];for(let x=0;x<b.length;x+=2)S.localNames.push(b[x],-1)}}else S=n.data[_];return _S(S,e,n,t,i,r,o,d),p!=null&&Pp(e,S,h),S}var bS=ES;function ES(e,n,t,i){return ol(!0),n[Me].createComment("")}var Jl=(()=>{class e{log(t){console.log(t)}warn(t){console.warn(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"platform"})}return e})();var Hp=new L("");function Di(e){return!!e&&typeof e.then=="function"}function Gp(e){return!!e&&typeof e.subscribe=="function"}var zp=new L("");function Xl(e){return fn([{provide:zp,multi:!0,useValue:e}])}var qp=(()=>{class e{resolve;reject;initialized=!1;done=!1;donePromise=new Promise((t,i)=>{this.resolve=t,this.reject=i});appInits=g(zp,{optional:!0})??[];injector=g(Tt);constructor(){}runInitializers(){if(this.initialized)return;let t=[];for(let r of this.appInits){let o=ut(this.injector,r);if(Di(o))t.push(o);else if(Gp(o)){let a=new Promise((l,d)=>{o.subscribe({complete:l,error:d})});t.push(a)}}let i=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{i()}).catch(r=>{this.reject(r)}),t.length===0&&i(),this.initialized=!0}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),pa=new L("");function tC(){nd(()=>{let e="";throw new O(600,e)})}function nC(e){return e.isBoundToModule}var DS=10;var $n=(()=>{class e{_runningTick=!1;_destroyed=!1;_destroyListeners=[];_views=[];internalErrorHandler=g(Mt);afterRenderManager=g(Np);zonelessEnabled=g(zr);rootEffectScheduler=g(_f);dirtyFlags=0;tracingSnapshot=null;allTestViews=new Set;autoDetectTestViews=new Set;includeAllTestViews=!1;afterTick=new Ke;get allViews(){return[...(this.includeAllTestViews?this.allTestViews:this.autoDetectTestViews).keys(),...this._views]}get destroyed(){return this._destroyed}componentTypes=[];components=[];internalPendingTask=g(jn);get isStable(){return this.internalPendingTask.hasPendingTasksObservable.pipe(X(t=>!t))}constructor(){g(ar,{optional:!0})}whenStable(){let t;return new Promise(i=>{t=this.isStable.subscribe({next:r=>{r&&i()}})}).finally(()=>{t.unsubscribe()})}_injector=g(We);_rendererFactory=null;get injector(){return this._injector}bootstrap(t,i){return this.bootstrapImpl(t,i)}bootstrapImpl(t,i,r=Tt.NULL){return this._injector.get(je).run(()=>{De(10);let a=t instanceof Yl;if(!this._injector.get(qp).done){let x="";throw new O(405,x)}let d;a?d=t:d=this._injector.get(da).resolveComponentFactory(t),this.componentTypes.push(d.componentType);let p=nC(d)?void 0:this._injector.get(rr),h=i||d.selector,_=d.create(r,[],h,p),S=_.location.nativeElement,b=_.injector.get(Hp,null);return b?.registerApplication(S),_.onDestroy(()=>{this.detachView(_.hostView),ea(this.components,_),b?.unregisterApplication(S)}),this._loadComponent(_),De(11,_),_})}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){De(12),this.tracingSnapshot!==null?this.tracingSnapshot.run(Gl.CHANGE_DETECTION,this.tickImpl):this.tickImpl()}tickImpl=()=>{if(this._runningTick)throw new O(101,!1);let t=se(null);try{this._runningTick=!0,this.synchronize()}finally{this._runningTick=!1,this.tracingSnapshot?.dispose(),this.tracingSnapshot=null,se(t),this.afterTick.next(),De(13)}};synchronize(){this._rendererFactory===null&&!this._injector.destroyed&&(this._rendererFactory=this._injector.get(nr,null,{optional:!0}));let t=0;for(;this.dirtyFlags!==0&&t++<DS;)De(14),this.synchronizeOnce(),De(15)}synchronizeOnce(){this.dirtyFlags&16&&(this.dirtyFlags&=-17,this.rootEffectScheduler.flush());let t=!1;if(this.dirtyFlags&7){let i=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8;for(let{_lView:r}of this.allViews){if(!i&&!Zo(r))continue;let o=i&&!this.zonelessEnabled?0:1;Pv(r,o),t=!0}if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&23)return}t||(this._rendererFactory?.begin?.(),this._rendererFactory?.end?.()),this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Zo(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let i=t;this._views.push(i),i.attachToAppRef(this)}detachView(t){let i=t;ea(this._views,i),i.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView);try{this.tick()}catch(r){this.internalErrorHandler(r)}this.components.push(t),this._injector.get(pa,[]).forEach(r=>r(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>ea(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new O(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ea(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function sr(e,n,t,i){let r=ue(),o=bi();if(zt(r,o,n)){let a=rt(),l=Ko();rD(l,r,e,n,t,i)}return sr}var W4=typeof document<"u"&&typeof document?.documentElement?.getAnimations=="function";var tp=class{destroy(n){}updateValue(n,t){}swap(n,t){let i=Math.min(n,t),r=Math.max(n,t),o=this.detach(r);if(r-i>1){let a=this.detach(i);this.attach(i,o),this.attach(r,a)}else this.attach(i,o)}move(n,t){this.attach(t,this.detach(n,!0))}};function If(e,n,t,i,r){return e===t&&Object.is(n,i)?1:Object.is(r(e,n),r(t,i))?-1:0}function SS(e,n,t){let i,r,o=0,a=e.length-1,l=void 0;if(Array.isArray(n)){let d=n.length-1;for(;o<=a&&o<=d;){let p=e.at(o),h=n[o],_=If(o,p,o,h,t);if(_!==0){_<0&&e.updateValue(o,h),o++;continue}let S=e.at(a),b=n[d],x=If(a,S,d,b,t);if(x!==0){x<0&&e.updateValue(a,b),a--,d--;continue}let B=t(o,p),j=t(a,S),U=t(o,h);if(Object.is(U,j)){let we=t(d,b);Object.is(we,B)?(e.swap(o,a),e.updateValue(a,b),d--,a--):e.move(a,o),e.updateValue(o,h),o++;continue}if(i??=new Fl,r??=b0(e,o,a,t),np(e,i,o,U))e.updateValue(o,h),o++,a++;else if(r.has(U))i.set(B,e.detach(o)),a--;else{let we=e.create(o,n[o]);e.attach(o,we),o++,a++}}for(;o<=d;)_0(e,i,t,o,n[o]),o++}else if(n!=null){let d=n[Symbol.iterator](),p=d.next();for(;!p.done&&o<=a;){let h=e.at(o),_=p.value,S=If(o,h,o,_,t);if(S!==0)S<0&&e.updateValue(o,_),o++,p=d.next();else{i??=new Fl,r??=b0(e,o,a,t);let b=t(o,_);if(np(e,i,o,b))e.updateValue(o,_),o++,a++,p=d.next();else if(!r.has(b))e.attach(o,e.create(o,_)),o++,a++,p=d.next();else{let x=t(o,h);i.set(x,e.detach(o)),a--}}}for(;!p.done;)_0(e,i,t,e.length,p.value),p=d.next()}for(;o<=a;)e.destroy(e.detach(a--));i?.forEach(d=>{e.destroy(d)})}function np(e,n,t,i){return n!==void 0&&n.has(i)?(e.attach(t,n.get(i)),n.delete(i),!0):!1}function _0(e,n,t,i,r){if(np(e,n,i,t(i,r)))e.updateValue(i,r);else{let o=e.create(i,r);e.attach(i,o)}}function b0(e,n,t,i){let r=new Set;for(let o=n;o<=t;o++)r.add(i(o,e.at(o)));return r}var Fl=class{kvMap=new Map;_vMap=void 0;has(n){return this.kvMap.has(n)}delete(n){if(!this.has(n))return!1;let t=this.kvMap.get(n);return this._vMap!==void 0&&this._vMap.has(t)?(this.kvMap.set(n,this._vMap.get(t)),this._vMap.delete(t)):this.kvMap.delete(n),!0}get(n){return this.kvMap.get(n)}set(n,t){if(this.kvMap.has(n)){let i=this.kvMap.get(n);this._vMap===void 0&&(this._vMap=new Map);let r=this._vMap;for(;r.has(i);)i=r.get(i);r.set(i,t)}else this.kvMap.set(n,t)}forEach(n){for(let[t,i]of this.kvMap)if(n(i,t),this._vMap!==void 0){let r=this._vMap;for(;r.has(i);)i=r.get(i),n(i,t)}}};function v(e,n,t,i,r,o,a,l){bn("NgControlFlow");let d=ue(),p=rt(),h=Vn(p.consts,o);return Rl(d,p,e,n,t,i,r,h,256,a,l),Wp}function Wp(e,n,t,i,r,o,a,l){bn("NgControlFlow");let d=ue(),p=rt(),h=Vn(p.consts,o);return Rl(d,p,e,n,t,i,r,h,512,a,l),Wp}function C(e,n){bn("NgControlFlow");let t=ue(),i=bi(),r=t[i]!==Ct?t[i]:-1,o=r!==-1?Ol(t,nt+r):void 0,a=0;if(zt(t,i,e)){let l=se(null);try{if(o!==void 0&&Bv(o,a),e!==-1){let d=nt+e,p=Ol(t,d),h=ap(t[te],d),_=Hv(p,h,t),S=Vp(t,h,n,{dehydratedView:_});Wl(p,S,a,ta(h,_))}}finally{se(l)}}else if(o!==void 0){let l=Uv(o,a);l!==void 0&&(l[Ze]=n)}}var ip=class{lContainer;$implicit;$index;constructor(n,t,i){this.lContainer=n,this.$implicit=t,this.$index=i}get $count(){return this.lContainer.length-it}};function Dn(e){return e}var rp=class{hasEmptyBlock;trackByFn;liveCollection;constructor(n,t,i){this.hasEmptyBlock=n,this.trackByFn=t,this.liveCollection=i}};function G(e,n,t,i,r,o,a,l,d,p,h,_,S){bn("NgControlFlow");let b=ue(),x=rt(),B=d!==void 0,j=ue(),U=l?a.bind(j[Ht][Ze]):a,we=new rp(B,U);j[nt+e]=we,Rl(b,x,e+1,n,t,i,r,Vn(x.consts,o),256),B&&Rl(b,x,e+2,d,p,h,_,Vn(x.consts,S),512)}var op=class extends tp{lContainer;hostLView;templateTNode;operationsCounter=void 0;needsIndexUpdate=!1;constructor(n,t,i){super(),this.lContainer=n,this.hostLView=t,this.templateTNode=i}get length(){return this.lContainer.length-it}at(n){return this.getLView(n)[Ze].$implicit}attach(n,t){let i=t[jr];this.needsIndexUpdate||=n!==this.length,Wl(this.lContainer,t,n,ta(this.templateTNode,i))}detach(n,t){return this.needsIndexUpdate||=n!==this.length-1,t&&xS(this.lContainer,n),IS(this.lContainer,n)}create(n,t){let i=Kf(this.lContainer,this.templateTNode.tView.ssrId),r=Vp(this.hostLView,this.templateTNode,new ip(this.lContainer,t,n),{dehydratedView:i});return this.operationsCounter?.recordCreate(),r}destroy(n){zl(n[te],n),this.operationsCounter?.recordDestroy()}updateValue(n,t){this.getLView(n)[Ze].$implicit=t}reset(){this.needsIndexUpdate=!1,this.operationsCounter?.reset()}updateIndexes(){if(this.needsIndexUpdate)for(let n=0;n<this.length;n++)this.getLView(n)[Ze].$index=n}getLView(n){return wS(this.lContainer,n)}};function z(e){let n=se(null),t=gn();try{let i=ue(),r=i[te],o=i[t],a=t+1,l=Ol(i,a);if(o.liveCollection===void 0){let p=ap(r,a);o.liveCollection=new op(l,i,p)}else o.liveCollection.reset();let d=o.liveCollection;if(SS(d,e,o.trackByFn),d.updateIndexes(),o.hasEmptyBlock){let p=bi(),h=d.length===0;if(zt(i,p,h)){let _=t+2,S=Ol(i,_);if(h){let b=ap(r,_),x=Hv(S,b,i),B=Vp(i,b,void 0,{dehydratedView:x});Wl(S,B,0,ta(b,x))}else r.firstUpdatePass&&wD(S),Bv(S,0)}}}finally{se(n)}}function Ol(e,n){return e[n]}function xS(e,n){if(e.length<=it)return;let t=it+n,i=e[t];i&&i[Ki]&&(i[Ki].skipLeaveAnimations=!0)}function IS(e,n){return ia(e,n)}function wS(e,n){return Uv(e,n)}function ap(e,n){return Wo(e,n)}function D(e,n,t){let i=ue(),r=bi();if(zt(i,r,n)){let o=rt(),a=Ko();Iv(a,i,e,n,i[Me],t)}return D}function sp(e,n,t,i,r){kp(n,e,t,r?"class":"style",i)}function c(e,n,t,i){let r=ue(),o=r[te],a=e+nt,l=o.firstCreatePass?Wv(a,r,2,n,iD,Mg(),t,i):o.data[a];if(Tv(l,r,e,n,iC),Js(l)){let d=r[te];xv(d,r,l),X0(d,l,r)}return i!=null&&Pp(r,l),c}function s(){let e=rt(),n=vt(),t=Mv(n);return e.firstCreatePass&&Zv(e,t),rf(t)&&of(),nf(),t.classesWithoutHost!=null&&vb(t)&&sp(e,t,ue(),t.classesWithoutHost,!0),t.stylesWithoutHost!=null&&Cb(t)&&sp(e,t,ue(),t.stylesWithoutHost,!1),s}function m(e,n,t,i){return c(e,n,t,i),s(),m}function M(e,n,t,i){let r=ue(),o=r[te],a=e+nt,l=o.firstCreatePass?$D(a,o,2,n,t,i):o.data[a];return Tv(l,r,e,n,iC),i!=null&&Pp(r,l),M}function T(){let e=vt(),n=Mv(e);return rf(n)&&of(),nf(),T}function Fe(e,n,t,i){return M(e,n,t,i),T(),Fe}var iC=(e,n,t,i,r)=>(ol(!0),cv(n[Me],i,$g()));function V(){return ue()}function Hn(e,n,t){let i=ue(),r=bi();if(zt(i,r,n)){let o=rt(),a=Ko();wv(a,i,e,n,i[Me],t)}return Hn}var dl=void 0;function TS(e){let n=Math.floor(Math.abs(e)),t=e.toString().replace(/^[^.]*\.?/,"").length;return n===1&&t===0?1:5}var MS=["en",[["a","p"],["AM","PM"]],[["AM","PM"]],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],dl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],dl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",dl,"{1} 'at' {0}",dl],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",TS],wf={};function kt(e){let n=AS(e),t=E0(n);if(t)return t;let i=n.split("-")[0];if(t=E0(i),t)return t;if(i==="en")return MS;throw new O(701,!1)}function E0(e){return e in wf||(wf[e]=Jt.ng&&Jt.ng.common&&Jt.ng.common.locales&&Jt.ng.common.locales[e]),wf[e]}var Be=(function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e})(Be||{});function AS(e){return e.toLowerCase().replace(/_/g,"-")}var ma="en-US";var NS=ma;function rC(e){typeof e=="string"&&(NS=e.toLowerCase().replace(/_/g,"-"))}function I(e,n,t){let i=ue(),r=rt(),o=vt();return oC(r,i,i[Me],o,e,n,t),I}function dt(e,n,t){let i=ue(),r=rt(),o=vt();return(o.type&3||t)&&Yv(o,r,i,t,i[Me],e,n,gl(o,i,n)),dt}function oC(e,n,t,i,r,o,a){let l=!0,d=null;if((i.type&3||a)&&(d??=gl(i,n,o),Yv(i,e,n,a,t,r,o,d)&&(l=!1)),l){let p=i.outputs?.[r],h=i.hostDirectiveOutputs?.[r];if(h&&h.length)for(let _=0;_<h.length;_+=2){let S=h[_],b=h[_+1];d??=gl(i,n,o),g0(i,n,S,b,r,d)}if(p&&p.length)for(let _ of p)d??=gl(i,n,o),g0(i,n,_,r,r,d)}}function y(e=1){return Bg(e)}function fl(e,n){return e<<17|n<<2}function or(e){return e>>17&32767}function RS(e){return(e&2)==2}function FS(e,n){return e&131071|n<<17}function lp(e){return e|2}function Kr(e){return(e&131068)>>2}function Tf(e,n){return e&-131069|n<<2}function OS(e){return(e&1)===1}function cp(e){return e|1}function PS(e,n,t,i,r,o){let a=o?n.classBindings:n.styleBindings,l=or(a),d=Kr(a);e[i]=t;let p=!1,h;if(Array.isArray(t)){let _=t;h=_[1],(h===null||Vr(_,h)>0)&&(p=!0)}else h=t;if(r)if(d!==0){let S=or(e[l+1]);e[i+1]=fl(S,l),S!==0&&(e[S+1]=Tf(e[S+1],i)),e[l+1]=FS(e[l+1],i)}else e[i+1]=fl(l,0),l!==0&&(e[l+1]=Tf(e[l+1],i)),l=i;else e[i+1]=fl(d,0),l===0?l=i:e[d+1]=Tf(e[d+1],i),d=i;p&&(e[i+1]=lp(e[i+1])),D0(e,h,i,!0),D0(e,h,i,!1),kS(n,h,e,i,o),a=fl(l,d),o?n.classBindings=a:n.styleBindings=a}function kS(e,n,t,i,r){let o=r?e.residualClasses:e.residualStyles;o!=null&&typeof n=="string"&&Vr(o,n)>=0&&(t[i+1]=cp(t[i+1]))}function D0(e,n,t,i){let r=e[t+1],o=n===null,a=i?or(r):Kr(r),l=!1;for(;a!==0&&(l===!1||o);){let d=e[a],p=e[a+1];LS(d,n)&&(l=!0,e[a+1]=i?cp(p):lp(p)),a=i?or(p):Kr(p)}l&&(e[t+1]=i?lp(r):cp(r))}function LS(e,n){return e===null||n==null||(Array.isArray(e)?e[1]:e)===n?!0:Array.isArray(e)&&typeof n=="string"?Vr(e,n)>=0:!1}var yn={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function VS(e){return e.substring(yn.key,yn.keyEnd)}function jS(e){return US(e),aC(e,sC(e,0,yn.textEnd))}function aC(e,n){let t=yn.textEnd;return t===n?-1:(n=yn.keyEnd=BS(e,yn.key=n,t),sC(e,n,t))}function US(e){yn.key=0,yn.keyEnd=0,yn.value=0,yn.valueEnd=0,yn.textEnd=e.length}function sC(e,n,t){for(;n<t&&e.charCodeAt(n)<=32;)n++;return n}function BS(e,n,t){for(;n<t&&e.charCodeAt(n)>32;)n++;return n}function Z(e,n){return HS(e,n,null,!0),Z}function Zp(e){GS(QS,$S,e,!0)}function $S(e,n){for(let t=jS(n);t>=0;t=aC(n,t))Ys(e,VS(n),!0)}function HS(e,n,t,i){let r=ue(),o=rt(),a=Qo(2);if(o.firstUpdatePass&&cC(o,e,a,i),n!==Ct&&zt(r,a,n)){let l=o.data[gn()];uC(o,l,r,r[Me],e,r[a+1]=JS(n,t),i,a)}}function GS(e,n,t,i){let r=rt(),o=Qo(2);r.firstUpdatePass&&cC(r,null,o,i);let a=ue();if(t!==Ct&&zt(a,o,t)){let l=r.data[gn()];if(dC(l,i)&&!lC(r,o)){let d=i?l.classesWithoutHost:l.stylesWithoutHost;d!==null&&(t=zs(d,t||"")),sp(r,l,a,t,i)}else KS(r,l,a,a[Me],a[o+1],a[o+1]=YS(e,n,t),i,o)}}function lC(e,n){return n>=e.expandoStartIndex}function cC(e,n,t,i){let r=e.data;if(r[t+1]===null){let o=r[gn()],a=lC(e,t);dC(o,i)&&n===null&&!a&&(n=!1),n=zS(r,o,n,i),PS(r,o,n,t,a,i)}}function zS(e,n,t,i){let r=Lg(e),o=i?n.residualClasses:n.residualStyles;if(r===null)(i?n.classBindings:n.styleBindings)===0&&(t=Mf(null,e,n,t,i),t=oa(t,n.attrs,i),o=null);else{let a=n.directiveStylingLast;if(a===-1||e[a]!==r)if(t=Mf(r,e,n,t,i),o===null){let d=qS(e,n,i);d!==void 0&&Array.isArray(d)&&(d=Mf(null,e,n,d[1],i),d=oa(d,n.attrs,i),WS(e,n,i,d))}else o=ZS(e,n,i)}return o!==void 0&&(i?n.residualClasses=o:n.residualStyles=o),t}function qS(e,n,t){let i=t?n.classBindings:n.styleBindings;if(Kr(i)!==0)return e[or(i)]}function WS(e,n,t,i){let r=t?n.classBindings:n.styleBindings;e[or(r)]=i}function ZS(e,n,t){let i,r=n.directiveEnd;for(let o=1+n.directiveStylingLast;o<r;o++){let a=e[o].hostAttrs;i=oa(i,a,t)}return oa(i,n.attrs,t)}function Mf(e,n,t,i,r){let o=null,a=t.directiveEnd,l=t.directiveStylingLast;for(l===-1?l=t.directiveStart:l++;l<a&&(o=n[l],i=oa(i,o.hostAttrs,r),o!==e);)l++;return e!==null&&(t.directiveStylingLast=l),i}function oa(e,n,t){let i=t?1:2,r=-1;if(n!==null)for(let o=0;o<n.length;o++){let a=n[o];typeof a=="number"?r=a:r===i&&(Array.isArray(e)||(e=e===void 0?[]:["",e]),Ys(e,a,t?!0:n[++o]))}return e===void 0?null:e}function YS(e,n,t){if(t==null||t==="")return wt;let i=[],r=an(t);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if(typeof r=="object")for(let o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else typeof r=="string"&&n(i,r);return i}function QS(e,n,t){let i=String(n);i!==""&&!i.includes(" ")&&Ys(e,i,t)}function KS(e,n,t,i,r,o,a,l){r===Ct&&(r=wt);let d=0,p=0,h=0<r.length?r[0]:null,_=0<o.length?o[0]:null;for(;h!==null||_!==null;){let S=d<r.length?r[d+1]:void 0,b=p<o.length?o[p+1]:void 0,x=null,B;h===_?(d+=2,p+=2,S!==b&&(x=_,B=b)):_===null||h!==null&&h<_?(d+=2,x=h):(p+=2,x=_,B=b),x!==null&&uC(e,n,t,i,x,B,a,l),h=d<r.length?r[d]:null,_=p<o.length?o[p]:null}}function uC(e,n,t,i,r,o,a,l){if(!(n.type&3))return;let d=e.data,p=d[l+1],h=OS(p)?S0(d,n,t,r,Kr(p),a):void 0;if(!Pl(h)){Pl(o)||RS(p)&&(o=S0(d,null,t,r,l,a));let _=Kd(gn(),t);ZE(i,a,_,r,o)}}function S0(e,n,t,i,r,o){let a=n===null,l;for(;r>0;){let d=e[r],p=Array.isArray(d),h=p?d[1]:d,_=h===null,S=t[r+1];S===Ct&&(S=_?wt:void 0);let b=_?Qs(S,i):h===i?S:void 0;if(p&&!Pl(b)&&(b=Qs(d,i)),Pl(b)&&(l=b,a))return l;let x=e[r+1];r=a?or(x):Kr(x)}if(n!==null){let d=o?n.residualClasses:n.residualStyles;d!=null&&(l=Qs(d,i))}return l}function Pl(e){return e!==void 0}function JS(e,n){return e==null||e===""||(typeof n=="string"?e=e+n:typeof e=="object"&&(e=ni(an(e)))),e}function dC(e,n){return(e.flags&(n?8:16))!==0}function u(e,n=""){let t=ue(),i=rt(),r=e+nt,o=i.firstCreatePass?Zl(i,r,1,n,null):i.data[r],a=XS(i,t,o,n,e);t[r]=a,rl()&&Fp(i,t,a,o),Gr(o,!1)}var XS=(e,n,t,i,r)=>(ol(!0),vE(n[Me],i));function ex(e,n,t,i=""){return zt(e,bi(),t)?n+Fn(t)+i:Ct}function tx(e,n,t,i,r,o=""){let a=uf(),l=$p(e,a,t,r);return Qo(2),l?n+Fn(t)+i+Fn(r)+o:Ct}function nx(e,n,t,i,r,o,a,l=""){let d=uf(),p=GD(e,d,t,r,a);return Qo(3),p?n+Fn(t)+i+Fn(r)+o+Fn(a)+l:Ct}function K(e){return E("",e),K}function E(e,n,t){let i=ue(),r=ex(i,e,n,t);return r!==Ct&&Yp(i,gn(),r),E}function Nt(e,n,t,i,r){let o=ue(),a=tx(o,e,n,t,i,r);return a!==Ct&&Yp(o,gn(),a),Nt}function eo(e,n,t,i,r,o,a){let l=ue(),d=nx(l,e,n,t,i,r,o,a);return d!==Ct&&Yp(l,gn(),d),eo}function Yp(e,n,t){let i=Kd(n,e);CE(e[Me],i,t)}function ha(e,n,t){vf(n)&&(n=n());let i=ue(),r=bi();if(zt(i,r,n)){let o=rt(),a=Ko();Iv(a,i,e,n,i[Me],t)}return ha}function ec(e,n){let t=vf(e);return t&&e.set(n),t}function ga(e,n){let t=ue(),i=rt(),r=vt();return oC(i,t,t[Me],r,e,n),ga}function ix(e,n,t){let i=rt();if(i.firstCreatePass){let r=Ln(e);up(t,i.data,i.blueprint,r,!0),up(n,i.data,i.blueprint,r,!1)}}function up(e,n,t,i,r){if(e=gt(e),Array.isArray(e))for(let o=0;o<e.length;o++)up(e[o],n,t,i,r);else{let o=rt(),a=ue(),l=vt(),d=Hi(e)?e:gt(e.provide),p=qd(e),h=l.providerIndexes&1048575,_=l.directiveStart,S=l.providerIndexes>>20;if(Hi(e)||!e.multi){let b=new er(p,r,Q,null),x=Nf(d,n,r?h:h+S,_);x===-1?(Ff(bl(l,a),o,d),Af(o,e,n.length),n.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(b),a.push(b)):(t[x]=b,a[x]=b)}else{let b=Nf(d,n,h+S,_),x=Nf(d,n,h,h+S),B=b>=0&&t[b],j=x>=0&&t[x];if(r&&!j||!r&&!B){Ff(bl(l,a),o,d);let U=ax(r?ox:rx,t.length,r,i,p,e);!r&&j&&(t[x].providerFactory=U),Af(o,e,n.length,0),n.push(d),l.directiveStart++,l.directiveEnd++,r&&(l.providerIndexes+=1048576),t.push(U),a.push(U)}else{let U=fC(t[r?x:b],p,!r&&i);Af(o,e,b>-1?b:x,U)}!r&&i&&j&&t[x].componentProviders++}}}function Af(e,n,t,i){let r=Hi(n),o=gg(n);if(r||o){let d=(o?gt(n.useClass):n).prototype.ngOnDestroy;if(d){let p=e.destroyHooks||(e.destroyHooks=[]);if(!r&&n.multi){let h=p.indexOf(t);h===-1?p.push(t,[i,d]):p[h+1].push(i,d)}else p.push(t,d)}}}function fC(e,n,t){return t&&e.componentProviders++,e.multi.push(n)-1}function Nf(e,n,t,i){for(let r=t;r<i;r++)if(n[r]===e)return r;return-1}function rx(e,n,t,i,r){return dp(this.multi,[])}function ox(e,n,t,i,r){let o=this.multi,a;if(this.providerFactory){let l=this.providerFactory.componentProviders,d=El(i,i[te],this.providerFactory.index,r);a=d.slice(0,l),dp(o,a);for(let p=l;p<d.length;p++)a.push(d[p])}else a=[],dp(o,a);return a}function dp(e,n){for(let t=0;t<e.length;t++){let i=e[t];n.push(i())}return n}function ax(e,n,t,i,r,o){let a=new er(e,t,Q,null);return a.multi=[],a.index=n,a.componentProviders=0,fC(a,r,i&&!t),a}function qt(e,n=[]){return t=>{t.providersResolver=(i,r)=>ix(i,r?r(e):e,n)}}function Si(e,n,t){let i=Yo()+e,r=ue();return r[i]===Ct?Bp(r,i,t?n.call(t):n()):HD(r,i)}function Ue(e,n,t,i){return sx(ue(),Yo(),e,n,t,i)}function Qp(e,n,t,i,r){return mC(ue(),Yo(),e,n,t,i,r)}function pC(e,n){let t=e[n];return t===Ct?void 0:t}function sx(e,n,t,i,r,o){let a=n+t;return zt(e,a,r)?Bp(e,a+1,o?i.call(o,r):i(r)):pC(e,a+1)}function mC(e,n,t,i,r,o,a){let l=n+t;return $p(e,l,r,o)?Bp(e,l+2,a?i.call(a,r,o):i(r,o)):pC(e,l+2)}function Wt(e,n){let t=rt(),i,r=e+nt;t.firstCreatePass?(i=lx(n,t.pipeRegistry),t.data[r]=i,i.onDestroy&&(t.destroyHooks??=[]).push(r,i.onDestroy)):i=t.data[r];let o=i.factory||(i.factory=mi(i.type,!0)),a,l=It(Q);try{let d=_l(!1),p=o();return _l(d),Jd(t,ue(),r,p),p}finally{It(l)}}function lx(e,n){if(n)for(let t=n.length-1;t>=0;t--){let i=n[t];if(e===i.name)return i}}function Zt(e,n,t,i){let r=e+nt,o=ue(),a=bg(o,r);return cx(o,r)?mC(o,Yo(),n,a.transform,t,i,a):a.transform(t,i)}function cx(e,n){return e[te].data[n].pure}var kl=class{ngModuleFactory;componentFactories;constructor(n,t){this.ngModuleFactory=n,this.componentFactories=t}},Kp=(()=>{class e{compileModuleSync(t){return new Nl(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let i=this.compileModuleSync(t),r=$d(t),o=sv(r.declarations).reduce((a,l)=>{let d=ri(l);return d&&a.push(new ir(d)),a},[]);return new kl(i,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var ux=(()=>{class e{zone=g(je);changeDetectionScheduler=g(ii);applicationRef=g($n);applicationErrorHandler=g(Mt);_onMicrotaskEmptySubscription;initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{try{this.applicationRef.dirtyFlags|=1,this.applicationRef._tick()}catch(t){this.applicationErrorHandler(t)}})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),hC=new L("",{factory:()=>!1});function Jp({ngZoneFactory:e,ignoreChangesOutsideZone:n,scheduleInRootZone:t}){return e??=()=>new je(he(N({},em()),{scheduleInRootZone:t})),[{provide:je,useFactory:e},{provide:On,multi:!0,useFactory:()=>{let i=g(ux,{optional:!0});return()=>i.initialize()}},{provide:On,multi:!0,useFactory:()=>{let i=g(dx);return()=>{i.initialize()}}},n===!0?{provide:Cf,useValue:!0}:[],{provide:yf,useValue:t??gv},{provide:Mt,useFactory:()=>{let i=g(je),r=g(We),o;return a=>{i.runOutsideAngular(()=>{r.destroyed&&!o?setTimeout(()=>{throw a}):(o??=r.get(dn),o.handleError(a))})}}}]}function Xp(e){let n=e?.ignoreChangesOutsideZone,t=e?.scheduleInRootZone,i=Jp({ngZoneFactory:()=>{let r=em(e);return r.scheduleInRootZone=t,r.shouldCoalesceEventChangeDetection&&bn("NgZone_CoalesceEvent"),new je(r)},ignoreChangesOutsideZone:n,scheduleInRootZone:t});return fn([{provide:hC,useValue:!0},{provide:zr,useValue:!1},i])}function em(e){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:e?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:e?.runCoalescing??!1}}var dx=(()=>{class e{subscription=new Qe;initialized=!1;zone=g(je);pendingTasks=g(jn);initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{je.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{je.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var gC=(()=>{class e{applicationErrorHandler=g(Mt);appRef=g($n);taskService=g(jn);ngZone=g(je);zonelessEnabled=g(zr);tracing=g(ar,{optional:!0});disableScheduling=g(Cf,{optional:!0})??!1;zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run;schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}];subscriptions=new Qe;angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Sl):null;scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(g(yf,{optional:!0})??!1);cancelScheduledCallback=null;useMicrotaskScheduler=!1;runningTick=!1;pendingRenderTaskId=null;constructor(){this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof xl||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;let i=!1;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 6:{this.appRef.dirtyFlags|=2,i=!0;break}case 12:{this.appRef.dirtyFlags|=16,i=!0;break}case 13:{this.appRef.dirtyFlags|=2,i=!0;break}case 11:{i=!0;break}case 9:case 8:case 7:case 10:default:this.appRef.dirtyFlags|=8}if(this.appRef.tracingSnapshot=this.tracing?.snapshot(this.appRef.tracingSnapshot)??null,!this.shouldScheduleTick(i))return;let r=this.useMicrotaskScheduler?a0:vv;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(t){return!(this.disableScheduling&&!t||this.appRef.destroyed||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Sl+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;if(this.appRef.dirtyFlags===0){this.cleanup();return}!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(i){this.taskService.remove(t),this.applicationErrorHandler(i)}finally{this.cleanup()}this.useMicrotaskScheduler=!0,a0(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function fx(){return typeof $localize<"u"&&$localize.locale||ma}var to=new L("",{providedIn:"root",factory:()=>g(to,{optional:!0,skipSelf:!0})||fx()});function ft(e){return ng(e)}function no(e,n){return gs(e,n?.equal)}var vC=class{[bt];constructor(n){this[bt]=n}destroy(){this[bt].destroy()}};var _C=Symbol("InputSignalNode#UNSET"),Mx=he(N({},vs),{transformFn:void 0,applyValueToInputSignal(e,n){xr(e,n)}});function bC(e,n){let t=Object.create(Mx);t.value=e,t.transformFn=n?.transform;function i(){if(Er(t),t.value===_C){let r=null;throw new O(-950,r)}return t.value}return i[bt]=t,i}var nc=class{attributeName;constructor(n){this.attributeName=n}__NG_ELEMENT_ID__=()=>sa(this.attributeName);toString(){return`HostAttributeToken ${this.attributeName}`}},Ax=new L("");Ax.__NG_ELEMENT_ID__=e=>{let n=vt();if(n===null)throw new O(204,!1);if(n.type&2)return n.value;if(e&8)return null;throw new O(204,!1)};function CC(e,n){return bC(e,n)}function Nx(e){return bC(_C,e)}var EC=(CC.required=Nx,CC);var tm=new L(""),Rx=new L("");function va(e){return!e.moduleRef}function Fx(e){let n=va(e)?e.r3Injector:e.moduleRef.injector,t=n.get(je);return t.run(()=>{va(e)?e.r3Injector.resolveInjectorInitializers():e.moduleRef.resolveInjectorInitializers();let i=n.get(Mt),r;if(t.runOutsideAngular(()=>{r=t.onError.subscribe({next:i})}),va(e)){let o=()=>n.destroy(),a=e.platformInjector.get(tm);a.add(o),n.onDestroy(()=>{r.unsubscribe(),a.delete(o)})}else{let o=()=>e.moduleRef.destroy(),a=e.platformInjector.get(tm);a.add(o),e.moduleRef.onDestroy(()=>{ea(e.allPlatformModules,e.moduleRef),r.unsubscribe(),a.delete(o)})}return Px(i,t,()=>{let o=n.get(jn),a=o.add(),l=n.get(qp);return l.runInitializers(),l.donePromise.then(()=>{let d=n.get(to,ma);if(rC(d||ma),!n.get(Rx,!0))return va(e)?n.get($n):(e.allPlatformModules.push(e.moduleRef),e.moduleRef);if(va(e)){let h=n.get($n);return e.rootComponent!==void 0&&h.bootstrap(e.rootComponent),h}else return Ox?.(e.moduleRef,e.allPlatformModules),e.moduleRef}).finally(()=>void o.remove(a))})})}var Ox;function Px(e,n,t){try{let i=t();return Di(i)?i.catch(r=>{throw n.runOutsideAngular(()=>e(r)),r}):i}catch(i){throw n.runOutsideAngular(()=>e(i)),i}}var tc=null;function kx(e=[],n){return Tt.create({name:n,providers:[{provide:Bo,useValue:"platform"},{provide:tm,useValue:new Set([()=>tc=null])},...e]})}function Lx(e=[]){if(tc)return tc;let n=kx(e);return tc=n,tC(),Vx(n),n}function Vx(e){let n=e.get(Vl,null);ut(e,()=>{n?.forEach(t=>t())})}var Gn=(()=>{class e{static __NG_ELEMENT_ID__=jx}return e})();function jx(e){return Ux(vt(),ue(),(e&16)===16)}function Ux(e,n,t){if(_i(e)&&!t){let i=nn(e.index,n);return new tr(i,i)}else if(e.type&175){let i=n[Ht];return new tr(i,n)}return null}function DC(e){let{rootComponent:n,appProviders:t,platformProviders:i,platformRef:r}=e;De(8);try{let o=r?.injector??Lx(i),a=[Jp({}),{provide:ii,useExisting:gC},Gg,...t||[]],l=new ra({providers:a,parent:o,debugName:"",runEnvironmentInitializers:!1});return Fx({r3Injector:l.injector,platformInjector:o,rootComponent:n})}catch(o){return Promise.reject(o)}finally{De(9)}}function lr(e){return typeof e=="boolean"?e:e!=null&&e!=="false"}function SC(e){let n=ri(e);if(!n)return null;let t=new ir(n);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return n.standalone},get isSignal(){return n.signals}}}var wC=null;function ln(){return wC}function im(e){wC??=e}var Ca=class{},ya=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:()=>g(TC),providedIn:"platform"})}return e})(),rm=new L(""),TC=(()=>{class e extends ya{_location;_history;_doc=g(Pe);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return ln().getBaseHref(this._doc)}onPopState(t){let i=ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("popstate",t,!1),()=>i.removeEventListener("popstate",t)}onHashChange(t){let i=ln().getGlobalEventTarget(this._doc,"window");return i.addEventListener("hashchange",t,!1),()=>i.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,i,r){this._history.pushState(t,i,r)}replaceState(t,i,r){this._history.replaceState(t,i,r)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:()=>new e,providedIn:"platform"})}return e})();function ic(e,n){return e?n?e.endsWith("/")?n.startsWith("/")?e+n.slice(1):e+n:n.startsWith("/")?e+n:`${e}/${n}`:e:n}function xC(e){let n=e.search(/#|\?|$/);return e[n-1]==="/"?e.slice(0,n-1)+e.slice(n):e}function Sn(e){return e&&e[0]!=="?"?`?${e}`:e}var xn=(()=>{class e{historyGo(t){throw new Error("")}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:()=>g(oc),providedIn:"root"})}return e})(),rc=new L(""),oc=(()=>{class e extends xn{_platformLocation;_baseHref;_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,this._baseHref=i??this._platformLocation.getBaseHrefFromDOM()??g(Pe).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ic(this._baseHref,t)}path(t=!1){let i=this._platformLocation.pathname+Sn(this._platformLocation.search),r=this._platformLocation.hash;return r&&t?`${i}${r}`:i}pushState(t,i,r,o){let a=this.prepareExternalUrl(r+Sn(o));this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,o){let a=this.prepareExternalUrl(r+Sn(o));this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(q(ya),q(rc,8))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),xi=(()=>{class e{_subject=new Ke;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(t){this._locationStrategy=t;let i=this._locationStrategy.getBaseHref();this._basePath=Hx(xC(IC(i))),this._locationStrategy.onPopState(r=>{this._subject.next({url:this.path(!0),pop:!0,state:r.state,type:r.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,i=""){return this.path()==this.normalize(t+Sn(i))}normalize(t){return e.stripTrailingSlash($x(this._basePath,IC(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,i="",r=null){this._locationStrategy.pushState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sn(i)),r)}replaceState(t,i="",r=null){this._locationStrategy.replaceState(r,"",t,i),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Sn(i)),r)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(i=>{this._notifyUrlChangeListeners(i.url,i.state)}),()=>{let i=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(i,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",i){this._urlChangeListeners.forEach(r=>r(t,i))}subscribe(t,i,r){return this._subject.subscribe({next:t,error:i??void 0,complete:r??void 0})}static normalizeQueryParams=Sn;static joinWithSlash=ic;static stripTrailingSlash=xC;static \u0275fac=function(i){return new(i||e)(q(xn))};static \u0275prov=A({token:e,factory:()=>Bx(),providedIn:"root"})}return e})();function Bx(){return new xi(q(xn))}function $x(e,n){if(!e||!n.startsWith(e))return n;let t=n.substring(e.length);return t===""||["/",";","?","#"].includes(t[0])?t:n}function IC(e){return e.replace(/\/index.html$/,"")}function Hx(e){if(new RegExp("^(https?:)?//").test(e)){let[,t]=e.split(/\/\/[^\/]+/);return t}return e}var dm=(()=>{class e extends xn{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(t,i){super(),this._platformLocation=t,i!=null&&(this._baseHref=i)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let i=this._platformLocation.hash??"#";return i.length>0?i.substring(1):i}prepareExternalUrl(t){let i=ic(this._baseHref,t);return i.length>0?"#"+i:i}pushState(t,i,r,o){let a=this.prepareExternalUrl(r+Sn(o))||this._platformLocation.pathname;this._platformLocation.pushState(t,i,a)}replaceState(t,i,r,o){let a=this.prepareExternalUrl(r+Sn(o))||this._platformLocation.pathname;this._platformLocation.replaceState(t,i,a)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static \u0275fac=function(i){return new(i||e)(q(ya),q(rc,8))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();var fm=(function(e){return e[e.Decimal=0]="Decimal",e[e.Percent=1]="Percent",e[e.Currency=2]="Currency",e[e.Scientific=3]="Scientific",e})(fm||{});var St=(function(e){return e[e.Format=0]="Format",e[e.Standalone=1]="Standalone",e})(St||{}),Se=(function(e){return e[e.Narrow=0]="Narrow",e[e.Abbreviated=1]="Abbreviated",e[e.Wide=2]="Wide",e[e.Short=3]="Short",e})(Se||{}),Lt=(function(e){return e[e.Short=0]="Short",e[e.Medium=1]="Medium",e[e.Long=2]="Long",e[e.Full=3]="Full",e})(Lt||{}),Vt={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function RC(e){return kt(e)[Be.LocaleId]}function FC(e,n,t){let i=kt(e),r=[i[Be.DayPeriodsFormat],i[Be.DayPeriodsStandalone]],o=cn(r,n);return cn(o,t)}function OC(e,n,t){let i=kt(e),r=[i[Be.DaysFormat],i[Be.DaysStandalone]],o=cn(r,n);return cn(o,t)}function PC(e,n,t){let i=kt(e),r=[i[Be.MonthsFormat],i[Be.MonthsStandalone]],o=cn(r,n);return cn(o,t)}function kC(e,n){let i=kt(e)[Be.Eras];return cn(i,n)}function _a(e,n){let t=kt(e);return cn(t[Be.DateFormat],n)}function ba(e,n){let t=kt(e);return cn(t[Be.TimeFormat],n)}function Ea(e,n){let i=kt(e)[Be.DateTimeFormat];return cn(i,n)}function zn(e,n){let t=kt(e),i=t[Be.NumberSymbols][n];if(typeof i>"u"){if(n===Vt.CurrencyDecimal)return t[Be.NumberSymbols][Vt.Decimal];if(n===Vt.CurrencyGroup)return t[Be.NumberSymbols][Vt.Group]}return i}function LC(e,n){return kt(e)[Be.NumberFormats][n]}function VC(e){if(!e[Be.ExtraData])throw new O(2303,!1)}function jC(e){let n=kt(e);return VC(n),(n[Be.ExtraData][2]||[]).map(i=>typeof i=="string"?om(i):[om(i[0]),om(i[1])])}function UC(e,n,t){let i=kt(e);VC(i);let r=[i[Be.ExtraData][0],i[Be.ExtraData][1]],o=cn(r,n)||[];return cn(o,t)||[]}function cn(e,n){for(let t=n;t>-1;t--)if(typeof e[t]<"u")return e[t];throw new O(2304,!1)}function om(e){let[n,t]=e.split(":");return{hours:+n,minutes:+t}}var Gx=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,ac={},zx=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;function BC(e,n,t,i){let r=eI(e);n=ci(t,n)||n;let a=[],l;for(;n;)if(l=zx.exec(n),l){a=a.concat(l.slice(1));let h=a.pop();if(!h)break;n=h}else{a.push(n);break}let d=r.getTimezoneOffset();i&&(d=HC(i,d),r=Xx(r,i));let p="";return a.forEach(h=>{let _=Kx(h);p+=_?_(r,t,d):h==="''"?"'":h.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),p}function dc(e,n,t){let i=new Date(0);return i.setFullYear(e,n,t),i.setHours(0,0,0),i}function ci(e,n){let t=RC(e);if(ac[t]??={},ac[t][n])return ac[t][n];let i="";switch(n){case"shortDate":i=_a(e,Lt.Short);break;case"mediumDate":i=_a(e,Lt.Medium);break;case"longDate":i=_a(e,Lt.Long);break;case"fullDate":i=_a(e,Lt.Full);break;case"shortTime":i=ba(e,Lt.Short);break;case"mediumTime":i=ba(e,Lt.Medium);break;case"longTime":i=ba(e,Lt.Long);break;case"fullTime":i=ba(e,Lt.Full);break;case"short":let r=ci(e,"shortTime"),o=ci(e,"shortDate");i=sc(Ea(e,Lt.Short),[r,o]);break;case"medium":let a=ci(e,"mediumTime"),l=ci(e,"mediumDate");i=sc(Ea(e,Lt.Medium),[a,l]);break;case"long":let d=ci(e,"longTime"),p=ci(e,"longDate");i=sc(Ea(e,Lt.Long),[d,p]);break;case"full":let h=ci(e,"fullTime"),_=ci(e,"fullDate");i=sc(Ea(e,Lt.Full),[h,_]);break}return i&&(ac[t][n]=i),i}function sc(e,n){return n&&(e=e.replace(/\{([^}]+)}/g,function(t,i){return n!=null&&i in n?n[i]:t})),e}function In(e,n,t="-",i,r){let o="";(e<0||r&&e<=0)&&(r?e=-e+1:(e=-e,o=t));let a=String(e);for(;a.length<n;)a="0"+a;return i&&(a=a.slice(a.length-n)),o+a}function qx(e,n){return In(e,3).substring(0,n)}function et(e,n,t=0,i=!1,r=!1){return function(o,a){let l=Wx(e,o);if((t>0||l>-t)&&(l+=t),e===3)l===0&&t===-12&&(l=12);else if(e===6)return qx(l,n);let d=zn(a,Vt.MinusSign);return In(l,n,d,i,r)}}function Wx(e,n){switch(e){case 0:return n.getFullYear();case 1:return n.getMonth();case 2:return n.getDate();case 3:return n.getHours();case 4:return n.getMinutes();case 5:return n.getSeconds();case 6:return n.getMilliseconds();case 7:return n.getDay();default:throw new O(2301,!1)}}function Ne(e,n,t=St.Format,i=!1){return function(r,o){return Zx(r,o,e,n,t,i)}}function Zx(e,n,t,i,r,o){switch(t){case 2:return PC(n,r,i)[e.getMonth()];case 1:return OC(n,r,i)[e.getDay()];case 0:let a=e.getHours(),l=e.getMinutes();if(o){let p=jC(n),h=UC(n,r,i),_=p.findIndex(S=>{if(Array.isArray(S)){let[b,x]=S,B=a>=b.hours&&l>=b.minutes,j=a<x.hours||a===x.hours&&l<x.minutes;if(b.hours<x.hours){if(B&&j)return!0}else if(B||j)return!0}else if(S.hours===a&&S.minutes===l)return!0;return!1});if(_!==-1)return h[_]}return FC(n,r,i)[a<12?0:1];case 3:return kC(n,i)[e.getFullYear()<=0?0:1];default:let d=t;throw new O(2302,!1)}}function lc(e){return function(n,t,i){let r=-1*i,o=zn(t,Vt.MinusSign),a=r>0?Math.floor(r/60):Math.ceil(r/60);switch(e){case 0:return(r>=0?"+":"")+In(a,2,o)+In(Math.abs(r%60),2,o);case 1:return"GMT"+(r>=0?"+":"")+In(a,1,o);case 2:return"GMT"+(r>=0?"+":"")+In(a,2,o)+":"+In(Math.abs(r%60),2,o);case 3:return i===0?"Z":(r>=0?"+":"")+In(a,2,o)+":"+In(Math.abs(r%60),2,o);default:throw new O(2310,!1)}}}var Yx=0,uc=4;function Qx(e){let n=dc(e,Yx,1).getDay();return dc(e,0,1+(n<=uc?uc:uc+7)-n)}function $C(e){let n=e.getDay(),t=n===0?-3:uc-n;return dc(e.getFullYear(),e.getMonth(),e.getDate()+t)}function am(e,n=!1){return function(t,i){let r;if(n){let o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,a=t.getDate();r=1+Math.floor((a+o)/7)}else{let o=$C(t),a=Qx(o.getFullYear()),l=o.getTime()-a.getTime();r=1+Math.round(l/6048e5)}return In(r,e,zn(i,Vt.MinusSign))}}function cc(e,n=!1){return function(t,i){let o=$C(t).getFullYear();return In(o,e,zn(i,Vt.MinusSign),n)}}var sm={};function Kx(e){if(sm[e])return sm[e];let n;switch(e){case"G":case"GG":case"GGG":n=Ne(3,Se.Abbreviated);break;case"GGGG":n=Ne(3,Se.Wide);break;case"GGGGG":n=Ne(3,Se.Narrow);break;case"y":n=et(0,1,0,!1,!0);break;case"yy":n=et(0,2,0,!0,!0);break;case"yyy":n=et(0,3,0,!1,!0);break;case"yyyy":n=et(0,4,0,!1,!0);break;case"Y":n=cc(1);break;case"YY":n=cc(2,!0);break;case"YYY":n=cc(3);break;case"YYYY":n=cc(4);break;case"M":case"L":n=et(1,1,1);break;case"MM":case"LL":n=et(1,2,1);break;case"MMM":n=Ne(2,Se.Abbreviated);break;case"MMMM":n=Ne(2,Se.Wide);break;case"MMMMM":n=Ne(2,Se.Narrow);break;case"LLL":n=Ne(2,Se.Abbreviated,St.Standalone);break;case"LLLL":n=Ne(2,Se.Wide,St.Standalone);break;case"LLLLL":n=Ne(2,Se.Narrow,St.Standalone);break;case"w":n=am(1);break;case"ww":n=am(2);break;case"W":n=am(1,!0);break;case"d":n=et(2,1);break;case"dd":n=et(2,2);break;case"c":case"cc":n=et(7,1);break;case"ccc":n=Ne(1,Se.Abbreviated,St.Standalone);break;case"cccc":n=Ne(1,Se.Wide,St.Standalone);break;case"ccccc":n=Ne(1,Se.Narrow,St.Standalone);break;case"cccccc":n=Ne(1,Se.Short,St.Standalone);break;case"E":case"EE":case"EEE":n=Ne(1,Se.Abbreviated);break;case"EEEE":n=Ne(1,Se.Wide);break;case"EEEEE":n=Ne(1,Se.Narrow);break;case"EEEEEE":n=Ne(1,Se.Short);break;case"a":case"aa":case"aaa":n=Ne(0,Se.Abbreviated);break;case"aaaa":n=Ne(0,Se.Wide);break;case"aaaaa":n=Ne(0,Se.Narrow);break;case"b":case"bb":case"bbb":n=Ne(0,Se.Abbreviated,St.Standalone,!0);break;case"bbbb":n=Ne(0,Se.Wide,St.Standalone,!0);break;case"bbbbb":n=Ne(0,Se.Narrow,St.Standalone,!0);break;case"B":case"BB":case"BBB":n=Ne(0,Se.Abbreviated,St.Format,!0);break;case"BBBB":n=Ne(0,Se.Wide,St.Format,!0);break;case"BBBBB":n=Ne(0,Se.Narrow,St.Format,!0);break;case"h":n=et(3,1,-12);break;case"hh":n=et(3,2,-12);break;case"H":n=et(3,1);break;case"HH":n=et(3,2);break;case"m":n=et(4,1);break;case"mm":n=et(4,2);break;case"s":n=et(5,1);break;case"ss":n=et(5,2);break;case"S":n=et(6,1);break;case"SS":n=et(6,2);break;case"SSS":n=et(6,3);break;case"Z":case"ZZ":case"ZZZ":n=lc(0);break;case"ZZZZZ":n=lc(3);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":n=lc(1);break;case"OOOO":case"ZZZZ":case"zzzz":n=lc(2);break;default:return null}return sm[e]=n,n}function HC(e,n){e=e.replace(/:/g,"");let t=Date.parse("Jan 01, 1970 00:00:00 "+e)/6e4;return isNaN(t)?n:t}function Jx(e,n){return e=new Date(e.getTime()),e.setMinutes(e.getMinutes()+n),e}function Xx(e,n,t){let r=e.getTimezoneOffset(),o=HC(n,r);return Jx(e,-1*(o-r))}function eI(e){if(MC(e))return e;if(typeof e=="number"&&!isNaN(e))return new Date(e);if(typeof e=="string"){if(e=e.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(e)){let[r,o=1,a=1]=e.split("-").map(l=>+l);return dc(r,o-1,a)}let t=parseFloat(e);if(!isNaN(e-t))return new Date(t);let i;if(i=e.match(Gx))return tI(i)}let n=new Date(e);if(!MC(n))throw new O(2311,!1);return n}function tI(e){let n=new Date(0),t=0,i=0,r=e[8]?n.setUTCFullYear:n.setFullYear,o=e[8]?n.setUTCHours:n.setHours;e[9]&&(t=Number(e[9]+e[10]),i=Number(e[9]+e[11])),r.call(n,Number(e[1]),Number(e[2])-1,Number(e[3]));let a=Number(e[4]||0)-t,l=Number(e[5]||0)-i,d=Number(e[6]||0),p=Math.floor(parseFloat("0."+(e[7]||0))*1e3);return o.call(n,a,l,d,p),n}function MC(e){return e instanceof Date&&!isNaN(e.valueOf())}var nI=/^(\d+)?\.((\d+)(-(\d+))?)?$/,AC=22,fc=".",Da="0",iI=";",rI=",",lm="#";function oI(e,n,t,i,r,o,a=!1){let l="",d=!1;if(!isFinite(e))l=zn(t,Vt.Infinity);else{let p=lI(e);a&&(p=sI(p));let h=n.minInt,_=n.minFrac,S=n.maxFrac;if(o){let we=o.match(nI);if(we===null)throw new O(2306,!1);let Ft=we[1],Ye=we[3],An=we[5];Ft!=null&&(h=cm(Ft)),Ye!=null&&(_=cm(Ye)),An!=null?S=cm(An):Ye!=null&&_>S&&(S=_)}cI(p,_,S);let b=p.digits,x=p.integerLen,B=p.exponent,j=[];for(d=b.every(we=>!we);x<h;x++)b.unshift(0);for(;x<0;x++)b.unshift(0);x>0?j=b.splice(x,b.length):(j=b,b=[0]);let U=[];for(b.length>=n.lgSize&&U.unshift(b.splice(-n.lgSize,b.length).join(""));b.length>n.gSize;)U.unshift(b.splice(-n.gSize,b.length).join(""));b.length&&U.unshift(b.join("")),l=U.join(zn(t,i)),j.length&&(l+=zn(t,r)+j.join("")),B&&(l+=zn(t,Vt.Exponential)+"+"+B)}return e<0&&!d?l=n.negPre+l+n.negSuf:l=n.posPre+l+n.posSuf,l}function GC(e,n,t){let i=LC(n,fm.Decimal),r=aI(i,zn(n,Vt.MinusSign));return oI(e,r,n,Vt.Group,Vt.Decimal,t)}function aI(e,n="-"){let t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},i=e.split(iI),r=i[0],o=i[1],a=r.indexOf(fc)!==-1?r.split(fc):[r.substring(0,r.lastIndexOf(Da)+1),r.substring(r.lastIndexOf(Da)+1)],l=a[0],d=a[1]||"";t.posPre=l.substring(0,l.indexOf(lm));for(let h=0;h<d.length;h++){let _=d.charAt(h);_===Da?t.minFrac=t.maxFrac=h+1:_===lm?t.maxFrac=h+1:t.posSuf+=_}let p=l.split(rI);if(t.gSize=p[1]?p[1].length:0,t.lgSize=p[2]||p[1]?(p[2]||p[1]).length:0,o){let h=r.length-t.posPre.length-t.posSuf.length,_=o.indexOf(lm);t.negPre=o.substring(0,_).replace(/'/g,""),t.negSuf=o.slice(_+h).replace(/'/g,"")}else t.negPre=n+t.posPre,t.negSuf=t.posSuf;return t}function sI(e){if(e.digits[0]===0)return e;let n=e.digits.length-e.integerLen;return e.exponent?e.exponent+=2:(n===0?e.digits.push(0,0):n===1&&e.digits.push(0),e.integerLen+=2),e}function lI(e){let n=Math.abs(e)+"",t=0,i,r,o,a,l;for((r=n.indexOf(fc))>-1&&(n=n.replace(fc,"")),(o=n.search(/e/i))>0?(r<0&&(r=o),r+=+n.slice(o+1),n=n.substring(0,o)):r<0&&(r=n.length),o=0;n.charAt(o)===Da;o++);if(o===(l=n.length))i=[0],r=1;else{for(l--;n.charAt(l)===Da;)l--;for(r-=o,i=[],a=0;o<=l;o++,a++)i[a]=Number(n.charAt(o))}return r>AC&&(i=i.splice(0,AC-1),t=r-1,r=1),{digits:i,exponent:t,integerLen:r}}function cI(e,n,t){if(n>t)throw new O(2307,!1);let i=e.digits,r=i.length-e.integerLen,o=Math.min(Math.max(n,r),t),a=o+e.integerLen,l=i[a];if(a>0){i.splice(Math.max(e.integerLen,a));for(let _=a;_<i.length;_++)i[_]=0}else{r=Math.max(0,r),e.integerLen=1,i.length=Math.max(1,a=o+1),i[0]=0;for(let _=1;_<a;_++)i[_]=0}if(l>=5)if(a-1<0){for(let _=0;_>a;_--)i.unshift(0),e.integerLen++;i.unshift(1),e.integerLen++}else i[a-1]++;for(;r<Math.max(0,o);r++)i.push(0);let d=o!==0,p=n+e.integerLen,h=i.reduceRight(function(_,S,b,x){return S=S+_,x[b]=S<10?S:S-10,d&&(x[b]===0&&b>=p?x.pop():d=!1),S>=10?1:0},0);h&&(i.unshift(h),e.integerLen++)}function cm(e){let n=parseInt(e);if(isNaN(n))throw new O(2305,!1);return n}var um=/\s+/,NC=[],pm=(()=>{class e{_ngEl;_renderer;initialClasses=NC;rawClass;stateMap=new Map;constructor(t,i){this._ngEl=t,this._renderer=i}set klass(t){this.initialClasses=t!=null?t.trim().split(um):NC}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(um):t}ngDoCheck(){for(let i of this.initialClasses)this._updateState(i,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let i of t)this._updateState(i,!0);else if(t!=null)for(let i of Object.keys(t))this._updateState(i,!!t[i]);this._applyStateDiff()}_updateState(t,i){let r=this.stateMap.get(t);r!==void 0?(r.enabled!==i&&(r.changed=!0,r.enabled=i),r.touched=!0):this.stateMap.set(t,{enabled:i,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let i=t[0],r=t[1];r.changed?(this._toggleClass(i,r.enabled),r.changed=!1):r.touched||(r.enabled&&this._toggleClass(i,!1),this.stateMap.delete(i)),r.touched=!1}}_toggleClass(t,i){t=t.trim(),t.length>0&&t.split(um).forEach(r=>{i?this._renderer.addClass(this._ngEl.nativeElement,r):this._renderer.removeClass(this._ngEl.nativeElement,r)})}static \u0275fac=function(i){return new(i||e)(Q(on),Q(En))};static \u0275dir=Te({type:e,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"}})}return e})();function zC(e,n){return new O(2100,!1)}var uI="mediumDate",qC=new L(""),WC=new L(""),mm=(()=>{class e{locale;defaultTimezone;defaultOptions;constructor(t,i,r){this.locale=t,this.defaultTimezone=i,this.defaultOptions=r}transform(t,i,r,o){if(t==null||t===""||t!==t)return null;try{let a=i??this.defaultOptions?.dateFormat??uI,l=r??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return BC(t,a,o||this.locale,l)}catch(a){throw zC(e,a.message)}}static \u0275fac=function(i){return new(i||e)(Q(to,16),Q(qC,24),Q(WC,24))};static \u0275pipe=Kl({name:"date",type:e,pure:!0})}return e})();var wn=(()=>{class e{_locale;constructor(t){this._locale=t}transform(t,i,r){if(!dI(t))return null;r||=this._locale;try{let o=fI(t);return GC(o,r,i)}catch(o){throw zC(e,o.message)}}static \u0275fac=function(i){return new(i||e)(Q(to,16))};static \u0275pipe=Kl({name:"number",type:e,pure:!0})}return e})();function dI(e){return!(e==null||e===""||e!==e)}function fI(e){if(typeof e=="string"&&!isNaN(Number(e)-parseFloat(e)))return Number(e);if(typeof e!="number")throw new O(2309,!1);return e}var Y=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=sn({type:e});static \u0275inj=$t({})}return e})();function Sa(e,n){n=encodeURIComponent(n);for(let t of e.split(";")){let i=t.indexOf("="),[r,o]=i==-1?[t,""]:[t.slice(0,i),t.slice(i+1)];if(r.trim()===n)return decodeURIComponent(o)}return null}var cr=class{};var ZC="browser";var YC=(()=>{class e{static \u0275prov=A({token:e,providedIn:"root",factory:()=>new hm(g(Pe),window)})}return e})(),hm=class{document;window;offset=()=>[0,0];constructor(n,t){this.document=n,this.window=t}setOffset(n){Array.isArray(n)?this.offset=()=>n:this.offset=n}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(n,t){this.window.scrollTo(he(N({},t),{left:n[0],top:n[1]}))}scrollToAnchor(n,t){let i=mI(this.document,n);i&&(this.scrollToElement(i,t),i.focus())}setHistoryScrollRestoration(n){try{this.window.history.scrollRestoration=n}catch{console.warn(gi(2400,!1))}}scrollToElement(n,t){let i=n.getBoundingClientRect(),r=i.left+this.window.pageXOffset,o=i.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(he(N({},t),{left:r-a[0],top:o-a[1]}))}};function mI(e,n){let t=e.getElementById(n)||e.getElementsByName(n)[0];if(t)return t;if(typeof e.createTreeWalker=="function"&&e.body&&typeof e.body.attachShadow=="function"){let i=e.createTreeWalker(e.body,NodeFilter.SHOW_ELEMENT),r=i.currentNode;for(;r;){let o=r.shadowRoot;if(o){let a=o.getElementById(n)||o.querySelector(`[name="${n}"]`);if(a)return a}r=i.nextNode()}}return null}var xa=class{_doc;constructor(n){this._doc=n}manager},pc=(()=>{class e extends xa{constructor(t){super(t)}supports(t){return!0}addEventListener(t,i,r,o){return t.addEventListener(i,r,o),()=>this.removeEventListener(t,i,r,o)}removeEventListener(t,i,r,o){return t.removeEventListener(i,r,o)}static \u0275fac=function(i){return new(i||e)(q(Pe))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),hc=new L(""),_m=(()=>{class e{_zone;_plugins;_eventNameToPlugin=new Map;constructor(t,i){this._zone=i,t.forEach(a=>{a.manager=this});let r=t.filter(a=>!(a instanceof pc));this._plugins=r.slice().reverse();let o=t.find(a=>a instanceof pc);o&&this._plugins.push(o)}addEventListener(t,i,r,o){return this._findPluginFor(i).addEventListener(t,i,r,o)}getZone(){return this._zone}_findPluginFor(t){let i=this._eventNameToPlugin.get(t);if(i)return i;if(i=this._plugins.find(o=>o.supports(t)),!i)throw new O(5101,!1);return this._eventNameToPlugin.set(t,i),i}static \u0275fac=function(i){return new(i||e)(q(hc),q(je))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),gm="ng-app-id";function QC(e){for(let n of e)n.remove()}function KC(e,n){let t=n.createElement("style");return t.textContent=e,t}function hI(e,n,t,i){let r=e.head?.querySelectorAll(`style[${gm}="${n}"],link[${gm}="${n}"]`);if(r)for(let o of r)o.removeAttribute(gm),o instanceof HTMLLinkElement?i.set(o.href.slice(o.href.lastIndexOf("/")+1),{usage:0,elements:[o]}):o.textContent&&t.set(o.textContent,{usage:0,elements:[o]})}function Cm(e,n){let t=n.createElement("link");return t.setAttribute("rel","stylesheet"),t.setAttribute("href",e),t}var bm=(()=>{class e{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;constructor(t,i,r,o={}){this.doc=t,this.appId=i,this.nonce=r,hI(t,i,this.inline,this.external),this.hosts.add(t.head)}addStyles(t,i){for(let r of t)this.addUsage(r,this.inline,KC);i?.forEach(r=>this.addUsage(r,this.external,Cm))}removeStyles(t,i){for(let r of t)this.removeUsage(r,this.inline);i?.forEach(r=>this.removeUsage(r,this.external))}addUsage(t,i,r){let o=i.get(t);o?o.usage++:i.set(t,{usage:1,elements:[...this.hosts].map(a=>this.addElement(a,r(t,this.doc)))})}removeUsage(t,i){let r=i.get(t);r&&(r.usage--,r.usage<=0&&(QC(r.elements),i.delete(t)))}ngOnDestroy(){for(let[,{elements:t}]of[...this.inline,...this.external])QC(t);this.hosts.clear()}addHost(t){this.hosts.add(t);for(let[i,{elements:r}]of this.inline)r.push(this.addElement(t,KC(i,this.doc)));for(let[i,{elements:r}]of this.external)r.push(this.addElement(t,Cm(i,this.doc)))}removeHost(t){this.hosts.delete(t)}addElement(t,i){return this.nonce&&i.setAttribute("nonce",this.nonce),t.appendChild(i)}static \u0275fac=function(i){return new(i||e)(q(Pe),q(Ll),q(jl,8),q(Jr))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),vm={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Em=/%COMP%/g;var XC="%COMP%",gI=`_nghost-${XC}`,vI=`_ngcontent-${XC}`,CI=!0,yI=new L("",{providedIn:"root",factory:()=>CI});function _I(e){return vI.replace(Em,e)}function bI(e){return gI.replace(Em,e)}function ey(e,n){return n.map(t=>t.replace(Em,e))}var Dm=(()=>{class e{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(t,i,r,o,a,l,d,p=null,h=null){this.eventManager=t,this.sharedStylesHost=i,this.appId=r,this.removeStylesOnCompDestroy=o,this.doc=a,this.platformId=l,this.ngZone=d,this.nonce=p,this.tracingService=h,this.platformIsServer=!1,this.defaultRenderer=new Ia(t,a,d,this.platformIsServer,this.tracingService)}createRenderer(t,i){if(!t||!i)return this.defaultRenderer;let r=this.getOrCreateRenderer(t,i);return r instanceof mc?r.applyToHost(t):r instanceof wa&&r.applyStyles(),r}getOrCreateRenderer(t,i){let r=this.rendererByCompId,o=r.get(i.id);if(!o){let a=this.doc,l=this.ngZone,d=this.eventManager,p=this.sharedStylesHost,h=this.removeStylesOnCompDestroy,_=this.platformIsServer,S=this.tracingService;switch(i.encapsulation){case oi.Emulated:o=new mc(d,p,i,this.appId,h,a,l,_,S);break;case oi.ShadowDom:return new ym(d,p,t,i,a,l,this.nonce,_,S);default:o=new wa(d,p,i,h,a,l,_,S);break}r.set(i.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(t){this.rendererByCompId.delete(t)}static \u0275fac=function(i){return new(i||e)(q(_m),q(bm),q(Ll),q(yI),q(Pe),q(Jr),q(je),q(jl),q(ar,8))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Ia=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(n,t,i,r,o){this.eventManager=n,this.doc=t,this.ngZone=i,this.platformIsServer=r,this.tracingService=o}destroy(){}destroyNode=null;createElement(n,t){return t?this.doc.createElementNS(vm[t]||t,n):this.doc.createElement(n)}createComment(n){return this.doc.createComment(n)}createText(n){return this.doc.createTextNode(n)}appendChild(n,t){(JC(n)?n.content:n).appendChild(t)}insertBefore(n,t,i){n&&(JC(n)?n.content:n).insertBefore(t,i)}removeChild(n,t){t.remove()}selectRootElement(n,t){let i=typeof n=="string"?this.doc.querySelector(n):n;if(!i)throw new O(-5104,!1);return t||(i.textContent=""),i}parentNode(n){return n.parentNode}nextSibling(n){return n.nextSibling}setAttribute(n,t,i,r){if(r){t=r+":"+t;let o=vm[r];o?n.setAttributeNS(o,t,i):n.setAttribute(t,i)}else n.setAttribute(t,i)}removeAttribute(n,t,i){if(i){let r=vm[i];r?n.removeAttributeNS(r,t):n.removeAttribute(`${i}:${t}`)}else n.removeAttribute(t)}addClass(n,t){n.classList.add(t)}removeClass(n,t){n.classList.remove(t)}setStyle(n,t,i,r){r&(Bn.DashCase|Bn.Important)?n.style.setProperty(t,i,r&Bn.Important?"important":""):n.style[t]=i}removeStyle(n,t,i){i&Bn.DashCase?n.style.removeProperty(t):n.style[t]=""}setProperty(n,t,i){n!=null&&(n[t]=i)}setValue(n,t){n.nodeValue=t}listen(n,t,i,r){if(typeof n=="string"&&(n=ln().getGlobalEventTarget(this.doc,n),!n))throw new O(5102,!1);let o=this.decoratePreventDefault(i);return this.tracingService?.wrapEventListener&&(o=this.tracingService.wrapEventListener(n,t,o)),this.eventManager.addEventListener(n,t,o,r)}decoratePreventDefault(n){return t=>{if(t==="__ngUnwrap__")return n;n(t)===!1&&t.preventDefault()}}};function JC(e){return e.tagName==="TEMPLATE"&&e.content!==void 0}var ym=class extends Ia{sharedStylesHost;hostEl;shadowRoot;constructor(n,t,i,r,o,a,l,d,p){super(n,o,a,d,p),this.sharedStylesHost=t,this.hostEl=i,this.shadowRoot=i.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let h=r.styles;h=ey(r.id,h);for(let S of h){let b=document.createElement("style");l&&b.setAttribute("nonce",l),b.textContent=S,this.shadowRoot.appendChild(b)}let _=r.getExternalStyles?.();if(_)for(let S of _){let b=Cm(S,o);l&&b.setAttribute("nonce",l),this.shadowRoot.appendChild(b)}}nodeOrShadowRoot(n){return n===this.hostEl?this.shadowRoot:n}appendChild(n,t){return super.appendChild(this.nodeOrShadowRoot(n),t)}insertBefore(n,t,i){return super.insertBefore(this.nodeOrShadowRoot(n),t,i)}removeChild(n,t){return super.removeChild(null,t)}parentNode(n){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(n)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},wa=class extends Ia{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(n,t,i,r,o,a,l,d,p){super(n,o,a,l,d),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=r;let h=i.styles;this.styles=p?ey(p,h):h,this.styleUrls=i.getExternalStyles?.(p)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&Qr.size===0&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mc=class extends wa{contentAttr;hostAttr;constructor(n,t,i,r,o,a,l,d,p){let h=r+"-"+i.id;super(n,t,i,o,a,l,d,p,h),this.contentAttr=_I(h),this.hostAttr=bI(h)}applyToHost(n){this.applyStyles(),this.setAttribute(n,this.hostAttr,"")}createElement(n,t){let i=super.createElement(n,t);return super.setAttribute(i,this.contentAttr,""),i}};var gc=class e extends Ca{supportsDOMEvents=!0;static makeCurrent(){im(new e)}onAndCancel(n,t,i,r){return n.addEventListener(t,i,r),()=>{n.removeEventListener(t,i,r)}}dispatchEvent(n,t){n.dispatchEvent(t)}remove(n){n.remove()}createElement(n,t){return t=t||this.getDefaultDocument(),t.createElement(n)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(n){return n.nodeType===Node.ELEMENT_NODE}isShadowRoot(n){return n instanceof DocumentFragment}getGlobalEventTarget(n,t){return t==="window"?window:t==="document"?n:t==="body"?n.body:null}getBaseHref(n){let t=EI();return t==null?null:DI(t)}resetBaseElement(){Ta=null}getUserAgent(){return window.navigator.userAgent}getCookie(n){return Sa(document.cookie,n)}},Ta=null;function EI(){return Ta=Ta||document.head.querySelector("base"),Ta?Ta.getAttribute("href"):null}function DI(e){return new URL(e,document.baseURI).pathname}var SI=(()=>{class e{build(){return new XMLHttpRequest}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),ty=["alt","control","meta","shift"],xI={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},II={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey},ny=(()=>{class e extends xa{constructor(t){super(t)}supports(t){return e.parseEventName(t)!=null}addEventListener(t,i,r,o){let a=e.parseEventName(i),l=e.eventCallback(a.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ln().onAndCancel(t,a.domEventName,l,o))}static parseEventName(t){let i=t.toLowerCase().split("."),r=i.shift();if(i.length===0||!(r==="keydown"||r==="keyup"))return null;let o=e._normalizeKey(i.pop()),a="",l=i.indexOf("code");if(l>-1&&(i.splice(l,1),a="code."),ty.forEach(p=>{let h=i.indexOf(p);h>-1&&(i.splice(h,1),a+=p+".")}),a+=o,i.length!=0||o.length===0)return null;let d={};return d.domEventName=r,d.fullKey=a,d}static matchEventFullKeyCode(t,i){let r=xI[t.key]||t.key,o="";return i.indexOf("code.")>-1&&(r=t.code,o="code."),r==null||!r?!1:(r=r.toLowerCase(),r===" "?r="space":r==="."&&(r="dot"),ty.forEach(a=>{if(a!==r){let l=II[a];l(t)&&(o+=a+".")}}),o+=r,o===i)}static eventCallback(t,i,r){return o=>{e.matchEventFullKeyCode(o,t)&&r.runGuarded(()=>i(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static \u0275fac=function(i){return new(i||e)(q(Pe))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();function Sm(e,n,t){let i=N({rootComponent:e,platformRef:t?.platformRef},wI(n));return DC(i)}function wI(e){return{appProviders:[...RI,...e?.providers??[]],platformProviders:NI}}function TI(){gc.makeCurrent()}function MI(){return new dn}function AI(){return hp(document),document}var NI=[{provide:Jr,useValue:ZC},{provide:Vl,useValue:TI,multi:!0},{provide:Pe,useFactory:AI}];var RI=[{provide:Bo,useValue:"root"},{provide:dn,useFactory:MI},{provide:hc,useClass:pc,multi:!0,deps:[Pe]},{provide:hc,useClass:ny,multi:!0,deps:[Pe]},Dm,bm,_m,{provide:nr,useExisting:Dm},{provide:cr,useClass:SI},[]];var oo=class{},Ma=class{},qn=class e{headers;normalizedNames=new Map;lazyInit;lazyUpdate=null;constructor(n){n?typeof n=="string"?this.lazyInit=()=>{this.headers=new Map,n.split(`
`).forEach(t=>{let i=t.indexOf(":");if(i>0){let r=t.slice(0,i),o=t.slice(i+1).trim();this.addHeaderEntry(r,o)}})}:typeof Headers<"u"&&n instanceof Headers?(this.headers=new Map,n.forEach((t,i)=>{this.addHeaderEntry(i,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(n).forEach(([t,i])=>{this.setHeaderEntries(t,i)})}:this.headers=new Map}has(n){return this.init(),this.headers.has(n.toLowerCase())}get(n){this.init();let t=this.headers.get(n.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(n){return this.init(),this.headers.get(n.toLowerCase())||null}append(n,t){return this.clone({name:n,value:t,op:"a"})}set(n,t){return this.clone({name:n,value:t,op:"s"})}delete(n,t){return this.clone({name:n,value:t,op:"d"})}maybeSetNormalizedName(n,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,n)}init(){this.lazyInit&&(this.lazyInit instanceof e?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(n=>this.applyUpdate(n)),this.lazyUpdate=null))}copyFrom(n){n.init(),Array.from(n.headers.keys()).forEach(t=>{this.headers.set(t,n.headers.get(t)),this.normalizedNames.set(t,n.normalizedNames.get(t))})}clone(n){let t=new e;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof e?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([n]),t}applyUpdate(n){let t=n.name.toLowerCase();switch(n.op){case"a":case"s":let i=n.value;if(typeof i=="string"&&(i=[i]),i.length===0)return;this.maybeSetNormalizedName(n.name,t);let r=(n.op==="a"?this.headers.get(t):void 0)||[];r.push(...i),this.headers.set(t,r);break;case"d":let o=n.value;if(!o)this.headers.delete(t),this.normalizedNames.delete(t);else{let a=this.headers.get(t);if(!a)return;a=a.filter(l=>o.indexOf(l)===-1),a.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,a)}break}}addHeaderEntry(n,t){let i=n.toLowerCase();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(t):this.headers.set(i,[t])}setHeaderEntries(n,t){let i=(Array.isArray(t)?t:[t]).map(o=>o.toString()),r=n.toLowerCase();this.headers.set(r,i),this.maybeSetNormalizedName(n,r)}forEach(n){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>n(this.normalizedNames.get(t),this.headers.get(t)))}};var Cc=class{encodeKey(n){return iy(n)}encodeValue(n){return iy(n)}decodeKey(n){return decodeURIComponent(n)}decodeValue(n){return decodeURIComponent(n)}};function FI(e,n){let t=new Map;return e.length>0&&e.replace(/^\?/,"").split("&").forEach(r=>{let o=r.indexOf("="),[a,l]=o==-1?[n.decodeKey(r),""]:[n.decodeKey(r.slice(0,o)),n.decodeValue(r.slice(o+1))],d=t.get(a)||[];d.push(l),t.set(a,d)}),t}var OI=/%(\d[a-f0-9])/gi,PI={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function iy(e){return encodeURIComponent(e).replace(OI,(n,t)=>PI[t]??n)}function vc(e){return`${e}`}var Tn=class e{map;encoder;updates=null;cloneFrom=null;constructor(n={}){if(this.encoder=n.encoder||new Cc,n.fromString){if(n.fromObject)throw new O(2805,!1);this.map=FI(n.fromString,this.encoder)}else n.fromObject?(this.map=new Map,Object.keys(n.fromObject).forEach(t=>{let i=n.fromObject[t],r=Array.isArray(i)?i.map(vc):[vc(i)];this.map.set(t,r)})):this.map=null}has(n){return this.init(),this.map.has(n)}get(n){this.init();let t=this.map.get(n);return t?t[0]:null}getAll(n){return this.init(),this.map.get(n)||null}keys(){return this.init(),Array.from(this.map.keys())}append(n,t){return this.clone({param:n,value:t,op:"a"})}appendAll(n){let t=[];return Object.keys(n).forEach(i=>{let r=n[i];Array.isArray(r)?r.forEach(o=>{t.push({param:i,value:o,op:"a"})}):t.push({param:i,value:r,op:"a"})}),this.clone(t)}set(n,t){return this.clone({param:n,value:t,op:"s"})}delete(n,t){return this.clone({param:n,value:t,op:"d"})}toString(){return this.init(),this.keys().map(n=>{let t=this.encoder.encodeKey(n);return this.map.get(n).map(i=>t+"="+this.encoder.encodeValue(i)).join("&")}).filter(n=>n!=="").join("&")}clone(n){let t=new e({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(n),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(n=>this.map.set(n,this.cloneFrom.map.get(n))),this.updates.forEach(n=>{switch(n.op){case"a":case"s":let t=(n.op==="a"?this.map.get(n.param):void 0)||[];t.push(vc(n.value)),this.map.set(n.param,t);break;case"d":if(n.value!==void 0){let i=this.map.get(n.param)||[],r=i.indexOf(vc(n.value));r!==-1&&i.splice(r,1),i.length>0?this.map.set(n.param,i):this.map.delete(n.param)}else{this.map.delete(n.param);break}}}),this.cloneFrom=this.updates=null)}};var yc=class{map=new Map;set(n,t){return this.map.set(n,t),this}get(n){return this.map.has(n)||this.map.set(n,n.defaultValue()),this.map.get(n)}delete(n){return this.map.delete(n),this}has(n){return this.map.has(n)}keys(){return this.map.keys()}};function kI(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function ry(e){return typeof ArrayBuffer<"u"&&e instanceof ArrayBuffer}function oy(e){return typeof Blob<"u"&&e instanceof Blob}function ay(e){return typeof FormData<"u"&&e instanceof FormData}function LI(e){return typeof URLSearchParams<"u"&&e instanceof URLSearchParams}var sy="Content-Type",ly="Accept",cy="X-Request-URL",uy="text/plain",dy="application/json",VI=`${dy}, ${uy}, */*`,io=class e{url;body=null;headers;context;reportProgress=!1;withCredentials=!1;credentials;keepalive=!1;cache;priority;mode;redirect;referrer;integrity;responseType="json";method;params;urlWithParams;transferCache;timeout;constructor(n,t,i,r){this.url=t,this.method=n.toUpperCase();let o;if(kI(this.method)||r?(this.body=i!==void 0?i:null,o=r):o=i,o){if(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,this.keepalive=!!o.keepalive,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params),o.priority&&(this.priority=o.priority),o.cache&&(this.cache=o.cache),o.credentials&&(this.credentials=o.credentials),typeof o.timeout=="number"){if(o.timeout<1||!Number.isInteger(o.timeout))throw new O(2822,"");this.timeout=o.timeout}o.mode&&(this.mode=o.mode),o.redirect&&(this.redirect=o.redirect),o.integrity&&(this.integrity=o.integrity),o.referrer&&(this.referrer=o.referrer),this.transferCache=o.transferCache}if(this.headers??=new qn,this.context??=new yc,!this.params)this.params=new Tn,this.urlWithParams=t;else{let a=this.params.toString();if(a.length===0)this.urlWithParams=t;else{let l=t.indexOf("?"),d=l===-1?"?":l<t.length-1?"&":"";this.urlWithParams=t+d+a}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||ry(this.body)||oy(this.body)||ay(this.body)||LI(this.body)?this.body:this.body instanceof Tn?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ay(this.body)?null:oy(this.body)?this.body.type||null:ry(this.body)?null:typeof this.body=="string"?uy:this.body instanceof Tn?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?dy:null}clone(n={}){let t=n.method||this.method,i=n.url||this.url,r=n.responseType||this.responseType,o=n.keepalive??this.keepalive,a=n.priority||this.priority,l=n.cache||this.cache,d=n.mode||this.mode,p=n.redirect||this.redirect,h=n.credentials||this.credentials,_=n.referrer||this.referrer,S=n.integrity||this.integrity,b=n.transferCache??this.transferCache,x=n.timeout??this.timeout,B=n.body!==void 0?n.body:this.body,j=n.withCredentials??this.withCredentials,U=n.reportProgress??this.reportProgress,we=n.headers||this.headers,Ft=n.params||this.params,Ye=n.context??this.context;return n.setHeaders!==void 0&&(we=Object.keys(n.setHeaders).reduce((An,ki)=>An.set(ki,n.setHeaders[ki]),we)),n.setParams&&(Ft=Object.keys(n.setParams).reduce((An,ki)=>An.set(ki,n.setParams[ki]),Ft)),new e(t,i,B,{params:Ft,headers:we,context:Ye,reportProgress:U,responseType:r,withCredentials:j,transferCache:b,keepalive:o,cache:l,priority:a,timeout:x,mode:d,redirect:p,credentials:h,referrer:_,integrity:S})}},ur=(function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e})(ur||{}),ao=class{headers;status;statusText;url;ok;type;redirected;constructor(n,t=200,i="OK"){this.headers=n.headers||new qn,this.status=n.status!==void 0?n.status:t,this.statusText=n.statusText||i,this.url=n.url||null,this.redirected=n.redirected,this.ok=this.status>=200&&this.status<300}},_c=class e extends ao{constructor(n={}){super(n)}type=ur.ResponseHeader;clone(n={}){return new e({headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0})}},Aa=class e extends ao{body;constructor(n={}){super(n),this.body=n.body!==void 0?n.body:null}type=ur.Response;clone(n={}){return new e({body:n.body!==void 0?n.body:this.body,headers:n.headers||this.headers,status:n.status!==void 0?n.status:this.status,statusText:n.statusText||this.statusText,url:n.url||this.url||void 0,redirected:n.redirected??this.redirected})}},ro=class extends ao{name="HttpErrorResponse";message;error;ok=!1;constructor(n){super(n,0,"Unknown Error"),this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${n.url||"(unknown url)"}`:this.message=`Http failure response for ${n.url||"(unknown url)"}: ${n.status} ${n.statusText}`,this.error=n.error||null}},jI=200,UI=204;function xm(e,n){return{body:n,headers:e.headers,context:e.context,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials,credentials:e.credentials,transferCache:e.transferCache,timeout:e.timeout,keepalive:e.keepalive,priority:e.priority,cache:e.cache,mode:e.mode,redirect:e.redirect,integrity:e.integrity,referrer:e.referrer}}var xe=(()=>{class e{handler;constructor(t){this.handler=t}request(t,i,r={}){let o;if(t instanceof io)o=t;else{let d;r.headers instanceof qn?d=r.headers:d=new qn(r.headers);let p;r.params&&(r.params instanceof Tn?p=r.params:p=new Tn({fromObject:r.params})),o=new io(t,i,r.body!==void 0?r.body:null,{headers:d,context:r.context,params:p,reportProgress:r.reportProgress,responseType:r.responseType||"json",withCredentials:r.withCredentials,transferCache:r.transferCache,keepalive:r.keepalive,priority:r.priority,cache:r.cache,mode:r.mode,redirect:r.redirect,credentials:r.credentials,referrer:r.referrer,integrity:r.integrity,timeout:r.timeout})}let a=W(o).pipe(Rn(d=>this.handler.handle(d)));if(t instanceof io||r.observe==="events")return a;let l=a.pipe(tt(d=>d instanceof Aa));switch(r.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return l.pipe(X(d=>{if(d.body!==null&&!(d.body instanceof ArrayBuffer))throw new O(2806,!1);return d.body}));case"blob":return l.pipe(X(d=>{if(d.body!==null&&!(d.body instanceof Blob))throw new O(2807,!1);return d.body}));case"text":return l.pipe(X(d=>{if(d.body!==null&&typeof d.body!="string")throw new O(2808,!1);return d.body}));case"json":default:return l.pipe(X(d=>d.body))}case"response":return l;default:throw new O(2809,!1)}}delete(t,i={}){return this.request("DELETE",t,i)}get(t,i={}){return this.request("GET",t,i)}head(t,i={}){return this.request("HEAD",t,i)}jsonp(t,i){return this.request("JSONP",t,{params:new Tn().append(i,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,i={}){return this.request("OPTIONS",t,i)}patch(t,i,r={}){return this.request("PATCH",t,xm(r,i))}post(t,i,r={}){return this.request("POST",t,xm(r,i))}put(t,i,r={}){return this.request("PUT",t,xm(r,i))}static \u0275fac=function(i){return new(i||e)(q(oo))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();var BI=new L("");function $I(e,n){return n(e)}function HI(e,n,t){return(i,r)=>ut(t,()=>n(i,o=>e(o,r)))}var wm=new L(""),fy=new L(""),py=new L("",{providedIn:"root",factory:()=>!0});var bc=(()=>{class e extends oo{backend;injector;chain=null;pendingTasks=g(sl);contributeToStability=g(py);constructor(t,i){super(),this.backend=t,this.injector=i}handle(t){if(this.chain===null){let i=Array.from(new Set([...this.injector.get(wm),...this.injector.get(fy,[])]));this.chain=i.reduceRight((r,o)=>HI(r,o,this.injector),$I)}if(this.contributeToStability){let i=this.pendingTasks.add();return this.chain(t,r=>this.backend.handle(r)).pipe(Ui(i))}else return this.chain(t,i=>this.backend.handle(i))}static \u0275fac=function(i){return new(i||e)(q(Ma),q(We))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();var GI=/^\)\]\}',?\n/,zI=RegExp(`^${cy}:`,"m");function qI(e){return"responseURL"in e&&e.responseURL?e.responseURL:zI.test(e.getAllResponseHeaders())?e.getResponseHeader(cy):null}var Im=(()=>{class e{xhrFactory;constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new O(-2800,!1);let i=this.xhrFactory;return W(null).pipe(ht(()=>new ve(o=>{let a=i.build();if(a.open(t.method,t.urlWithParams),t.withCredentials&&(a.withCredentials=!0),t.headers.forEach((j,U)=>a.setRequestHeader(j,U.join(","))),t.headers.has(ly)||a.setRequestHeader(ly,VI),!t.headers.has(sy)){let j=t.detectContentTypeHeader();j!==null&&a.setRequestHeader(sy,j)}if(t.timeout&&(a.timeout=t.timeout),t.responseType){let j=t.responseType.toLowerCase();a.responseType=j!=="json"?j:"text"}let l=t.serializeBody(),d=null,p=()=>{if(d!==null)return d;let j=a.statusText||"OK",U=new qn(a.getAllResponseHeaders()),we=qI(a)||t.url;return d=new _c({headers:U,status:a.status,statusText:j,url:we}),d},h=()=>{let{headers:j,status:U,statusText:we,url:Ft}=p(),Ye=null;U!==UI&&(Ye=typeof a.response>"u"?a.responseText:a.response),U===0&&(U=Ye?jI:0);let An=U>=200&&U<300;if(t.responseType==="json"&&typeof Ye=="string"){let ki=Ye;Ye=Ye.replace(GI,"");try{Ye=Ye!==""?JSON.parse(Ye):null}catch(J_){Ye=ki,An&&(An=!1,Ye={error:J_,text:Ye})}}An?(o.next(new Aa({body:Ye,headers:j,status:U,statusText:we,url:Ft||void 0})),o.complete()):o.error(new ro({error:Ye,headers:j,status:U,statusText:we,url:Ft||void 0}))},_=j=>{let{url:U}=p(),we=new ro({error:j,status:a.status||0,statusText:a.statusText||"Unknown Error",url:U||void 0});o.error(we)},S=_;t.timeout&&(S=j=>{let{url:U}=p(),we=new ro({error:new DOMException("Request timed out","TimeoutError"),status:a.status||0,statusText:a.statusText||"Request timeout",url:U||void 0});o.error(we)});let b=!1,x=j=>{b||(o.next(p()),b=!0);let U={type:ur.DownloadProgress,loaded:j.loaded};j.lengthComputable&&(U.total=j.total),t.responseType==="text"&&a.responseText&&(U.partialText=a.responseText),o.next(U)},B=j=>{let U={type:ur.UploadProgress,loaded:j.loaded};j.lengthComputable&&(U.total=j.total),o.next(U)};return a.addEventListener("load",h),a.addEventListener("error",_),a.addEventListener("timeout",S),a.addEventListener("abort",_),t.reportProgress&&(a.addEventListener("progress",x),l!==null&&a.upload&&a.upload.addEventListener("progress",B)),a.send(l),o.next({type:ur.Sent}),()=>{a.removeEventListener("error",_),a.removeEventListener("abort",_),a.removeEventListener("load",h),a.removeEventListener("timeout",S),t.reportProgress&&(a.removeEventListener("progress",x),l!==null&&a.upload&&a.upload.removeEventListener("progress",B)),a.readyState!==a.DONE&&a.abort()}})))}static \u0275fac=function(i){return new(i||e)(q(cr))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),my=new L(""),WI="XSRF-TOKEN",ZI=new L("",{providedIn:"root",factory:()=>WI}),YI="X-XSRF-TOKEN",QI=new L("",{providedIn:"root",factory:()=>YI}),Na=class{},KI=(()=>{class e{doc;cookieName;lastCookieString="";lastToken=null;parseCount=0;constructor(t,i){this.doc=t,this.cookieName=i}getToken(){let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Sa(t,this.cookieName),this.lastCookieString=t),this.lastToken}static \u0275fac=function(i){return new(i||e)(q(Pe),q(ZI))};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();function JI(e,n){let t=e.url.toLowerCase();if(!g(my)||e.method==="GET"||e.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return n(e);let i=g(Na).getToken(),r=g(QI);return i!=null&&!e.headers.has(r)&&(e=e.clone({headers:e.headers.set(r,i)})),n(e)}var Tm=(function(e){return e[e.Interceptors=0]="Interceptors",e[e.LegacyInterceptors=1]="LegacyInterceptors",e[e.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",e[e.NoXsrfProtection=3]="NoXsrfProtection",e[e.JsonpSupport=4]="JsonpSupport",e[e.RequestsMadeViaParent=5]="RequestsMadeViaParent",e[e.Fetch=6]="Fetch",e})(Tm||{});function XI(e,n){return{\u0275kind:e,\u0275providers:n}}function Mm(...e){let n=[xe,Im,bc,{provide:oo,useExisting:bc},{provide:Ma,useFactory:()=>g(BI,{optional:!0})??g(Im)},{provide:wm,useValue:JI,multi:!0},{provide:my,useValue:!0},{provide:Na,useClass:KI}];for(let t of e)n.push(...t.\u0275providers);return fn(n)}function Am(e){return XI(Tm.Interceptors,e.map(n=>({provide:wm,useValue:n,multi:!0})))}var hy=(()=>{class e{_doc;constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static \u0275fac=function(i){return new(i||e)(q(Pe))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var Nm=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:function(i){let r=null;return i?r=new(i||e):r=q(ew),r},providedIn:"root"})}return e})(),ew=(()=>{class e extends Nm{_doc;constructor(t){super(),this._doc=t}sanitize(t,i){if(i==null)return null;switch(t){case _n.NONE:return i;case _n.HTML:return si(i,"HTML")?an(i):Ep(this._doc,String(i)).toString();case _n.STYLE:return si(i,"Style")?an(i):i;case _n.SCRIPT:if(si(i,"Script"))return an(i);throw new O(5200,!1);case _n.URL:return si(i,"URL")?an(i):la(String(i));case _n.RESOURCE_URL:if(si(i,"ResourceURL"))return an(i);throw new O(5201,!1);default:throw new O(5202,!1)}}bypassSecurityTrustHtml(t){return vp(t)}bypassSecurityTrustStyle(t){return Cp(t)}bypassSecurityTrustScript(t){return yp(t)}bypassSecurityTrustUrl(t){return _p(t)}bypassSecurityTrustResourceUrl(t){return bp(t)}static \u0275fac=function(i){return new(i||e)(q(Pe))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var de="primary",Ga=Symbol("RouteTitle"),km=class{params;constructor(n){this.params=n||{}}has(n){return Object.prototype.hasOwnProperty.call(this.params,n)}get(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t[0]:t}return null}getAll(n){if(this.has(n)){let t=this.params[n];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function pr(e){return new km(e)}function Dy(e,n,t){let i=t.path.split("/");if(i.length>e.length||t.pathMatch==="full"&&(n.hasChildren()||i.length<e.length))return null;let r={};for(let o=0;o<i.length;o++){let a=i[o],l=e[o];if(a[0]===":")r[a.substring(1)]=l;else if(a!==l.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function nw(e,n){if(e.length!==n.length)return!1;for(let t=0;t<e.length;++t)if(!Wn(e[t],n[t]))return!1;return!0}function Wn(e,n){let t=e?Lm(e):void 0,i=n?Lm(n):void 0;if(!t||!i||t.length!=i.length)return!1;let r;for(let o=0;o<t.length;o++)if(r=t[o],!Sy(e[r],n[r]))return!1;return!0}function Lm(e){return[...Object.keys(e),...Object.getOwnPropertySymbols(e)]}function Sy(e,n){if(Array.isArray(e)&&Array.isArray(n)){if(e.length!==n.length)return!1;let t=[...e].sort(),i=[...n].sort();return t.every((r,o)=>i[o]===r)}else return e===n}function xy(e){return e.length>0?e[e.length-1]:null}function ui(e){return md(e)?e:Di(e)?Oe(Promise.resolve(e)):W(e)}var iw={exact:wy,subset:Ty},Iy={exact:rw,subset:ow,ignored:()=>!0};function gy(e,n,t){return iw[t.paths](e.root,n.root,t.matrixParams)&&Iy[t.queryParams](e.queryParams,n.queryParams)&&!(t.fragment==="exact"&&e.fragment!==n.fragment)}function rw(e,n){return Wn(e,n)}function wy(e,n,t){if(!dr(e.segments,n.segments)||!Sc(e.segments,n.segments,t)||e.numberOfChildren!==n.numberOfChildren)return!1;for(let i in n.children)if(!e.children[i]||!wy(e.children[i],n.children[i],t))return!1;return!0}function ow(e,n){return Object.keys(n).length<=Object.keys(e).length&&Object.keys(n).every(t=>Sy(e[t],n[t]))}function Ty(e,n,t){return My(e,n,n.segments,t)}function My(e,n,t,i){if(e.segments.length>t.length){let r=e.segments.slice(0,t.length);return!(!dr(r,t)||n.hasChildren()||!Sc(r,t,i))}else if(e.segments.length===t.length){if(!dr(e.segments,t)||!Sc(e.segments,t,i))return!1;for(let r in n.children)if(!e.children[r]||!Ty(e.children[r],n.children[r],i))return!1;return!0}else{let r=t.slice(0,e.segments.length),o=t.slice(e.segments.length);return!dr(e.segments,r)||!Sc(e.segments,r,i)||!e.children[de]?!1:My(e.children[de],n,o,i)}}function Sc(e,n,t){return n.every((i,r)=>Iy[t](e[r].parameters,i.parameters))}var Yn=class{root;queryParams;fragment;_queryParamMap;constructor(n=new _e([],{}),t={},i=null){this.root=n,this.queryParams=t,this.fragment=i}get queryParamMap(){return this._queryParamMap??=pr(this.queryParams),this._queryParamMap}toString(){return lw.serialize(this)}},_e=class{segments;children;parent=null;constructor(n,t){this.segments=n,this.children=t,Object.values(t).forEach(i=>i.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return xc(this)}},wi=class{path;parameters;_parameterMap;constructor(n,t){this.path=n,this.parameters=t}get parameterMap(){return this._parameterMap??=pr(this.parameters),this._parameterMap}toString(){return Ny(this)}};function aw(e,n){return dr(e,n)&&e.every((t,i)=>Wn(t.parameters,n[i].parameters))}function dr(e,n){return e.length!==n.length?!1:e.every((t,i)=>t.path===n[i].path)}function sw(e,n){let t=[];return Object.entries(e.children).forEach(([i,r])=>{i===de&&(t=t.concat(n(r,i)))}),Object.entries(e.children).forEach(([i,r])=>{i!==de&&(t=t.concat(n(r,i)))}),t}var mr=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:()=>new Ti,providedIn:"root"})}return e})(),Ti=class{parse(n){let t=new jm(n);return new Yn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(n){let t=`/${Ra(n.root,!0)}`,i=dw(n.queryParams),r=typeof n.fragment=="string"?`#${cw(n.fragment)}`:"";return`${t}${i}${r}`}},lw=new Ti;function xc(e){return e.segments.map(n=>Ny(n)).join("/")}function Ra(e,n){if(!e.hasChildren())return xc(e);if(n){let t=e.children[de]?Ra(e.children[de],!1):"",i=[];return Object.entries(e.children).forEach(([r,o])=>{r!==de&&i.push(`${r}:${Ra(o,!1)}`)}),i.length>0?`${t}(${i.join("//")})`:t}else{let t=sw(e,(i,r)=>r===de?[Ra(e.children[de],!1)]:[`${r}:${Ra(i,!1)}`]);return Object.keys(e.children).length===1&&e.children[de]!=null?`${xc(e)}/${t[0]}`:`${xc(e)}/(${t.join("//")})`}}function Ay(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Ec(e){return Ay(e).replace(/%3B/gi,";")}function cw(e){return encodeURI(e)}function Vm(e){return Ay(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ic(e){return decodeURIComponent(e)}function vy(e){return Ic(e.replace(/\+/g,"%20"))}function Ny(e){return`${Vm(e.path)}${uw(e.parameters)}`}function uw(e){return Object.entries(e).map(([n,t])=>`;${Vm(n)}=${Vm(t)}`).join("")}function dw(e){let n=Object.entries(e).map(([t,i])=>Array.isArray(i)?i.map(r=>`${Ec(t)}=${Ec(r)}`).join("&"):`${Ec(t)}=${Ec(i)}`).filter(t=>t);return n.length?`?${n.join("&")}`:""}var fw=/^[^\/()?;#]+/;function Rm(e){let n=e.match(fw);return n?n[0]:""}var pw=/^[^\/()?;=#]+/;function mw(e){let n=e.match(pw);return n?n[0]:""}var hw=/^[^=?&#]+/;function gw(e){let n=e.match(hw);return n?n[0]:""}var vw=/^[^&#]+/;function Cw(e){let n=e.match(vw);return n?n[0]:""}var jm=class{url;remaining;constructor(n){this.url=n,this.remaining=n}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new _e([],{}):new _e([],this.parseChildren())}parseQueryParams(){let n={};if(this.consumeOptional("?"))do this.parseQueryParam(n);while(this.consumeOptional("&"));return n}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let n=[];for(this.peekStartsWith("(")||n.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),n.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let i={};return this.peekStartsWith("(")&&(i=this.parseParens(!1)),(n.length>0||Object.keys(t).length>0)&&(i[de]=new _e(n,t)),i}parseSegment(){let n=Rm(this.remaining);if(n===""&&this.peekStartsWith(";"))throw new O(4009,!1);return this.capture(n),new wi(Ic(n),this.parseMatrixParams())}parseMatrixParams(){let n={};for(;this.consumeOptional(";");)this.parseParam(n);return n}parseParam(n){let t=mw(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let r=Rm(this.remaining);r&&(i=r,this.capture(i))}n[Ic(t)]=Ic(i)}parseQueryParam(n){let t=gw(this.remaining);if(!t)return;this.capture(t);let i="";if(this.consumeOptional("=")){let a=Cw(this.remaining);a&&(i=a,this.capture(i))}let r=vy(t),o=vy(i);if(n.hasOwnProperty(r)){let a=n[r];Array.isArray(a)||(a=[a],n[r]=a),a.push(o)}else n[r]=o}parseParens(n){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let i=Rm(this.remaining),r=this.remaining[i.length];if(r!=="/"&&r!==")"&&r!==";")throw new O(4010,!1);let o;i.indexOf(":")>-1?(o=i.slice(0,i.indexOf(":")),this.capture(o),this.capture(":")):n&&(o=de);let a=this.parseChildren();t[o]=Object.keys(a).length===1?a[de]:new _e([],a),this.consumeOptional("//")}return t}peekStartsWith(n){return this.remaining.startsWith(n)}consumeOptional(n){return this.peekStartsWith(n)?(this.remaining=this.remaining.substring(n.length),!0):!1}capture(n){if(!this.consumeOptional(n))throw new O(4011,!1)}};function Ry(e){return e.segments.length>0?new _e([],{[de]:e}):e}function Fy(e){let n={};for(let[i,r]of Object.entries(e.children)){let o=Fy(r);if(i===de&&o.segments.length===0&&o.hasChildren())for(let[a,l]of Object.entries(o.children))n[a]=l;else(o.segments.length>0||o.hasChildren())&&(n[i]=o)}let t=new _e(e.segments,n);return yw(t)}function yw(e){if(e.numberOfChildren===1&&e.children[de]){let n=e.children[de];return new _e(e.segments.concat(n.segments),n.children)}return e}function Mi(e){return e instanceof Yn}function Oy(e,n,t=null,i=null){let r=Py(e);return ky(r,n,t,i)}function Py(e){let n;function t(o){let a={};for(let d of o.children){let p=t(d);a[d.outlet]=p}let l=new _e(o.url,a);return o===e&&(n=l),l}let i=t(e.root),r=Ry(i);return n??r}function ky(e,n,t,i){let r=e;for(;r.parent;)r=r.parent;if(n.length===0)return Fm(r,r,r,t,i);let o=_w(n);if(o.toRoot())return Fm(r,r,new _e([],{}),t,i);let a=bw(o,r,e),l=a.processChildren?Oa(a.segmentGroup,a.index,o.commands):Vy(a.segmentGroup,a.index,o.commands);return Fm(r,a.segmentGroup,l,t,i)}function wc(e){return typeof e=="object"&&e!=null&&!e.outlets&&!e.segmentPath}function ka(e){return typeof e=="object"&&e!=null&&e.outlets}function Fm(e,n,t,i,r){let o={};i&&Object.entries(i).forEach(([d,p])=>{o[d]=Array.isArray(p)?p.map(h=>`${h}`):`${p}`});let a;e===n?a=t:a=Ly(e,n,t);let l=Ry(Fy(a));return new Yn(l,o,r)}function Ly(e,n,t){let i={};return Object.entries(e.children).forEach(([r,o])=>{o===n?i[r]=t:i[r]=Ly(o,n,t)}),new _e(e.segments,i)}var Tc=class{isAbsolute;numberOfDoubleDots;commands;constructor(n,t,i){if(this.isAbsolute=n,this.numberOfDoubleDots=t,this.commands=i,n&&i.length>0&&wc(i[0]))throw new O(4003,!1);let r=i.find(ka);if(r&&r!==xy(i))throw new O(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function _w(e){if(typeof e[0]=="string"&&e.length===1&&e[0]==="/")return new Tc(!0,0,e);let n=0,t=!1,i=e.reduce((r,o,a)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let l={};return Object.entries(o.outlets).forEach(([d,p])=>{l[d]=typeof p=="string"?p.split("/"):p}),[...r,{outlets:l}]}if(o.segmentPath)return[...r,o.segmentPath]}return typeof o!="string"?[...r,o]:a===0?(o.split("/").forEach((l,d)=>{d==0&&l==="."||(d==0&&l===""?t=!0:l===".."?n++:l!=""&&r.push(l))}),r):[...r,o]},[]);return new Tc(t,n,i)}var co=class{segmentGroup;processChildren;index;constructor(n,t,i){this.segmentGroup=n,this.processChildren=t,this.index=i}};function bw(e,n,t){if(e.isAbsolute)return new co(n,!0,0);if(!t)return new co(n,!1,NaN);if(t.parent===null)return new co(t,!0,0);let i=wc(e.commands[0])?0:1,r=t.segments.length-1+i;return Ew(t,r,e.numberOfDoubleDots)}function Ew(e,n,t){let i=e,r=n,o=t;for(;o>r;){if(o-=r,i=i.parent,!i)throw new O(4005,!1);r=i.segments.length}return new co(i,!1,r-o)}function Dw(e){return ka(e[0])?e[0].outlets:{[de]:e}}function Vy(e,n,t){if(e??=new _e([],{}),e.segments.length===0&&e.hasChildren())return Oa(e,n,t);let i=Sw(e,n,t),r=t.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){let o=new _e(e.segments.slice(0,i.pathIndex),{});return o.children[de]=new _e(e.segments.slice(i.pathIndex),e.children),Oa(o,0,r)}else return i.match&&r.length===0?new _e(e.segments,{}):i.match&&!e.hasChildren()?Um(e,n,t):i.match?Oa(e,0,r):Um(e,n,t)}function Oa(e,n,t){if(t.length===0)return new _e(e.segments,{});{let i=Dw(t),r={};if(Object.keys(i).some(o=>o!==de)&&e.children[de]&&e.numberOfChildren===1&&e.children[de].segments.length===0){let o=Oa(e.children[de],n,t);return new _e(e.segments,o.children)}return Object.entries(i).forEach(([o,a])=>{typeof a=="string"&&(a=[a]),a!==null&&(r[o]=Vy(e.children[o],n,a))}),Object.entries(e.children).forEach(([o,a])=>{i[o]===void 0&&(r[o]=a)}),new _e(e.segments,r)}}function Sw(e,n,t){let i=0,r=n,o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=t.length)return o;let a=e.segments[r],l=t[i];if(ka(l))break;let d=`${l}`,p=i<t.length-1?t[i+1]:null;if(r>0&&d===void 0)break;if(d&&p&&typeof p=="object"&&p.outlets===void 0){if(!yy(d,p,a))return o;i+=2}else{if(!yy(d,{},a))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}function Um(e,n,t){let i=e.segments.slice(0,n),r=0;for(;r<t.length;){let o=t[r];if(ka(o)){let d=xw(o.outlets);return new _e(i,d)}if(r===0&&wc(t[0])){let d=e.segments[n];i.push(new wi(d.path,Cy(t[0]))),r++;continue}let a=ka(o)?o.outlets[de]:`${o}`,l=r<t.length-1?t[r+1]:null;a&&l&&wc(l)?(i.push(new wi(a,Cy(l))),r+=2):(i.push(new wi(a,{})),r++)}return new _e(i,{})}function xw(e){let n={};return Object.entries(e).forEach(([t,i])=>{typeof i=="string"&&(i=[i]),i!==null&&(n[t]=Um(new _e([],{}),0,i))}),n}function Cy(e){let n={};return Object.entries(e).forEach(([t,i])=>n[t]=`${i}`),n}function yy(e,n,t){return e==t.path&&Wn(n,t.parameters)}var uo="imperative",ot=(function(e){return e[e.NavigationStart=0]="NavigationStart",e[e.NavigationEnd=1]="NavigationEnd",e[e.NavigationCancel=2]="NavigationCancel",e[e.NavigationError=3]="NavigationError",e[e.RoutesRecognized=4]="RoutesRecognized",e[e.ResolveStart=5]="ResolveStart",e[e.ResolveEnd=6]="ResolveEnd",e[e.GuardsCheckStart=7]="GuardsCheckStart",e[e.GuardsCheckEnd=8]="GuardsCheckEnd",e[e.RouteConfigLoadStart=9]="RouteConfigLoadStart",e[e.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",e[e.ChildActivationStart=11]="ChildActivationStart",e[e.ChildActivationEnd=12]="ChildActivationEnd",e[e.ActivationStart=13]="ActivationStart",e[e.ActivationEnd=14]="ActivationEnd",e[e.Scroll=15]="Scroll",e[e.NavigationSkipped=16]="NavigationSkipped",e})(ot||{}),Qt=class{id;url;constructor(n,t){this.id=n,this.url=t}},Ai=class extends Qt{type=ot.NavigationStart;navigationTrigger;restoredState;constructor(n,t,i="imperative",r=null){super(n,t),this.navigationTrigger=i,this.restoredState=r}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},jt=class extends Qt{urlAfterRedirects;type=ot.NavigationEnd;constructor(n,t,i){super(n,t),this.urlAfterRedirects=i}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},Rt=(function(e){return e[e.Redirect=0]="Redirect",e[e.SupersededByNewNavigation=1]="SupersededByNewNavigation",e[e.NoDataFromResolver=2]="NoDataFromResolver",e[e.GuardRejected=3]="GuardRejected",e[e.Aborted=4]="Aborted",e})(Rt||{}),po=(function(e){return e[e.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",e[e.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",e})(po||{}),Zn=class extends Qt{reason;code;type=ot.NavigationCancel;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Qn=class extends Qt{reason;code;type=ot.NavigationSkipped;constructor(n,t,i,r){super(n,t),this.reason=i,this.code=r}},mo=class extends Qt{error;target;type=ot.NavigationError;constructor(n,t,i,r){super(n,t),this.error=i,this.target=r}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},La=class extends Qt{urlAfterRedirects;state;type=ot.RoutesRecognized;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Mc=class extends Qt{urlAfterRedirects;state;type=ot.GuardsCheckStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ac=class extends Qt{urlAfterRedirects;state;shouldActivate;type=ot.GuardsCheckEnd;constructor(n,t,i,r,o){super(n,t),this.urlAfterRedirects=i,this.state=r,this.shouldActivate=o}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Nc=class extends Qt{urlAfterRedirects;state;type=ot.ResolveStart;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Rc=class extends Qt{urlAfterRedirects;state;type=ot.ResolveEnd;constructor(n,t,i,r){super(n,t),this.urlAfterRedirects=i,this.state=r}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Fc=class{route;type=ot.RouteConfigLoadStart;constructor(n){this.route=n}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Oc=class{route;type=ot.RouteConfigLoadEnd;constructor(n){this.route=n}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Pc=class{snapshot;type=ot.ChildActivationStart;constructor(n){this.snapshot=n}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},kc=class{snapshot;type=ot.ChildActivationEnd;constructor(n){this.snapshot=n}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Lc=class{snapshot;type=ot.ActivationStart;constructor(n){this.snapshot=n}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Vc=class{snapshot;type=ot.ActivationEnd;constructor(n){this.snapshot=n}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ho=class{routerEvent;position;anchor;type=ot.Scroll;constructor(n,t,i){this.routerEvent=n,this.position=t,this.anchor=i}toString(){let n=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${n}')`}},Va=class{},go=class{url;navigationBehaviorOptions;constructor(n,t){this.url=n,this.navigationBehaviorOptions=t}};function Iw(e){return!(e instanceof Va)&&!(e instanceof go)}function ww(e,n){return e.providers&&!e._injector&&(e._injector=Xr(e.providers,n,`Route: ${e.path}`)),e._injector??n}function Mn(e){return e.outlet||de}function Tw(e,n){let t=e.filter(i=>Mn(i)===n);return t.push(...e.filter(i=>Mn(i)!==n)),t}function yo(e){if(!e)return null;if(e.routeConfig?._injector)return e.routeConfig._injector;for(let n=e.parent;n;n=n.parent){let t=n.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var jc=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return yo(this.route?.snapshot)??this.rootInjector}constructor(n){this.rootInjector=n,this.children=new hr(this.rootInjector)}},hr=(()=>{class e{rootInjector;contexts=new Map;constructor(t){this.rootInjector=t}onChildOutletCreated(t,i){let r=this.getOrCreateContext(t);r.outlet=i,this.contexts.set(t,r)}onChildOutletDestroyed(t){let i=this.getContext(t);i&&(i.outlet=null,i.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let i=this.getContext(t);return i||(i=new jc(this.rootInjector),this.contexts.set(t,i)),i}getContext(t){return this.contexts.get(t)||null}static \u0275fac=function(i){return new(i||e)(q(We))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Uc=class{_root;constructor(n){this._root=n}get root(){return this._root.value}parent(n){let t=this.pathFromRoot(n);return t.length>1?t[t.length-2]:null}children(n){let t=Bm(n,this._root);return t?t.children.map(i=>i.value):[]}firstChild(n){let t=Bm(n,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(n){let t=$m(n,this._root);return t.length<2?[]:t[t.length-2].children.map(r=>r.value).filter(r=>r!==n)}pathFromRoot(n){return $m(n,this._root).map(t=>t.value)}};function Bm(e,n){if(e===n.value)return n;for(let t of n.children){let i=Bm(e,t);if(i)return i}return null}function $m(e,n){if(e===n.value)return[n];for(let t of n.children){let i=$m(e,t);if(i.length)return i.unshift(n),i}return[]}var Yt=class{value;children;constructor(n,t){this.value=n,this.children=t}toString(){return`TreeNode(${this.value})`}};function lo(e){let n={};return e&&e.children.forEach(t=>n[t.value.outlet]=t),n}var ja=class extends Uc{snapshot;constructor(n,t){super(n),this.snapshot=t,Qm(this,n)}toString(){return this.snapshot.toString()}};function jy(e){let n=Mw(e),t=new mt([new wi("",{})]),i=new mt({}),r=new mt({}),o=new mt({}),a=new mt(""),l=new fe(t,i,o,a,r,de,e,n.root);return l.snapshot=n.root,new ja(new Yt(l,[]),n)}function Mw(e){let n={},t={},i={},o=new fr([],n,i,"",t,de,e,null,{});return new Ua("",new Yt(o,[]))}var fe=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(n,t,i,r,o,a,l,d){this.urlSubject=n,this.paramsSubject=t,this.queryParamsSubject=i,this.fragmentSubject=r,this.dataSubject=o,this.outlet=a,this.component=l,this._futureSnapshot=d,this.title=this.dataSubject?.pipe(X(p=>p[Ga]))??W(void 0),this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(X(n=>pr(n))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(X(n=>pr(n))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Bc(e,n,t="emptyOnly"){let i,{routeConfig:r}=e;return n!==null&&(t==="always"||r?.path===""||!n.component&&!n.routeConfig?.loadComponent)?i={params:N(N({},n.params),e.params),data:N(N({},n.data),e.data),resolve:N(N(N(N({},e.data),n.data),r?.data),e._resolvedData)}:i={params:N({},e.params),data:N({},e.data),resolve:N(N({},e.data),e._resolvedData??{})},r&&By(r)&&(i.resolve[Ga]=r.title),i}var fr=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[Ga]}constructor(n,t,i,r,o,a,l,d,p){this.url=n,this.params=t,this.queryParams=i,this.fragment=r,this.data=o,this.outlet=a,this.component=l,this.routeConfig=d,this._resolve=p}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=pr(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=pr(this.queryParams),this._queryParamMap}toString(){let n=this.url.map(i=>i.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${n}', path:'${t}')`}},Ua=class extends Uc{url;constructor(n,t){super(t),this.url=n,Qm(this,t)}toString(){return Uy(this._root)}};function Qm(e,n){n.value._routerState=e,n.children.forEach(t=>Qm(e,t))}function Uy(e){let n=e.children.length>0?` { ${e.children.map(Uy).join(", ")} } `:"";return`${e.value}${n}`}function Om(e){if(e.snapshot){let n=e.snapshot,t=e._futureSnapshot;e.snapshot=t,Wn(n.queryParams,t.queryParams)||e.queryParamsSubject.next(t.queryParams),n.fragment!==t.fragment&&e.fragmentSubject.next(t.fragment),Wn(n.params,t.params)||e.paramsSubject.next(t.params),nw(n.url,t.url)||e.urlSubject.next(t.url),Wn(n.data,t.data)||e.dataSubject.next(t.data)}else e.snapshot=e._futureSnapshot,e.dataSubject.next(e._futureSnapshot.data)}function Hm(e,n){let t=Wn(e.params,n.params)&&aw(e.url,n.url),i=!e.parent!=!n.parent;return t&&!i&&(!e.parent||Hm(e.parent,n.parent))}function By(e){return typeof e.title=="string"||e.title===null}var $y=new L(""),za=(()=>{class e{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=de;activateEvents=new Ae;deactivateEvents=new Ae;attachEvents=new Ae;detachEvents=new Ae;routerOutletData=EC(void 0);parentContexts=g(hr);location=g(fa);changeDetector=g(Gn);inputBinder=g(qa,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(t){if(t.name){let{firstChange:i,previousValue:r}=t.name;if(i)return;this.isTrackedInParentContexts(r)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(r)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new O(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new O(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new O(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,i){this.activated=t,this._activatedRoute=i,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,i){if(this.isActivated)throw new O(4013,!1);this._activatedRoute=t;let r=this.location,a=t.snapshot.component,l=this.parentContexts.getOrCreateContext(this.name).children,d=new Gm(t,l,r.injector,this.routerOutletData);this.activated=r.createComponent(a,{index:r.length,injector:d,environmentInjector:i}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Te({type:e,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Dt]})}return e})(),Gm=class{route;childContexts;parent;outletData;constructor(n,t,i,r){this.route=n,this.childContexts=t,this.parent=i,this.outletData=r}get(n,t){return n===fe?this.route:n===hr?this.childContexts:n===$y?this.outletData:this.parent.get(n,t)}},qa=new L(""),Km=(()=>{class e{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:i}=t,r=Oo([i.queryParams,i.params,i.data]).pipe(ht(([o,a,l],d)=>(l=N(N(N({},o),a),l),d===0?W(l):Promise.resolve(l)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==i||i.component===null){this.unsubscribeFromRouteData(t);return}let a=SC(i.component);if(!a){this.unsubscribeFromRouteData(t);return}for(let{templateName:l}of a.inputs)t.activatedComponentRef.setInput(l,o[l])});this.outletDataSubscriptions.set(t,r)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})(),Jm=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275cmp=F({type:e,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(i,r){i&1&&m(0,"router-outlet")},dependencies:[za],encapsulation:2})}return e})();function Xm(e){let n=e.children&&e.children.map(Xm),t=n?he(N({},e),{children:n}):N({},e);return!t.component&&!t.loadComponent&&(n||t.loadChildren)&&t.outlet&&t.outlet!==de&&(t.component=Jm),t}function Aw(e,n,t){let i=Ba(e,n._root,t?t._root:void 0);return new ja(i,n)}function Ba(e,n,t){if(t&&e.shouldReuseRoute(n.value,t.value.snapshot)){let i=t.value;i._futureSnapshot=n.value;let r=Nw(e,n,t);return new Yt(i,r)}else{if(e.shouldAttach(n.value)){let o=e.retrieve(n.value);if(o!==null){let a=o.route;return a.value._futureSnapshot=n.value,a.children=n.children.map(l=>Ba(e,l)),a}}let i=Rw(n.value),r=n.children.map(o=>Ba(e,o));return new Yt(i,r)}}function Nw(e,n,t){return n.children.map(i=>{for(let r of t.children)if(e.shouldReuseRoute(i.value,r.value.snapshot))return Ba(e,i,r);return Ba(e,i)})}function Rw(e){return new fe(new mt(e.url),new mt(e.params),new mt(e.queryParams),new mt(e.fragment),new mt(e.data),e.outlet,e.component,e)}var vo=class{redirectTo;navigationBehaviorOptions;constructor(n,t){this.redirectTo=n,this.navigationBehaviorOptions=t}},Hy="ngNavigationCancelingError";function $c(e,n){let{redirectTo:t,navigationBehaviorOptions:i}=Mi(n)?{redirectTo:n,navigationBehaviorOptions:void 0}:n,r=Gy(!1,Rt.Redirect);return r.url=t,r.navigationBehaviorOptions=i,r}function Gy(e,n){let t=new Error(`NavigationCancelingError: ${e||""}`);return t[Hy]=!0,t.cancellationCode=n,t}function Fw(e){return zy(e)&&Mi(e.url)}function zy(e){return!!e&&e[Hy]}var Ow=(e,n,t,i)=>X(r=>(new zm(n,r.targetRouterState,r.currentRouterState,t,i).activate(e),r)),zm=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(n,t,i,r,o){this.routeReuseStrategy=n,this.futureState=t,this.currState=i,this.forwardEvent=r,this.inputBindingEnabled=o}activate(n){let t=this.futureState._root,i=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,i,n),Om(this.futureState.root),this.activateChildRoutes(t,i,n)}deactivateChildRoutes(n,t,i){let r=lo(t);n.children.forEach(o=>{let a=o.value.outlet;this.deactivateRoutes(o,r[a],i),delete r[a]}),Object.values(r).forEach(o=>{this.deactivateRouteAndItsChildren(o,i)})}deactivateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(r===o)if(r.component){let a=i.getContext(r.outlet);a&&this.deactivateChildRoutes(n,t,a.children)}else this.deactivateChildRoutes(n,t,i);else o&&this.deactivateRouteAndItsChildren(t,i)}deactivateRouteAndItsChildren(n,t){n.value.component&&this.routeReuseStrategy.shouldDetach(n.value.snapshot)?this.detachAndStoreRouteSubtree(n,t):this.deactivateRouteAndOutlet(n,t)}detachAndStoreRouteSubtree(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=lo(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);if(i&&i.outlet){let a=i.outlet.detach(),l=i.children.onOutletDeactivated();this.routeReuseStrategy.store(n.value.snapshot,{componentRef:a,route:n,contexts:l})}}deactivateRouteAndOutlet(n,t){let i=t.getContext(n.value.outlet),r=i&&n.value.component?i.children:t,o=lo(n);for(let a of Object.values(o))this.deactivateRouteAndItsChildren(a,r);i&&(i.outlet&&(i.outlet.deactivate(),i.children.onOutletDeactivated()),i.attachRef=null,i.route=null)}activateChildRoutes(n,t,i){let r=lo(t);n.children.forEach(o=>{this.activateRoutes(o,r[o.value.outlet],i),this.forwardEvent(new Vc(o.value.snapshot))}),n.children.length&&this.forwardEvent(new kc(n.value.snapshot))}activateRoutes(n,t,i){let r=n.value,o=t?t.value:null;if(Om(r),r===o)if(r.component){let a=i.getOrCreateContext(r.outlet);this.activateChildRoutes(n,t,a.children)}else this.activateChildRoutes(n,t,i);else if(r.component){let a=i.getOrCreateContext(r.outlet);if(this.routeReuseStrategy.shouldAttach(r.snapshot)){let l=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),a.children.onOutletReAttached(l.contexts),a.attachRef=l.componentRef,a.route=l.route.value,a.outlet&&a.outlet.attach(l.componentRef,l.route.value),Om(l.route.value),this.activateChildRoutes(n,null,a.children)}else a.attachRef=null,a.route=r,a.outlet&&a.outlet.activateWith(r,a.injector),this.activateChildRoutes(n,null,a.children)}else this.activateChildRoutes(n,null,i)}},Hc=class{path;route;constructor(n){this.path=n,this.route=this.path[this.path.length-1]}},fo=class{component;route;constructor(n,t){this.component=n,this.route=t}};function Pw(e,n,t){let i=e._root,r=n?n._root:null;return Fa(i,r,t,[i.value])}function kw(e){let n=e.routeConfig?e.routeConfig.canActivateChild:null;return!n||n.length===0?null:{node:e,guards:n}}function _o(e,n){let t=Symbol(),i=n.get(e,t);return i===t?typeof e=="function"&&!Nd(e)?e:n.get(e):i}function Fa(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=lo(n);return e.children.forEach(a=>{Lw(a,o[a.value.outlet],t,i.concat([a.value]),r),delete o[a.value.outlet]}),Object.entries(o).forEach(([a,l])=>Pa(l,t.getContext(a),r)),r}function Lw(e,n,t,i,r={canDeactivateChecks:[],canActivateChecks:[]}){let o=e.value,a=n?n.value:null,l=t?t.getContext(e.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){let d=Vw(a,o,o.routeConfig.runGuardsAndResolvers);d?r.canActivateChecks.push(new Hc(i)):(o.data=a.data,o._resolvedData=a._resolvedData),o.component?Fa(e,n,l?l.children:null,i,r):Fa(e,n,t,i,r),d&&l&&l.outlet&&l.outlet.isActivated&&r.canDeactivateChecks.push(new fo(l.outlet.component,a))}else a&&Pa(n,l,r),r.canActivateChecks.push(new Hc(i)),o.component?Fa(e,null,l?l.children:null,i,r):Fa(e,null,t,i,r);return r}function Vw(e,n,t){if(typeof t=="function")return t(e,n);switch(t){case"pathParamsChange":return!dr(e.url,n.url);case"pathParamsOrQueryParamsChange":return!dr(e.url,n.url)||!Wn(e.queryParams,n.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Hm(e,n)||!Wn(e.queryParams,n.queryParams);case"paramsChange":default:return!Hm(e,n)}}function Pa(e,n,t){let i=lo(e),r=e.value;Object.entries(i).forEach(([o,a])=>{r.component?n?Pa(a,n.children.getContext(o),t):Pa(a,null,t):Pa(a,n,t)}),r.component?n&&n.outlet&&n.outlet.isActivated?t.canDeactivateChecks.push(new fo(n.outlet.component,r)):t.canDeactivateChecks.push(new fo(null,r)):t.canDeactivateChecks.push(new fo(null,r))}function Wa(e){return typeof e=="function"}function jw(e){return typeof e=="boolean"}function Uw(e){return e&&Wa(e.canLoad)}function Bw(e){return e&&Wa(e.canActivate)}function $w(e){return e&&Wa(e.canActivateChild)}function Hw(e){return e&&Wa(e.canDeactivate)}function Gw(e){return e&&Wa(e.canMatch)}function qy(e){return e instanceof Jn||e?.name==="EmptyError"}var Dc=Symbol("INITIAL_VALUE");function Co(){return ht(e=>Oo(e.map(n=>n.pipe(Kt(1),Cd(Dc)))).pipe(X(n=>{for(let t of n)if(t!==!0){if(t===Dc)return Dc;if(t===!1||zw(t))return t}return!0}),tt(n=>n!==Dc),Kt(1)))}function zw(e){return Mi(e)||e instanceof vo}function qw(e,n){return qe(t=>{let{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:a}}=t;return a.length===0&&o.length===0?W(he(N({},t),{guardsResult:!0})):Ww(a,i,r,e).pipe(qe(l=>l&&jw(l)?Zw(i,o,e,n):W(l)),X(l=>he(N({},t),{guardsResult:l})))})}function Ww(e,n,t,i){return Oe(e).pipe(qe(r=>Xw(r.component,r.route,t,n,i)),ei(r=>r!==!0,!0))}function Zw(e,n,t,i){return Oe(n).pipe(Rn(r=>Pr(Qw(r.route.parent,i),Yw(r.route,i),Jw(e,r.path,t),Kw(e,r.route,t))),ei(r=>r!==!0,!0))}function Yw(e,n){return e!==null&&n&&n(new Lc(e)),W(!0)}function Qw(e,n){return e!==null&&n&&n(new Pc(e)),W(!0)}function Kw(e,n,t){let i=n.routeConfig?n.routeConfig.canActivate:null;if(!i||i.length===0)return W(!0);let r=i.map(o=>Po(()=>{let a=yo(n)??t,l=_o(o,a),d=Bw(l)?l.canActivate(n,e):ut(a,()=>l(n,e));return ui(d).pipe(ei())}));return W(r).pipe(Co())}function Jw(e,n,t){let i=n[n.length-1],o=n.slice(0,n.length-1).reverse().map(a=>kw(a)).filter(a=>a!==null).map(a=>Po(()=>{let l=a.guards.map(d=>{let p=yo(a.node)??t,h=_o(d,p),_=$w(h)?h.canActivateChild(i,e):ut(p,()=>h(i,e));return ui(_).pipe(ei())});return W(l).pipe(Co())}));return W(o).pipe(Co())}function Xw(e,n,t,i,r){let o=n&&n.routeConfig?n.routeConfig.canDeactivate:null;if(!o||o.length===0)return W(!0);let a=o.map(l=>{let d=yo(n)??r,p=_o(l,d),h=Hw(p)?p.canDeactivate(e,n,t,i):ut(d,()=>p(e,n,t,i));return ui(h).pipe(ei())});return W(a).pipe(Co())}function eT(e,n,t,i){let r=n.canLoad;if(r===void 0||r.length===0)return W(!0);let o=r.map(a=>{let l=_o(a,e),d=Uw(l)?l.canLoad(n,t):ut(e,()=>l(n,t));return ui(d)});return W(o).pipe(Co(),Wy(i))}function Wy(e){return ud(lt(n=>{if(typeof n!="boolean")throw $c(e,n)}),X(n=>n===!0))}function tT(e,n,t,i){let r=n.canMatch;if(!r||r.length===0)return W(!0);let o=r.map(a=>{let l=_o(a,e),d=Gw(l)?l.canMatch(n,t):ut(e,()=>l(n,t));return ui(d)});return W(o).pipe(Co(),Wy(i))}var $a=class{segmentGroup;constructor(n){this.segmentGroup=n||null}},Ha=class extends Error{urlTree;constructor(n){super(),this.urlTree=n}};function so(e){return Fr(new $a(e))}function nT(e){return Fr(new O(4e3,!1))}function iT(e){return Fr(Gy(!1,Rt.GuardRejected))}var qm=class{urlSerializer;urlTree;constructor(n,t){this.urlSerializer=n,this.urlTree=t}lineralizeSegments(n,t){let i=[],r=t.root;for(;;){if(i=i.concat(r.segments),r.numberOfChildren===0)return W(i);if(r.numberOfChildren>1||!r.children[de])return nT(`${n.redirectTo}`);r=r.children[de]}}applyRedirectCommands(n,t,i,r,o){return rT(t,r,o).pipe(X(a=>{if(a instanceof Yn)throw new Ha(a);let l=this.applyRedirectCreateUrlTree(a,this.urlSerializer.parse(a),n,i);if(a[0]==="/")throw new Ha(l);return l}))}applyRedirectCreateUrlTree(n,t,i,r){let o=this.createSegmentGroup(n,t.root,i,r);return new Yn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(n,t){let i={};return Object.entries(n).forEach(([r,o])=>{if(typeof o=="string"&&o[0]===":"){let l=o.substring(1);i[r]=t[l]}else i[r]=o}),i}createSegmentGroup(n,t,i,r){let o=this.createSegments(n,t.segments,i,r),a={};return Object.entries(t.children).forEach(([l,d])=>{a[l]=this.createSegmentGroup(n,d,i,r)}),new _e(o,a)}createSegments(n,t,i,r){return t.map(o=>o.path[0]===":"?this.findPosParam(n,o,r):this.findOrReturn(o,i))}findPosParam(n,t,i){let r=i[t.path.substring(1)];if(!r)throw new O(4001,!1);return r}findOrReturn(n,t){let i=0;for(let r of t){if(r.path===n.path)return t.splice(i),r;i++}return n}};function rT(e,n,t){if(typeof e=="string")return W(e);let i=e,{queryParams:r,fragment:o,routeConfig:a,url:l,outlet:d,params:p,data:h,title:_}=n;return ui(ut(t,()=>i({params:p,data:h,queryParams:r,fragment:o,routeConfig:a,url:l,outlet:d,title:_})))}var Wm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function oT(e,n,t,i,r){let o=Zy(e,n,t);return o.matched?(i=ww(n,i),tT(i,n,t,r).pipe(X(a=>a===!0?o:N({},Wm)))):W(o)}function Zy(e,n,t){if(n.path==="**")return aT(t);if(n.path==="")return n.pathMatch==="full"&&(e.hasChildren()||t.length>0)?N({},Wm):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let r=(n.matcher||Dy)(t,e,n);if(!r)return N({},Wm);let o={};Object.entries(r.posParams??{}).forEach(([l,d])=>{o[l]=d.path});let a=r.consumed.length>0?N(N({},o),r.consumed[r.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:r.consumed,remainingSegments:t.slice(r.consumed.length),parameters:a,positionalParamSegments:r.posParams??{}}}function aT(e){return{matched:!0,parameters:e.length>0?xy(e).parameters:{},consumedSegments:e,remainingSegments:[],positionalParamSegments:{}}}function _y(e,n,t,i){return t.length>0&&cT(e,t,i)?{segmentGroup:new _e(n,lT(i,new _e(t,e.children))),slicedSegments:[]}:t.length===0&&uT(e,t,i)?{segmentGroup:new _e(e.segments,sT(e,t,i,e.children)),slicedSegments:t}:{segmentGroup:new _e(e.segments,e.children),slicedSegments:t}}function sT(e,n,t,i){let r={};for(let o of t)if(zc(e,n,o)&&!i[Mn(o)]){let a=new _e([],{});r[Mn(o)]=a}return N(N({},i),r)}function lT(e,n){let t={};t[de]=n;for(let i of e)if(i.path===""&&Mn(i)!==de){let r=new _e([],{});t[Mn(i)]=r}return t}function cT(e,n,t){return t.some(i=>zc(e,n,i)&&Mn(i)!==de)}function uT(e,n,t){return t.some(i=>zc(e,n,i))}function zc(e,n,t){return(e.hasChildren()||n.length>0)&&t.pathMatch==="full"?!1:t.path===""}function dT(e,n,t){return n.length===0&&!e.children[t]}var Zm=class{};function fT(e,n,t,i,r,o,a="emptyOnly"){return new Ym(e,n,t,i,r,a,o).recognize()}var pT=31,Ym=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(n,t,i,r,o,a,l){this.injector=n,this.configLoader=t,this.rootComponentType=i,this.config=r,this.urlTree=o,this.paramsInheritanceStrategy=a,this.urlSerializer=l,this.applyRedirects=new qm(this.urlSerializer,this.urlTree)}noMatchError(n){return new O(4002,`'${n.segmentGroup}'`)}recognize(){let n=_y(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(n).pipe(X(({children:t,rootSnapshot:i})=>{let r=new Yt(i,t),o=new Ua("",r),a=Oy(i,[],this.urlTree.queryParams,this.urlTree.fragment);return a.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(a),{state:o,tree:a}}))}match(n){let t=new fr([],Object.freeze({}),Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),de,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,n,de,t).pipe(X(i=>({children:i,rootSnapshot:t})),Xn(i=>{if(i instanceof Ha)return this.urlTree=i.urlTree,this.match(i.urlTree.root);throw i instanceof $a?this.noMatchError(i):i}))}processSegmentGroup(n,t,i,r,o){return i.segments.length===0&&i.hasChildren()?this.processChildren(n,t,i,o):this.processSegment(n,t,i,i.segments,r,!0,o).pipe(X(a=>a instanceof Yt?[a]:[]))}processChildren(n,t,i,r){let o=[];for(let a of Object.keys(i.children))a==="primary"?o.unshift(a):o.push(a);return Oe(o).pipe(Rn(a=>{let l=i.children[a],d=Tw(t,a);return this.processSegmentGroup(n,d,l,a,r)}),vd((a,l)=>(a.push(...l),a)),pi(null),gd(),qe(a=>{if(a===null)return so(i);let l=Yy(a);return mT(l),W(l)}))}processSegment(n,t,i,r,o,a,l){return Oe(t).pipe(Rn(d=>this.processSegmentAgainstRoute(d._injector??n,t,d,i,r,o,a,l).pipe(Xn(p=>{if(p instanceof $a)return W(null);throw p}))),ei(d=>!!d),Xn(d=>{if(qy(d))return dT(i,r,o)?W(new Zm):so(i);throw d}))}processSegmentAgainstRoute(n,t,i,r,o,a,l,d){return Mn(i)!==a&&(a===de||!zc(r,o,i))?so(r):i.redirectTo===void 0?this.matchSegmentAgainstRoute(n,r,i,o,a,d):this.allowRedirects&&l?this.expandSegmentAgainstRouteUsingRedirect(n,r,t,i,o,a,d):so(r)}expandSegmentAgainstRouteUsingRedirect(n,t,i,r,o,a,l){let{matched:d,parameters:p,consumedSegments:h,positionalParamSegments:_,remainingSegments:S}=Zy(t,r,o);if(!d)return so(t);typeof r.redirectTo=="string"&&r.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>pT&&(this.allowRedirects=!1));let b=new fr(o,p,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,by(r),Mn(r),r.component??r._loadedComponent??null,r,Ey(r)),x=Bc(b,l,this.paramsInheritanceStrategy);return b.params=Object.freeze(x.params),b.data=Object.freeze(x.data),this.applyRedirects.applyRedirectCommands(h,r.redirectTo,_,b,n).pipe(ht(j=>this.applyRedirects.lineralizeSegments(r,j)),qe(j=>this.processSegment(n,i,t,j.concat(S),a,!1,l)))}matchSegmentAgainstRoute(n,t,i,r,o,a){let l=oT(t,i,r,n,this.urlSerializer);return i.path==="**"&&(t.children={}),l.pipe(ht(d=>d.matched?(n=i._injector??n,this.getChildConfig(n,i,r).pipe(ht(({routes:p})=>{let h=i._loadedInjector??n,{parameters:_,consumedSegments:S,remainingSegments:b}=d,x=new fr(S,_,Object.freeze(N({},this.urlTree.queryParams)),this.urlTree.fragment,by(i),Mn(i),i.component??i._loadedComponent??null,i,Ey(i)),B=Bc(x,a,this.paramsInheritanceStrategy);x.params=Object.freeze(B.params),x.data=Object.freeze(B.data);let{segmentGroup:j,slicedSegments:U}=_y(t,S,b,p);if(U.length===0&&j.hasChildren())return this.processChildren(h,p,j,x).pipe(X(Ft=>new Yt(x,Ft)));if(p.length===0&&U.length===0)return W(new Yt(x,[]));let we=Mn(i)===o;return this.processSegment(h,p,j,U,we?de:o,!0,x).pipe(X(Ft=>new Yt(x,Ft instanceof Yt?[Ft]:[])))}))):so(t)))}getChildConfig(n,t,i){return t.children?W({routes:t.children,injector:n}):t.loadChildren?t._loadedRoutes!==void 0?W({routes:t._loadedRoutes,injector:t._loadedInjector}):eT(n,t,i,this.urlSerializer).pipe(qe(r=>r?this.configLoader.loadChildren(n,t).pipe(lt(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):iT(t))):W({routes:[],injector:n})}};function mT(e){e.sort((n,t)=>n.value.outlet===de?-1:t.value.outlet===de?1:n.value.outlet.localeCompare(t.value.outlet))}function hT(e){let n=e.value.routeConfig;return n&&n.path===""}function Yy(e){let n=[],t=new Set;for(let i of e){if(!hT(i)){n.push(i);continue}let r=n.find(o=>i.value.routeConfig===o.value.routeConfig);r!==void 0?(r.children.push(...i.children),t.add(r)):n.push(i)}for(let i of t){let r=Yy(i.children);n.push(new Yt(i.value,r))}return n.filter(i=>!t.has(i))}function by(e){return e.data||{}}function Ey(e){return e.resolve||{}}function gT(e,n,t,i,r,o){return qe(a=>fT(e,n,t,i,a.extractedUrl,r,o).pipe(X(({state:l,tree:d})=>he(N({},a),{targetSnapshot:l,urlAfterRedirects:d}))))}function vT(e,n){return qe(t=>{let{targetSnapshot:i,guards:{canActivateChecks:r}}=t;if(!r.length)return W(t);let o=new Set(r.map(d=>d.route)),a=new Set;for(let d of o)if(!a.has(d))for(let p of Qy(d))a.add(p);let l=0;return Oe(a).pipe(Rn(d=>o.has(d)?CT(d,i,e,n):(d.data=Bc(d,d.parent,e).resolve,W(void 0))),lt(()=>l++),kr(1),qe(d=>l===a.size?W(t):Ot))})}function Qy(e){let n=e.children.map(t=>Qy(t)).flat();return[e,...n]}function CT(e,n,t,i){let r=e.routeConfig,o=e._resolve;return r?.title!==void 0&&!By(r)&&(o[Ga]=r.title),Po(()=>(e.data=Bc(e,e.parent,t).resolve,yT(o,e,n,i).pipe(X(a=>(e._resolvedData=a,e.data=N(N({},e.data),a),null)))))}function yT(e,n,t,i){let r=Lm(e);if(r.length===0)return W({});let o={};return Oe(r).pipe(qe(a=>_T(e[a],n,t,i).pipe(ei(),lt(l=>{if(l instanceof vo)throw $c(new Ti,l);o[a]=l}))),kr(1),X(()=>o),Xn(a=>qy(a)?Ot:Fr(a)))}function _T(e,n,t,i){let r=yo(n)??i,o=_o(e,r),a=o.resolve?o.resolve(n,t):ut(r,()=>o(n,t));return ui(a)}function Pm(e){return ht(n=>{let t=e(n);return t?Oe(t).pipe(X(()=>n)):W(n)})}var eh=(()=>{class e{buildTitle(t){let i,r=t.root;for(;r!==void 0;)i=this.getResolvedTitleForRoute(r)??i,r=r.children.find(o=>o.outlet===de);return i}getResolvedTitleForRoute(t){return t.data[Ga]}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:()=>g(Ky),providedIn:"root"})}return e})(),Ky=(()=>{class e extends eh{title;constructor(t){super(),this.title=t}updateTitle(t){let i=this.buildTitle(t);i!==void 0&&this.title.setTitle(i)}static \u0275fac=function(i){return new(i||e)(q(hy))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),Ni=new L("",{providedIn:"root",factory:()=>({})}),gr=new L(""),qc=(()=>{class e{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=g(Kp);loadComponent(t,i){if(this.componentLoaders.get(i))return this.componentLoaders.get(i);if(i._loadedComponent)return W(i._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(i);let r=ui(ut(t,()=>i.loadComponent())).pipe(X(Xy),ht(e_),lt(a=>{this.onLoadEndListener&&this.onLoadEndListener(i),i._loadedComponent=a}),Ui(()=>{this.componentLoaders.delete(i)})),o=new Rr(r,()=>new Ke).pipe(Nr());return this.componentLoaders.set(i,o),o}loadChildren(t,i){if(this.childrenLoaders.get(i))return this.childrenLoaders.get(i);if(i._loadedRoutes)return W({routes:i._loadedRoutes,injector:i._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(i);let o=Jy(i,this.compiler,t,this.onLoadEndListener).pipe(Ui(()=>{this.childrenLoaders.delete(i)})),a=new Rr(o,()=>new Ke).pipe(Nr());return this.childrenLoaders.set(i,a),a}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Jy(e,n,t,i){return ui(ut(t,()=>e.loadChildren())).pipe(X(Xy),ht(e_),qe(r=>r instanceof Ql||Array.isArray(r)?W(r):Oe(n.compileModuleAsync(r))),X(r=>{i&&i(e);let o,a,l=!1;return Array.isArray(r)?(a=r,l=!0):(o=r.create(t).injector,a=o.get(gr,[],{optional:!0,self:!0}).flat()),{routes:a.map(Xm),injector:o}}))}function bT(e){return e&&typeof e=="object"&&"default"in e}function Xy(e){return bT(e)?e.default:e}function e_(e){return W(e)}var Wc=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:()=>g(ET),providedIn:"root"})}return e})(),ET=(()=>{class e{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,i){return t}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),th=new L(""),nh=new L("");function t_(e,n,t){let i=e.get(nh),r=e.get(Pe);if(!r.startViewTransition||i.skipNextTransition)return i.skipNextTransition=!1,new Promise(p=>setTimeout(p));let o,a=new Promise(p=>{o=p}),l=r.startViewTransition(()=>(o(),DT(e)));l.ready.catch(p=>{});let{onViewTransitionCreated:d}=i;return d&&ut(e,()=>d({transition:l,from:n,to:t})),a}function DT(e){return new Promise(n=>{ua({read:()=>setTimeout(n)},{injector:e})})}var ih=new L(""),Zc=(()=>{class e{currentNavigation=At(null,{equal:()=>!1});currentTransition=null;lastSuccessfulNavigation=null;events=new Ke;transitionAbortWithErrorSubject=new Ke;configLoader=g(qc);environmentInjector=g(We);destroyRef=g(vn);urlSerializer=g(mr);rootContexts=g(hr);location=g(xi);inputBindingEnabled=g(qa,{optional:!0})!==null;titleStrategy=g(eh);options=g(Ni,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=g(Wc);createViewTransition=g(th,{optional:!0});navigationErrorHandler=g(ih,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>W(void 0);rootComponentType=null;destroyed=!1;constructor(){let t=r=>this.events.next(new Fc(r)),i=r=>this.events.next(new Oc(r));this.configLoader.onLoadEndListener=i,this.configLoader.onLoadStartListener=t,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(t){let i=++this.navigationId;ft(()=>{this.transitions?.next(he(N({},t),{extractedUrl:this.urlHandlingStrategy.extract(t.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,abortController:new AbortController,id:i}))})}setupNavigations(t){return this.transitions=new mt(null),this.transitions.pipe(tt(i=>i!==null),ht(i=>{let r=!1;return W(i).pipe(ht(o=>{if(this.navigationId>i.id)return this.cancelNavigationTransition(i,"",Rt.SupersededByNewNavigation),Ot;this.currentTransition=i,this.currentNavigation.set({id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?he(N({},this.lastSuccessfulNavigation),{previousNavigation:null}):null,abort:()=>o.abortController.abort()});let a=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),l=o.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!a&&l!=="reload")return this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.rawUrl),"",po.IgnoredSameUrlNavigation)),o.resolve(!1),Ot;if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return W(o).pipe(ht(d=>(this.events.next(new Ai(d.id,this.urlSerializer.serialize(d.extractedUrl),d.source,d.restoredState)),d.id!==this.navigationId?Ot:Promise.resolve(d))),gT(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),lt(d=>{i.targetSnapshot=d.targetSnapshot,i.urlAfterRedirects=d.urlAfterRedirects,this.currentNavigation.update(h=>(h.finalUrl=d.urlAfterRedirects,h));let p=new La(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:d,extractedUrl:p,source:h,restoredState:_,extras:S}=o,b=new Ai(d,this.urlSerializer.serialize(p),h,_);this.events.next(b);let x=jy(this.rootComponentType).snapshot;return this.currentTransition=i=he(N({},o),{targetSnapshot:x,urlAfterRedirects:p,extras:he(N({},S),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.update(B=>(B.finalUrl=p,B)),W(i)}else return this.events.next(new Qn(o.id,this.urlSerializer.serialize(o.extractedUrl),"",po.IgnoredByUrlHandlingStrategy)),o.resolve(!1),Ot}),lt(o=>{let a=new Mc(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),X(o=>(this.currentTransition=i=he(N({},o),{guards:Pw(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),i)),qw(this.environmentInjector,o=>this.events.next(o)),lt(o=>{if(i.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw $c(this.urlSerializer,o.guardsResult);let a=new Ac(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),tt(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",Rt.GuardRejected),!1)),Pm(o=>{if(o.guards.canActivateChecks.length!==0)return W(o).pipe(lt(a=>{let l=new Nc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}),ht(a=>{let l=!1;return W(a).pipe(vT(this.paramsInheritanceStrategy,this.environmentInjector),lt({next:()=>l=!0,complete:()=>{l||this.cancelNavigationTransition(a,"",Rt.NoDataFromResolver)}}))}),lt(a=>{let l=new Rc(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(l)}))}),Pm(o=>{let a=l=>{let d=[];if(l.routeConfig?.loadComponent){let p=yo(l)??this.environmentInjector;d.push(this.configLoader.loadComponent(p,l.routeConfig).pipe(lt(h=>{l.component=h}),X(()=>{})))}for(let p of l.children)d.push(...a(p));return d};return Oo(a(o.targetSnapshot.root)).pipe(pi(null),Kt(1))}),Pm(()=>this.afterPreactivation()),ht(()=>{let{currentSnapshot:o,targetSnapshot:a}=i,l=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return l?Oe(l).pipe(X(()=>i)):W(i)}),X(o=>{let a=Aw(t.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=i=he(N({},o),{targetRouterState:a}),this.currentNavigation.update(l=>(l.targetRouterState=a,l)),i}),lt(()=>{this.events.next(new Va)}),Ow(this.rootContexts,t.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),Kt(1),Us(new ve(o=>{let a=i.abortController.signal,l=()=>o.next();return a.addEventListener("abort",l),()=>a.removeEventListener("abort",l)}).pipe(tt(()=>!r&&!i.targetRouterState),lt(()=>{this.cancelNavigationTransition(i,i.abortController.signal.reason+"",Rt.Aborted)}))),lt({next:o=>{r=!0,this.lastSuccessfulNavigation=ft(this.currentNavigation),this.events.next(new jt(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{r=!0}}),Us(this.transitionAbortWithErrorSubject.pipe(lt(o=>{throw o}))),Ui(()=>{r||this.cancelNavigationTransition(i,"",Rt.SupersededByNewNavigation),this.currentTransition?.id===i.id&&(this.currentNavigation.set(null),this.currentTransition=null)}),Xn(o=>{if(this.destroyed)return i.resolve(!1),Ot;if(r=!0,zy(o))this.events.next(new Zn(i.id,this.urlSerializer.serialize(i.extractedUrl),o.message,o.cancellationCode)),Fw(o)?this.events.next(new go(o.url,o.navigationBehaviorOptions)):i.resolve(!1);else{let a=new mo(i.id,this.urlSerializer.serialize(i.extractedUrl),o,i.targetSnapshot??void 0);try{let l=ut(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(l instanceof vo){let{message:d,cancellationCode:p}=$c(this.urlSerializer,l);this.events.next(new Zn(i.id,this.urlSerializer.serialize(i.extractedUrl),d,p)),this.events.next(new go(l.redirectTo,l.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(l){this.options.resolveNavigationPromiseOnError?i.resolve(!1):i.reject(l)}}return Ot}))}))}cancelNavigationTransition(t,i,r){let o=new Zn(t.id,this.urlSerializer.serialize(t.extractedUrl),i,r);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),i=ft(this.currentNavigation),r=i?.targetBrowserUrl??i?.extractedUrl;return t.toString()!==r?.toString()&&!i?.extras.skipLocationChange}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function ST(e){return e!==uo}var n_=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:()=>g(xT),providedIn:"root"})}return e})(),Gc=class{shouldDetach(n){return!1}store(n,t){}shouldAttach(n){return!1}retrieve(n){return null}shouldReuseRoute(n,t){return n.routeConfig===t.routeConfig}},xT=(()=>{class e extends Gc{static \u0275fac=(()=>{let t;return function(r){return(t||(t=rn(e)))(r||e)}})();static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),i_=(()=>{class e{urlSerializer=g(mr);options=g(Ni,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";location=g(xi);urlHandlingStrategy=g(Wc);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Yn;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}createBrowserPath({finalUrl:t,initialUrl:i,targetBrowserUrl:r}){let o=t!==void 0?this.urlHandlingStrategy.merge(t,i):i,a=r??o;return a instanceof Yn?this.urlSerializer.serialize(a):a}commitTransition({targetRouterState:t,finalUrl:i,initialUrl:r}){i&&t?(this.currentUrlTree=i,this.rawUrlTree=this.urlHandlingStrategy.merge(i,r),this.routerState=t):this.rawUrlTree=r}routerState=jy(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();updateStateMemento(){this.stateMemento=this.createStateMemento()}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}resetInternalState({finalUrl:t}){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t??this.rawUrlTree)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:()=>g(IT),providedIn:"root"})}return e})(),IT=(()=>{class e extends i_{currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(i=>{i.type==="popstate"&&setTimeout(()=>{t(i.url,i.state,"popstate")})})}handleRouterEvent(t,i){t instanceof Ai?this.updateStateMemento():t instanceof Qn?this.commitTransition(i):t instanceof La?this.urlUpdateStrategy==="eager"&&(i.extras.skipLocationChange||this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Va?(this.commitTransition(i),this.urlUpdateStrategy==="deferred"&&!i.extras.skipLocationChange&&this.setBrowserUrl(this.createBrowserPath(i),i)):t instanceof Zn&&t.code!==Rt.SupersededByNewNavigation&&t.code!==Rt.Redirect?this.restoreHistory(i):t instanceof mo?this.restoreHistory(i,!0):t instanceof jt&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,{extras:i,id:r}){let{replaceUrl:o,state:a}=i;if(this.location.isCurrentPathEqualTo(t)||o){let l=this.browserPageId,d=N(N({},a),this.generateNgRouterState(r,l));this.location.replaceState(t,"",d)}else{let l=N(N({},a),this.generateNgRouterState(r,this.browserPageId+1));this.location.go(t,"",l)}}restoreHistory(t,i=!1){if(this.canceledNavigationResolution==="computed"){let r=this.browserPageId,o=this.currentPageId-r;o!==0?this.location.historyGo(o):this.getCurrentUrlTree()===t.finalUrl&&o===0&&(this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(i&&this.resetInternalState(t),this.resetUrlToCurrentUrlTree())}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.getRawUrlTree()),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,i){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:i}:{navigationId:t}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rn(e)))(r||e)}})();static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function Yc(e,n){e.events.pipe(tt(t=>t instanceof jt||t instanceof Zn||t instanceof mo||t instanceof Qn),X(t=>t instanceof jt||t instanceof Qn?0:(t instanceof Zn?t.code===Rt.Redirect||t.code===Rt.SupersededByNewNavigation:!1)?2:1),tt(t=>t!==2),Kt(1)).subscribe(()=>{n()})}var wT={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},TT={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},H=(()=>{class e{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=g(Jl);stateManager=g(i_);options=g(Ni,{optional:!0})||{};pendingTasks=g(jn);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=g(Zc);urlSerializer=g(mr);location=g(xi);urlHandlingStrategy=g(Wc);injector=g(We);_events=new Ke;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=g(n_);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=g(gr,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!g(qa,{optional:!0});currentNavigation=this.navigationTransitions.currentNavigation.asReadonly();constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}eventsSubscription=new Qe;subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(i=>{try{let r=this.navigationTransitions.currentTransition,o=ft(this.navigationTransitions.currentNavigation);if(r!==null&&o!==null){if(this.stateManager.handleRouterEvent(i,o),i instanceof Zn&&i.code!==Rt.Redirect&&i.code!==Rt.SupersededByNewNavigation)this.navigated=!0;else if(i instanceof jt)this.navigated=!0;else if(i instanceof go){let a=i.navigationBehaviorOptions,l=this.urlHandlingStrategy.merge(i.url,r.currentRawUrl),d=N({browserUrl:r.extras.browserUrl,info:r.extras.info,skipLocationChange:r.extras.skipLocationChange,replaceUrl:r.extras.replaceUrl||this.urlUpdateStrategy==="eager"||ST(r.source)},a);this.scheduleNavigation(l,uo,null,d,{resolve:r.resolve,reject:r.reject,promise:r.promise})}}Iw(i)&&this._events.next(i)}catch(r){this.navigationTransitions.transitionAbortWithErrorSubject.next(r)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),uo,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,i,r)=>{this.navigateToSyncWithBrowser(t,r,i)})}navigateToSyncWithBrowser(t,i,r){let o={replaceUrl:!0},a=r?.navigationId?r:null;if(r){let d=N({},r);delete d.navigationId,delete d.\u0275routerPageId,Object.keys(d).length!==0&&(o.state=d)}let l=this.parseUrl(t);this.scheduleNavigation(l,i,a,o).catch(d=>{this.disposed||this.injector.get(Mt)(d)})}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return ft(this.navigationTransitions.currentNavigation)}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Xm),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,i={}){let{relativeTo:r,queryParams:o,fragment:a,queryParamsHandling:l,preserveFragment:d}=i,p=d?this.currentUrlTree.fragment:a,h=null;switch(l??this.options.defaultQueryParamsHandling){case"merge":h=N(N({},this.currentUrlTree.queryParams),o);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=o||null}h!==null&&(h=this.removeEmptyProps(h));let _;try{let S=r?r.snapshot:this.routerState.snapshot.root;_=Py(S)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),_=this.currentUrlTree.root}return ky(_,t,h,p??null)}navigateByUrl(t,i={skipLocationChange:!1}){let r=Mi(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(r,this.rawUrlTree);return this.scheduleNavigation(o,uo,null,i)}navigate(t,i={skipLocationChange:!1}){return MT(t),this.navigateByUrl(this.createUrlTree(t,i),i)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,i){let r;if(i===!0?r=N({},wT):i===!1?r=N({},TT):r=i,Mi(t))return gy(this.currentUrlTree,t,r);let o=this.parseUrl(t);return gy(this.currentUrlTree,o,r)}removeEmptyProps(t){return Object.entries(t).reduce((i,[r,o])=>(o!=null&&(i[r]=o),i),{})}scheduleNavigation(t,i,r,o,a){if(this.disposed)return Promise.resolve(!1);let l,d,p;a?(l=a.resolve,d=a.reject,p=a.promise):p=new Promise((_,S)=>{l=_,d=S});let h=this.pendingTasks.add();return Yc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(h))}),this.navigationTransitions.handleNavigationRequest({source:i,restoredState:r,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:l,reject:d,promise:p,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),p.catch(_=>Promise.reject(_))}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();function MT(e){for(let n=0;n<e.length;n++)if(e[n]==null)throw new O(4008,!1)}var $e=(()=>{class e{router;route;tabIndexAttribute;renderer;el;locationStrategy;reactiveHref=At(null);get href(){return ft(this.reactiveHref)}set href(t){this.reactiveHref.set(t)}target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new Ke;applicationErrorHandler=g(Mt);options=g(Ni,{optional:!0});constructor(t,i,r,o,a,l){this.router=t,this.route=i,this.tabIndexAttribute=r,this.renderer=o,this.el=a,this.locationStrategy=l,this.reactiveHref.set(g(new nc("href"),{optional:!0}));let d=a.nativeElement.tagName?.toLowerCase();this.isAnchorElement=d==="a"||d==="area"||!!(typeof customElements=="object"&&customElements.get(d)?.observedAttributes?.includes?.("href")),this.isAnchorElement?this.setTabIndexIfNotOnNativeEl("0"):this.subscribeToNavigationEventsIfNecessary()}subscribeToNavigationEventsIfNecessary(){if(this.subscription!==void 0||!this.isAnchorElement)return;let t=this.preserveFragment,i=r=>r==="merge"||r==="preserve";t||=i(this.queryParamsHandling),t||=!this.queryParamsHandling&&!i(this.options?.defaultQueryParamsHandling),t&&(this.subscription=this.router.events.subscribe(r=>{r instanceof jt&&this.updateHref()}))}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&(this.updateHref(),this.subscribeToNavigationEventsIfNecessary()),this.onChanges.next(this)}routerLinkInput=null;set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Mi(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,i,r,o,a){let l=this.urlTree;if(l===null||this.isAnchorElement&&(t!==0||i||r||o||a||typeof this.target=="string"&&this.target!="_self"))return!0;let d={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(l,d)?.catch(p=>{this.applicationErrorHandler(p)}),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.reactiveHref.set(t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t))??"":null)}applyAttributeValue(t,i){let r=this.renderer,o=this.el.nativeElement;i!==null?r.setAttribute(o,t,i):r.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Mi(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(i){return new(i||e)(Q(H),Q(fe),sa("tabindex"),Q(En),Q(on),Q(xn))};static \u0275dir=Te({type:e,selectors:[["","routerLink",""]],hostVars:2,hostBindings:function(i,r){i&1&&I("click",function(a){return r.onClick(a.button,a.ctrlKey,a.shiftKey,a.altKey,a.metaKey)}),i&2&&sr("href",r.reactiveHref(),Dp)("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",lr],skipLocationChange:[2,"skipLocationChange","skipLocationChange",lr],replaceUrl:[2,"replaceUrl","replaceUrl",lr],routerLink:"routerLink"},features:[Dt]})}return e})();var Za=class{};var r_=(()=>{class e{router;injector;preloadingStrategy;loader;subscription;constructor(t,i,r,o){this.router=t,this.injector=i,this.preloadingStrategy=r,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(tt(t=>t instanceof jt),Rn(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,i){let r=[];for(let o of i){o.providers&&!o._injector&&(o._injector=Xr(o.providers,t,`Route: ${o.path}`));let a=o._injector??t,l=o._loadedInjector??a;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&r.push(this.preloadConfig(a,o)),(o.children||o._loadedRoutes)&&r.push(this.processRoutes(l,o.children??o._loadedRoutes))}return Oe(r).pipe(Or())}preloadConfig(t,i){return this.preloadingStrategy.preload(i,()=>{let r;i.loadChildren&&i.canLoad===void 0?r=this.loader.loadChildren(t,i):r=W(null);let o=r.pipe(qe(a=>a===null?W(void 0):(i._loadedRoutes=a.routes,i._loadedInjector=a.injector,this.processRoutes(a.injector??t,a.routes))));if(i.loadComponent&&!i._loadedComponent){let a=this.loader.loadComponent(t,i);return Oe([o,a]).pipe(Or())}else return o})}static \u0275fac=function(i){return new(i||e)(q(H),q(We),q(Za),q(qc))};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})(),o_=new L(""),AT=(()=>{class e{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource=uo;restoredId=0;store={};constructor(t,i,r,o,a={}){this.urlSerializer=t,this.transitions=i,this.viewportScroller=r,this.zone=o,this.options=a,a.scrollPositionRestoration||="disabled",a.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Ai?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof jt?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof Qn&&t.code===po.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{if(!(t instanceof ho))return;let i={behavior:"instant"};t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0],i):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position,i):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0])})}scheduleScrollEvent(t,i){this.zone.runOutsideAngular(()=>yr(this,null,function*(){yield new Promise(r=>{setTimeout(r),typeof requestAnimationFrame<"u"&&requestAnimationFrame(r)}),this.zone.run(()=>{this.transitions.events.next(new ho(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,i))})}))}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(i){Up()};static \u0275prov=A({token:e,factory:e.\u0275fac})}return e})();function oh(e,...n){return fn([{provide:gr,multi:!0,useValue:e},[],{provide:fe,useFactory:a_,deps:[H]},{provide:pa,multi:!0,useFactory:s_},n.map(t=>t.\u0275providers)])}function a_(e){return e.routerState.root}function Ya(e,n){return{\u0275kind:e,\u0275providers:n}}function s_(){let e=g(Tt);return n=>{let t=e.get($n);if(n!==t.components[0])return;let i=e.get(H),r=e.get(l_);e.get(ah)===1&&i.initialNavigation(),e.get(d_,null,{optional:!0})?.setUpPreloading(),e.get(o_,null,{optional:!0})?.init(),i.resetRootComponentType(t.componentTypes[0]),r.closed||(r.next(),r.complete(),r.unsubscribe())}}var l_=new L("",{factory:()=>new Ke}),ah=new L("",{providedIn:"root",factory:()=>1});function c_(){let e=[{provide:Ul,useValue:!0},{provide:ah,useValue:0},Xl(()=>{let n=g(Tt);return n.get(rm,Promise.resolve()).then(()=>new Promise(i=>{let r=n.get(H),o=n.get(l_);Yc(r,()=>{i(!0)}),n.get(Zc).afterPreactivation=()=>(i(!0),o.closed?W(void 0):o),r.initialNavigation()}))})];return Ya(2,e)}function u_(){let e=[Xl(()=>{g(H).setUpLocationChangeListener()}),{provide:ah,useValue:2}];return Ya(3,e)}var d_=new L("");function f_(e){return Ya(0,[{provide:d_,useExisting:r_},{provide:Za,useExisting:e}])}function p_(){return Ya(8,[Km,{provide:qa,useExisting:Km}])}function m_(e){bn("NgRouterViewTransitions");let n=[{provide:th,useValue:t_},{provide:nh,useValue:N({skipNextTransition:!!e?.skipInitialTransition},e)}];return Ya(9,n)}var h_=[xi,{provide:mr,useClass:Ti},H,hr,{provide:fe,useFactory:a_,deps:[H]},qc,[]],sh=(()=>{class e{constructor(){}static forRoot(t,i){return{ngModule:e,providers:[h_,[],{provide:gr,multi:!0,useValue:t},[],i?.errorHandler?{provide:ih,useValue:i.errorHandler}:[],{provide:Ni,useValue:i||{}},i?.useHash?RT():FT(),NT(),i?.preloadingStrategy?f_(i.preloadingStrategy).\u0275providers:[],i?.initialNavigation?OT(i):[],i?.bindToComponentInputs?p_().\u0275providers:[],i?.enableViewTransitions?m_().\u0275providers:[],PT()]}}static forChild(t){return{ngModule:e,providers:[{provide:gr,multi:!0,useValue:t}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=sn({type:e});static \u0275inj=$t({})}return e})();function NT(){return{provide:o_,useFactory:()=>{let e=g(YC),n=g(je),t=g(Ni),i=g(Zc),r=g(mr);return t.scrollOffset&&e.setOffset(t.scrollOffset),new AT(r,i,e,n,t)}}}function RT(){return{provide:xn,useClass:dm}}function FT(){return{provide:xn,useClass:oc}}function OT(e){return[e.initialNavigation==="disabled"?u_().\u0275providers:[],e.initialNavigation==="enabledBlocking"?c_().\u0275providers:[]]}var rh=new L("");function PT(){return[{provide:rh,useFactory:s_},{provide:pa,multi:!0,useExisting:rh}]}var Qc=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-inicio"]],decls:7,vars:0,consts:[[1,"landing-container","d-flex","flex-column","justify-content-center","align-items-center","text-center","text-white"],[1,"overlay"],[1,"content"],[1,"display-3","fw-bold","mb-3"],[1,"lead"]],template:function(t,i){t&1&&(M(0,"div",0),Fe(1,"div",1),M(2,"div",2)(3,"h1",3),u(4,"Bienvenido a Manejador de Cines"),T(),M(5,"p",4),u(6,"Administra tus pel\xEDculas, salas, proyecciones, etc."),T()()())},styles:[".landing-container[_ngcontent-%COMP%]{position:relative;height:100vh;background-image:url(/pexels-tima-miroshnichenko-7991579.jpg);background-size:cover;background-position:center;background-repeat:no-repeat;overflow:hidden}.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background-color:#0000008c;z-index:1}.content[_ngcontent-%COMP%]{position:relative;z-index:2;padding:20px;max-width:800px}.content[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn 1.2s ease-in-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}h1[_ngcontent-%COMP%], p[_ngcontent-%COMP%]{color:#fff}"]})};var S_=(()=>{class e{_renderer;_elementRef;onChange=t=>{};onTouched=()=>{};constructor(t,i){this._renderer=t,this._elementRef=i}setProperty(t,i){this._renderer.setProperty(this._elementRef.nativeElement,t,i)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static \u0275fac=function(i){return new(i||e)(Q(En),Q(on))};static \u0275dir=Te({type:e})}return e})(),ts=(()=>{class e extends S_{static \u0275fac=(()=>{let t;return function(r){return(t||(t=rn(e)))(r||e)}})();static \u0275dir=Te({type:e,features:[yt]})}return e})(),Fi=new L(""),LT={provide:Fi,useExisting:Et(()=>ns),multi:!0},ns=(()=>{class e extends ts{writeValue(t){this.setProperty("checked",t)}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rn(e)))(r||e)}})();static \u0275dir=Te({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(a){return r.onChange(a.target.checked)})("blur",function(){return r.onTouched()})},standalone:!1,features:[qt([LT]),yt]})}return e})(),VT={provide:Fi,useExisting:Et(()=>J),multi:!0};function jT(){let e=ln()?ln().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}var UT=new L(""),J=(()=>{class e extends S_{_compositionMode;_composing=!1;constructor(t,i,r){super(t,i),this._compositionMode=r,this._compositionMode==null&&(this._compositionMode=!jT())}writeValue(t){let i=t??"";this.setProperty("value",i)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static \u0275fac=function(i){return new(i||e)(Q(En),Q(on),Q(UT,8))};static \u0275dir=Te({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(i,r){i&1&&I("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},standalone:!1,features:[qt([VT]),yt]})}return e})();function dh(e){return e==null||fh(e)===0}function fh(e){return e==null?null:Array.isArray(e)||typeof e=="string"?e.length:e instanceof Set?e.size:null}var So=new L(""),su=new L(""),BT=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,w=class{static min(n){return x_(n)}static max(n){return $T(n)}static required(n){return HT(n)}static requiredTrue(n){return GT(n)}static email(n){return zT(n)}static minLength(n){return qT(n)}static maxLength(n){return I_(n)}static pattern(n){return WT(n)}static nullValidator(n){return Jc()}static compose(n){return R_(n)}static composeAsync(n){return O_(n)}};function x_(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t<e?{min:{min:e,actual:n.value}}:null}}function $T(e){return n=>{if(n.value==null||e==null)return null;let t=parseFloat(n.value);return!isNaN(t)&&t>e?{max:{max:e,actual:n.value}}:null}}function HT(e){return dh(e.value)?{required:!0}:null}function GT(e){return e.value===!0?null:{required:!0}}function zT(e){return dh(e.value)||BT.test(e.value)?null:{email:!0}}function qT(e){return n=>{let t=n.value?.length??fh(n.value);return t===null||t===0?null:t<e?{minlength:{requiredLength:e,actualLength:t}}:null}}function I_(e){return n=>{let t=n.value?.length??fh(n.value);return t!==null&&t>e?{maxlength:{requiredLength:e,actualLength:t}}:null}}function WT(e){if(!e)return Jc;let n,t;return typeof e=="string"?(t="",e.charAt(0)!=="^"&&(t+="^"),t+=e,e.charAt(e.length-1)!=="$"&&(t+="$"),n=new RegExp(t)):(t=e.toString(),n=e),i=>{if(dh(i.value))return null;let r=i.value;return n.test(r)?null:{pattern:{requiredPattern:t,actualValue:r}}}}function Jc(e){return null}function w_(e){return e!=null}function T_(e){return Di(e)?Oe(e):e}function M_(e){let n={};return e.forEach(t=>{n=t!=null?N(N({},n),t):n}),Object.keys(n).length===0?null:n}function A_(e,n){return n.map(t=>t(e))}function ZT(e){return!e.validate}function N_(e){return e.map(n=>ZT(n)?n:t=>n.validate(t))}function R_(e){if(!e)return null;let n=e.filter(w_);return n.length==0?null:function(t){return M_(A_(t,n))}}function F_(e){return e!=null?R_(N_(e)):null}function O_(e){if(!e)return null;let n=e.filter(w_);return n.length==0?null:function(t){let i=A_(t,n).map(T_);return hd(i).pipe(X(M_))}}function P_(e){return e!=null?O_(N_(e)):null}function g_(e,n){return e===null?[n]:Array.isArray(e)?[...e,n]:[e,n]}function k_(e){return e._rawValidators}function L_(e){return e._rawAsyncValidators}function lh(e){return e?Array.isArray(e)?e:[e]:[]}function Xc(e,n){return Array.isArray(e)?e.includes(n):e===n}function v_(e,n){let t=lh(n);return lh(e).forEach(r=>{Xc(t,r)||t.push(r)}),t}function C_(e,n){return lh(n).filter(t=>!Xc(e,t))}var eu=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(n){this._rawValidators=n||[],this._composedValidatorFn=F_(this._rawValidators)}_setAsyncValidators(n){this._rawAsyncValidators=n||[],this._composedAsyncValidatorFn=P_(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(n){this._onDestroyCallbacks.push(n)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(n=>n()),this._onDestroyCallbacks=[]}reset(n=void 0){this.control&&this.control.reset(n)}hasError(n,t){return this.control?this.control.hasError(n,t):!1}getError(n,t){return this.control?this.control.getError(n,t):null}},vr=class extends eu{name;get formDirective(){return null}get path(){return null}},di=class extends eu{_parent=null;name=null;valueAccessor=null},tu=class{_cd;constructor(n){this._cd=n}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},YT={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Uz=he(N({},YT),{"[class.ng-submitted]":"isSubmitted"}),ee=(()=>{class e extends tu{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(Q(di,2))};static \u0275dir=Te({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(i,r){i&2&&Z("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},standalone:!1,features:[yt]})}return e})(),re=(()=>{class e extends tu{constructor(t){super(t)}static \u0275fac=function(i){return new(i||e)(Q(vr,10))};static \u0275dir=Te({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(i,r){i&2&&Z("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},standalone:!1,features:[yt]})}return e})();var Qa="VALID",Kc="INVALID",bo="PENDING",Ka="DISABLED",Ri=class{},nu=class extends Ri{value;source;constructor(n,t){super(),this.value=n,this.source=t}},Ja=class extends Ri{pristine;source;constructor(n,t){super(),this.pristine=n,this.source=t}},Xa=class extends Ri{touched;source;constructor(n,t){super(),this.touched=n,this.source=t}},Eo=class extends Ri{status;source;constructor(n,t){super(),this.status=n,this.source=t}},ch=class extends Ri{source;constructor(n){super(),this.source=n}},es=class extends Ri{source;constructor(n){super(),this.source=n}};function ph(e){return(lu(e)?e.validators:e)||null}function QT(e){return Array.isArray(e)?F_(e):e||null}function mh(e,n){return(lu(n)?n.asyncValidators:e)||null}function KT(e){return Array.isArray(e)?P_(e):e||null}function lu(e){return e!=null&&!Array.isArray(e)&&typeof e=="object"}function V_(e,n,t){let i=e.controls;if(!(n?Object.keys(i):i).length)throw new O(1e3,"");if(!i[t])throw new O(1001,"")}function j_(e,n,t){e._forEachChild((i,r)=>{if(t[r]===void 0)throw new O(1002,"")})}var Do=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(n,t){this._assignValidators(n),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(n){this._rawValidators=this._composedValidatorFn=n}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(n){this._rawAsyncValidators=this._composedAsyncValidatorFn=n}get parent(){return this._parent}get status(){return ft(this.statusReactive)}set status(n){ft(()=>this.statusReactive.set(n))}_status=no(()=>this.statusReactive());statusReactive=At(void 0);get valid(){return this.status===Qa}get invalid(){return this.status===Kc}get pending(){return this.status==bo}get disabled(){return this.status===Ka}get enabled(){return this.status!==Ka}errors;get pristine(){return ft(this.pristineReactive)}set pristine(n){ft(()=>this.pristineReactive.set(n))}_pristine=no(()=>this.pristineReactive());pristineReactive=At(!0);get dirty(){return!this.pristine}get touched(){return ft(this.touchedReactive)}set touched(n){ft(()=>this.touchedReactive.set(n))}_touched=no(()=>this.touchedReactive());touchedReactive=At(!1);get untouched(){return!this.touched}_events=new Ke;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(n){this._assignValidators(n)}setAsyncValidators(n){this._assignAsyncValidators(n)}addValidators(n){this.setValidators(v_(n,this._rawValidators))}addAsyncValidators(n){this.setAsyncValidators(v_(n,this._rawAsyncValidators))}removeValidators(n){this.setValidators(C_(n,this._rawValidators))}removeAsyncValidators(n){this.setAsyncValidators(C_(n,this._rawAsyncValidators))}hasValidator(n){return Xc(this._rawValidators,n)}hasAsyncValidator(n){return Xc(this._rawAsyncValidators,n)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(n={}){let t=this.touched===!1;this.touched=!0;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsTouched(he(N({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new Xa(!0,i))}markAllAsDirty(n={}){this.markAsDirty({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsDirty(n))}markAllAsTouched(n={}){this.markAsTouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(n))}markAsUntouched(n={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsUntouched({onlySelf:!0,emitEvent:n.emitEvent,sourceControl:i})}),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,i),t&&n.emitEvent!==!1&&this._events.next(new Xa(!1,i))}markAsDirty(n={}){let t=this.pristine===!0;this.pristine=!1;let i=n.sourceControl??this;this._parent&&!n.onlySelf&&this._parent.markAsDirty(he(N({},n),{sourceControl:i})),t&&n.emitEvent!==!1&&this._events.next(new Ja(!1,i))}markAsPristine(n={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let i=n.sourceControl??this;this._forEachChild(r=>{r.markAsPristine({onlySelf:!0,emitEvent:n.emitEvent})}),this._parent&&!n.onlySelf&&this._parent._updatePristine(n,i),t&&n.emitEvent!==!1&&this._events.next(new Ja(!0,i))}markAsPending(n={}){this.status=bo;let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new Eo(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.markAsPending(he(N({},n),{sourceControl:t}))}disable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Ka,this.errors=null,this._forEachChild(r=>{r.disable(he(N({},n),{onlySelf:!0}))}),this._updateValue();let i=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new nu(this.value,i)),this._events.next(new Eo(this.status,i)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(he(N({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!0))}enable(n={}){let t=this._parentMarkedDirty(n.onlySelf);this.status=Qa,this._forEachChild(i=>{i.enable(he(N({},n),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent}),this._updateAncestors(he(N({},n),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!1))}_updateAncestors(n,t){this._parent&&!n.onlySelf&&(this._parent.updateValueAndValidity(n),n.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(n){this._parent=n}getRawValue(){return this.value}updateValueAndValidity(n={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let i=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Qa||this.status===bo)&&this._runAsyncValidator(i,n.emitEvent)}let t=n.sourceControl??this;n.emitEvent!==!1&&(this._events.next(new nu(this.value,t)),this._events.next(new Eo(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!n.onlySelf&&this._parent.updateValueAndValidity(he(N({},n),{sourceControl:t}))}_updateTreeValidity(n={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(n)),this.updateValueAndValidity({onlySelf:!0,emitEvent:n.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Ka:Qa}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(n,t){if(this.asyncValidator){this.status=bo,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1,shouldHaveEmitted:n!==!1};let i=T_(this.asyncValidator(this));this._asyncValidationSubscription=i.subscribe(r=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(r,{emitEvent:t,shouldHaveEmitted:n})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let n=(this._hasOwnPendingAsyncValidator?.emitEvent||this._hasOwnPendingAsyncValidator?.shouldHaveEmitted)??!1;return this._hasOwnPendingAsyncValidator=null,n}return!1}setErrors(n,t={}){this.errors=n,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(n){let t=n;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((i,r)=>i&&i._find(r),this)}getError(n,t){let i=t?this.get(t):this;return i&&i.errors?i.errors[n]:null}hasError(n,t){return!!this.getError(n,t)}get root(){let n=this;for(;n._parent;)n=n._parent;return n}_updateControlsErrors(n,t,i){this.status=this._calculateStatus(),n&&this.statusChanges.emit(this.status),(n||i)&&this._events.next(new Eo(this.status,t)),this._parent&&this._parent._updateControlsErrors(n,t,i)}_initObservables(){this.valueChanges=new Ae,this.statusChanges=new Ae}_calculateStatus(){return this._allControlsDisabled()?Ka:this.errors?Kc:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(bo)?bo:this._anyControlsHaveStatus(Kc)?Kc:Qa}_anyControlsHaveStatus(n){return this._anyControls(t=>t.status===n)}_anyControlsDirty(){return this._anyControls(n=>n.dirty)}_anyControlsTouched(){return this._anyControls(n=>n.touched)}_updatePristine(n,t){let i=!this._anyControlsDirty(),r=this.pristine!==i;this.pristine=i,this._parent&&!n.onlySelf&&this._parent._updatePristine(n,t),r&&this._events.next(new Ja(this.pristine,t))}_updateTouched(n={},t){this.touched=this._anyControlsTouched(),this._events.next(new Xa(this.touched,t)),this._parent&&!n.onlySelf&&this._parent._updateTouched(n,t)}_onDisabledChange=[];_registerOnCollectionChange(n){this._onCollectionChange=n}_setUpdateStrategy(n){lu(n)&&n.updateOn!=null&&(this._updateOn=n.updateOn)}_parentMarkedDirty(n){let t=this._parent&&this._parent.dirty;return!n&&!!t&&!this._parent._anyControlsDirty()}_find(n){return null}_assignValidators(n){this._rawValidators=Array.isArray(n)?n.slice():n,this._composedValidatorFn=QT(this._rawValidators)}_assignAsyncValidators(n){this._rawAsyncValidators=Array.isArray(n)?n.slice():n,this._composedAsyncValidatorFn=KT(this._rawAsyncValidators)}},pe=class extends Do{constructor(n,t,i){super(ph(t),mh(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(n,t){return this.controls[n]?this.controls[n]:(this.controls[n]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(n,t,i={}){this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}removeControl(n,t={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(n,t,i={}){this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),delete this.controls[n],t&&this.registerControl(n,t),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}contains(n){return this.controls.hasOwnProperty(n)&&this.controls[n].enabled}setValue(n,t={}){j_(this,!0,n),Object.keys(n).forEach(i=>{V_(this,!0,i),this.controls[i].setValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(Object.keys(n).forEach(i=>{let r=this.controls[i];r&&r.patchValue(n[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n={},t={}){this._forEachChild((i,r)=>{i.reset(n?n[r]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new es(this))}getRawValue(){return this._reduceChildren({},(n,t,i)=>(n[i]=t.getRawValue(),n))}_syncPendingControls(){let n=this._reduceChildren(!1,(t,i)=>i._syncPendingControls()?!0:t);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){Object.keys(this.controls).forEach(t=>{let i=this.controls[t];i&&n(i,t)})}_setUpControls(){this._forEachChild(n=>{n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(n){for(let[t,i]of Object.entries(this.controls))if(this.contains(t)&&n(i))return!0;return!1}_reduceValue(){let n={};return this._reduceChildren(n,(t,i,r)=>((i.enabled||this.disabled)&&(t[r]=i.value),t))}_reduceChildren(n,t){let i=n;return this._forEachChild((r,o)=>{i=t(i,r,o)}),i}_allControlsDisabled(){for(let n of Object.keys(this.controls))if(this.controls[n].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(n){return this.controls.hasOwnProperty(n)?this.controls[n]:null}};var uh=class extends pe{};var is=new L("",{providedIn:"root",factory:()=>cu}),cu="always";function U_(e,n){return[...n.path,e]}function iu(e,n,t=cu){hh(e,n),n.valueAccessor.writeValue(e.value),(e.disabled||t==="always")&&n.valueAccessor.setDisabledState?.(e.disabled),XT(e,n),tM(e,n),eM(e,n),JT(e,n)}function ru(e,n,t=!0){let i=()=>{};n.valueAccessor&&(n.valueAccessor.registerOnChange(i),n.valueAccessor.registerOnTouched(i)),au(e,n),e&&(n._invokeOnDestroyCallbacks(),e._registerOnCollectionChange(()=>{}))}function ou(e,n){e.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(n)})}function JT(e,n){if(n.valueAccessor.setDisabledState){let t=i=>{n.valueAccessor.setDisabledState(i)};e.registerOnDisabledChange(t),n._registerOnDestroy(()=>{e._unregisterOnDisabledChange(t)})}}function hh(e,n){let t=k_(e);n.validator!==null?e.setValidators(g_(t,n.validator)):typeof t=="function"&&e.setValidators([t]);let i=L_(e);n.asyncValidator!==null?e.setAsyncValidators(g_(i,n.asyncValidator)):typeof i=="function"&&e.setAsyncValidators([i]);let r=()=>e.updateValueAndValidity();ou(n._rawValidators,r),ou(n._rawAsyncValidators,r)}function au(e,n){let t=!1;if(e!==null){if(n.validator!==null){let r=k_(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==n.validator);o.length!==r.length&&(t=!0,e.setValidators(o))}}if(n.asyncValidator!==null){let r=L_(e);if(Array.isArray(r)&&r.length>0){let o=r.filter(a=>a!==n.asyncValidator);o.length!==r.length&&(t=!0,e.setAsyncValidators(o))}}}let i=()=>{};return ou(n._rawValidators,i),ou(n._rawAsyncValidators,i),t}function XT(e,n){n.valueAccessor.registerOnChange(t=>{e._pendingValue=t,e._pendingChange=!0,e._pendingDirty=!0,e.updateOn==="change"&&B_(e,n)})}function eM(e,n){n.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,e.updateOn==="blur"&&e._pendingChange&&B_(e,n),e.updateOn!=="submit"&&e.markAsTouched()})}function B_(e,n){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),n.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function tM(e,n){let t=(i,r)=>{n.valueAccessor.writeValue(i),r&&n.viewToModelUpdate(i)};e.registerOnChange(t),n._registerOnDestroy(()=>{e._unregisterOnChange(t)})}function nM(e,n){e==null,hh(e,n)}function iM(e,n){return au(e,n)}function gh(e,n){if(!e.hasOwnProperty("model"))return!1;let t=e.model;return t.isFirstChange()?!0:!Object.is(n,t.currentValue)}function rM(e){return Object.getPrototypeOf(e.constructor)===ts}function oM(e,n){e._syncPendingControls(),n.forEach(t=>{let i=t.control;i.updateOn==="submit"&&i._pendingChange&&(t.viewToModelUpdate(i._pendingValue),i._pendingChange=!1)})}function vh(e,n){if(!n)return null;Array.isArray(n);let t,i,r;return n.forEach(o=>{o.constructor===J?t=o:rM(o)?i=o:r=o}),r||i||t||null}function aM(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function y_(e,n){let t=e.indexOf(n);t>-1&&e.splice(t,1)}function __(e){return typeof e=="object"&&e!==null&&Object.keys(e).length===2&&"value"in e&&"disabled"in e}var R=class extends Do{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(n=null,t,i){super(ph(t),mh(i,t)),this._applyFormState(n),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),lu(t)&&(t.nonNullable||t.initialValueIsDefault)&&(__(n)?this.defaultValue=n.value:this.defaultValue=n)}setValue(n,t={}){this.value=this._pendingValue=n,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(i=>i(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(n,t={}){this.setValue(n,t)}reset(n=this.defaultValue,t={}){this._applyFormState(n),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1,t?.emitEvent!==!1&&this._events.next(new es(this))}_updateValue(){}_anyControls(n){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(n){this._onChange.push(n)}_unregisterOnChange(n){y_(this._onChange,n)}registerOnDisabledChange(n){this._onDisabledChange.push(n)}_unregisterOnDisabledChange(n){y_(this._onDisabledChange,n)}_forEachChild(n){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(n){__(n)?(this.value=this._pendingValue=n.value,n.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=n}};var sM=e=>e instanceof R;var lM={provide:di,useExisting:Et(()=>Ch)},b_=Promise.resolve(),Ch=(()=>{class e extends di{_changeDetectorRef;callSetDisabledState;control=new R;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new Ae;constructor(t,i,r,o,a,l){super(),this._changeDetectorRef=a,this.callSetDisabledState=l,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=vh(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let i=t.name.previousValue;this.formDirective.removeControl({name:i,path:this._getPath(i)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),gh(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){iu(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){b_.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let i=t.isDisabled.currentValue,r=i!==0&&lr(i);b_.then(()=>{r&&!this.control.disabled?this.control.disable():!r&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?U_(t,this._parent):[t]}static \u0275fac=function(i){return new(i||e)(Q(vr,9),Q(So,10),Q(su,10),Q(Fi,10),Q(Gn,8),Q(is,8))};static \u0275dir=Te({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[qt([lM]),yt,Dt]})}return e})();var oe=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275dir=Te({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return e})(),cM={provide:Fi,useExisting:Et(()=>at),multi:!0},at=(()=>{class e extends ts{writeValue(t){let i=t??"";this.setProperty("value",i)}registerOnChange(t){this.onChange=i=>{t(i==""?null:parseFloat(i))}}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rn(e)))(r||e)}})();static \u0275dir=Te({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(i,r){i&1&&I("input",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},standalone:!1,features:[qt([cM]),yt]})}return e})();var yh=new L(""),uM={provide:di,useExisting:Et(()=>rs)},rs=(()=>{class e extends di{_ngModelWarningConfig;callSetDisabledState;viewModel;form;set isDisabled(t){}model;update=new Ae;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,a){super(),this._ngModelWarningConfig=o,this.callSetDisabledState=a,this._setValidators(t),this._setAsyncValidators(i),this.valueAccessor=vh(this,r)}ngOnChanges(t){if(this._isControlChanged(t)){let i=t.form.previousValue;i&&ru(i,this,!1),iu(this.form,this,this.callSetDisabledState),this.form.updateValueAndValidity({emitEvent:!1})}gh(t,this.viewModel)&&(this.form.setValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.form&&ru(this.form,this,!1)}get path(){return[]}get control(){return this.form}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_isControlChanged(t){return t.hasOwnProperty("form")}static \u0275fac=function(i){return new(i||e)(Q(So,10),Q(su,10),Q(Fi,10),Q(yh,8),Q(is,8))};static \u0275dir=Te({type:e,selectors:[["","formControl",""]],inputs:{form:[0,"formControl","form"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},exportAs:["ngForm"],standalone:!1,features:[qt([uM]),yt,Dt]})}return e})(),dM={provide:vr,useExisting:Et(()=>ne)},ne=(()=>{class e extends vr{callSetDisabledState;get submitted(){return ft(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}_submitted=no(()=>this._submittedReactive());_submittedReactive=At(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new Ae;constructor(t,i,r){super(),this.callSetDisabledState=r,this._setValidators(t),this._setAsyncValidators(i)}ngOnChanges(t){t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(au(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let i=this.form.get(t.path);return iu(i,t,this.callSetDisabledState),i.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),i}getControl(t){return this.form.get(t.path)}removeControl(t){ru(t.control||null,t,!1),aM(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,i){this.form.get(t.path).setValue(i)}onSubmit(t){return this._submittedReactive.set(!0),oM(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new ch(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0,i={}){this.form.reset(t,i),this._submittedReactive.set(!1)}_updateDomValue(){this.directives.forEach(t=>{let i=t.control,r=this.form.get(t.path);i!==r&&(ru(i||null,t),sM(r)&&(iu(r,t,this.callSetDisabledState),t.control=r))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let i=this.form.get(t.path);nM(i,t),i.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let i=this.form.get(t.path);i&&iM(i,t)&&i.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){hh(this.form,this),this._oldForm&&au(this._oldForm,this)}static \u0275fac=function(i){return new(i||e)(Q(So,10),Q(su,10),Q(is,8))};static \u0275dir=Te({type:e,selectors:[["","formGroup",""]],hostBindings:function(i,r){i&1&&I("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[qt([dM]),yt,Dt]})}return e})();var fM={provide:di,useExisting:Et(()=>ie)},ie=(()=>{class e extends di{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(t){}model;update=new Ae;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(t,i,r,o,a){super(),this._ngModelWarningConfig=a,this._parent=t,this._setValidators(i),this._setAsyncValidators(r),this.valueAccessor=vh(this,o)}ngOnChanges(t){this._added||this._setUpControl(),gh(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return U_(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(i){return new(i||e)(Q(vr,13),Q(So,10),Q(su,10),Q(Fi,10),Q(yh,8))};static \u0275dir=Te({type:e,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[qt([fM]),yt,Dt]})}return e})();var pM={provide:Fi,useExisting:Et(()=>Re),multi:!0};function $_(e,n){return e==null?`${n}`:(n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function mM(e){return e.split(":")[0]}var Re=(()=>{class e extends ts{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;appRefInjector=g($n).injector;destroyRef=g(vn);cdr=g(Gn);_queuedWrite=!1;_writeValueAfterRender(){this._queuedWrite||this.appRefInjector.destroyed||(this._queuedWrite=!0,ua({write:()=>{this.destroyRef.destroyed||(this._queuedWrite=!1,this.writeValue(this.value))}},{injector:this.appRefInjector}))}writeValue(t){this.cdr.markForCheck(),this.value=t;let i=this._getOptionId(t),r=$_(i,t);this.setProperty("value",r)}registerOnChange(t){this.onChange=i=>{this.value=this._getOptionValue(i),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i),t))return i;return null}_getOptionValue(t){let i=mM(t);return this._optionMap.has(i)?this._optionMap.get(i):t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rn(e)))(r||e)}})();static \u0275dir=Te({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(i,r){i&1&&I("change",function(a){return r.onChange(a.target.value)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qt([pM]),yt]})}return e})(),ke=(()=>{class e{_element;_renderer;_select;id;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue($_(this.id,t)),this._select._writeValueAfterRender())}set value(t){this._setElementValue(t),this._select&&this._select._writeValueAfterRender()}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select._writeValueAfterRender())}static \u0275fac=function(i){return new(i||e)(Q(on),Q(En),Q(Re,9))};static \u0275dir=Te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})(),hM={provide:Fi,useExisting:Et(()=>H_),multi:!0};function E_(e,n){return e==null?`${n}`:(typeof n=="string"&&(n=`'${n}'`),n&&typeof n=="object"&&(n="Object"),`${e}: ${n}`.slice(0,50))}function gM(e){return e.split(":")[0]}var H_=(()=>{class e extends ts{value;_optionMap=new Map;_idCounter=0;set compareWith(t){this._compareWith=t}_compareWith=Object.is;writeValue(t){this.value=t;let i;if(Array.isArray(t)){let r=t.map(o=>this._getOptionId(o));i=(o,a)=>{o._setSelected(r.indexOf(a.toString())>-1)}}else i=(r,o)=>{r._setSelected(!1)};this._optionMap.forEach(i)}registerOnChange(t){this.onChange=i=>{let r=[],o=i.selectedOptions;if(o!==void 0){let a=o;for(let l=0;l<a.length;l++){let d=a[l],p=this._getOptionValue(d.value);r.push(p)}}else{let a=i.options;for(let l=0;l<a.length;l++){let d=a[l];if(d.selected){let p=this._getOptionValue(d.value);r.push(p)}}}this.value=r,t(r)}}_registerOption(t){let i=(this._idCounter++).toString();return this._optionMap.set(i,t),i}_getOptionId(t){for(let i of this._optionMap.keys())if(this._compareWith(this._optionMap.get(i)._value,t))return i;return null}_getOptionValue(t){let i=gM(t);return this._optionMap.has(i)?this._optionMap.get(i)._value:t}static \u0275fac=(()=>{let t;return function(r){return(t||(t=rn(e)))(r||e)}})();static \u0275dir=Te({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(i,r){i&1&&I("change",function(a){return r.onChange(a.target)})("blur",function(){return r.onTouched()})},inputs:{compareWith:"compareWith"},standalone:!1,features:[qt([hM]),yt]})}return e})(),Le=(()=>{class e{_element;_renderer;_select;id;_value;constructor(t,i,r){this._element=t,this._renderer=i,this._select=r,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(E_(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(E_(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static \u0275fac=function(i){return new(i||e)(Q(on),Q(En),Q(H_,9))};static \u0275dir=Te({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"},standalone:!1})}return e})();function vM(e){return typeof e=="number"?e:parseInt(e,10)}function CM(e){return typeof e=="number"?e:parseFloat(e)}var G_=(()=>{class e{_validator=Jc;_onChange;_enabled;ngOnChanges(t){if(this.inputName in t){let i=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(i),this._validator=this._enabled?this.createValidator(i):Jc,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static \u0275fac=function(i){return new(i||e)};static \u0275dir=Te({type:e,features:[Dt]})}return e})();var yM={provide:So,useExisting:Et(()=>st),multi:!0},st=(()=>{class e extends G_{min;inputName="min";normalizeInput=t=>CM(t);createValidator=t=>x_(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=rn(e)))(r||e)}})();static \u0275dir=Te({type:e,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&sr("min",r._enabled?r.min:null)},inputs:{min:"min"},standalone:!1,features:[qt([yM]),yt]})}return e})();var _M={provide:So,useExisting:Et(()=>os),multi:!0},os=(()=>{class e extends G_{maxlength;inputName="maxlength";normalizeInput=t=>vM(t);createValidator=t=>I_(t);static \u0275fac=(()=>{let t;return function(r){return(t||(t=rn(e)))(r||e)}})();static \u0275dir=Te({type:e,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(i,r){i&2&&sr("maxlength",r._enabled?r.maxlength:null)},inputs:{maxlength:"maxlength"},standalone:!1,features:[qt([_M]),yt]})}return e})();var z_=(()=>{class e{static \u0275fac=function(i){return new(i||e)};static \u0275mod=sn({type:e});static \u0275inj=$t({})}return e})(),Cr=class extends Do{constructor(n,t,i){super(ph(t),mh(i,t)),this.controls=n,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(n){return this.controls[this._adjustIndex(n)]}push(n,t={}){Array.isArray(n)?n.forEach(i=>{this.controls.push(i),this._registerControl(i)}):(this.controls.push(n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(n,t,i={}){this.controls.splice(n,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:i.emitEvent})}removeAt(n,t={}){let i=this._adjustIndex(n);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(n,t,i={}){let r=this._adjustIndex(n);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),t&&(this.controls.splice(r,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:i.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(n,t={}){j_(this,!1,n),n.forEach((i,r)=>{V_(this,!1,r),this.at(r).setValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(n,t={}){n!=null&&(n.forEach((i,r)=>{this.at(r)&&this.at(r).patchValue(i,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(n=[],t={}){this._forEachChild((i,r)=>{i.reset(n[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t),t?.emitEvent!==!1&&this._events.next(new es(this))}getRawValue(){return this.controls.map(n=>n.getRawValue())}clear(n={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:n.emitEvent}))}_adjustIndex(n){return n<0?n+this.length:n}_syncPendingControls(){let n=this.controls.reduce((t,i)=>i._syncPendingControls()?!0:t,!1);return n&&this.updateValueAndValidity({onlySelf:!0}),n}_forEachChild(n){this.controls.forEach((t,i)=>{n(t,i)})}_updateValue(){this.value=this.controls.filter(n=>n.enabled||this.disabled).map(n=>n.value)}_anyControls(n){return this.controls.some(t=>t.enabled&&n(t))}_setUpControls(){this._forEachChild(n=>this._registerControl(n))}_allControlsDisabled(){for(let n of this.controls)if(n.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(n){n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange)}_find(n){return this.at(n)??null}};function D_(e){return!!e&&(e.asyncValidators!==void 0||e.validators!==void 0||e.updateOn!==void 0)}var Oi=(()=>{class e{useNonNullable=!1;get nonNullable(){let t=new e;return t.useNonNullable=!0,t}group(t,i=null){let r=this._reduceControls(t),o={};return D_(i)?o=i:i!==null&&(o.validators=i.validator,o.asyncValidators=i.asyncValidator),new pe(r,o)}record(t,i=null){let r=this._reduceControls(t);return new uh(r,i)}control(t,i,r){let o={};return this.useNonNullable?(D_(i)?o=i:(o.validators=i,o.asyncValidators=r),new R(t,he(N({},o),{nonNullable:!0}))):new R(t,i,r)}array(t,i,r){let o=t.map(a=>this._createControl(a));return new Cr(o,i,r)}_reduceControls(t){let i={};return Object.keys(t).forEach(r=>{i[r]=this._createControl(t[r])}),i}_createControl(t){if(t instanceof R)return t;if(t instanceof Do)return t;if(Array.isArray(t)){let i=t[0],r=t.length>1?t[1]:null,o=t.length>2?t[2]:null;return this.control(i,r,o)}else return this.control(t)}static \u0275fac=function(i){return new(i||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var q_=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:is,useValue:t.callSetDisabledState??cu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=sn({type:e});static \u0275inj=$t({imports:[z_]})}return e})(),ae=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:yh,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:is,useValue:t.callSetDisabledState??cu}]}}static \u0275fac=function(i){return new(i||e)};static \u0275mod=sn({type:e});static \u0275inj=$t({imports:[z_]})}return e})();var Ie=class e{getHeaders(n){let t=sessionStorage.getItem("token"),i=t?JSON.parse(t).token:null,r=n||new qn;return i&&(r=r.set("Authorization",`Bearer ${i}`)),r}getUsuarioActual(){let n=sessionStorage.getItem("token");return n?JSON.parse(n).usuario:null}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var uu=class e{http=g(xe);jwtService=g(Ie);URL="http://localhost:8080/manejador-cines-api/api/v1/auth";iniciarSesion(n){let t=this.jwtService.getHeaders();return this.http.post(this.URL,n,{headers:t})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};function bM(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function EM(e,n){e&1&&(c(0,"div",8),u(1," Ingrese un correo v\xE1lido "),s())}function DM(e,n){e&1&&(c(0,"div",8),u(1," Ingrese una contrase\xF1a v\xE1lida "),s())}var du=class e{authService=g(uu);router=g(H);errorMsg=null;iniciarSesionForm=new pe({correo:new R("",[w.required,w.email,w.max(350)]),clave:new R("",[w.required])});credenciales;submit(){this.credenciales=this.iniciarSesionForm.value,this.authService.iniciarSesion(this.credenciales).subscribe({next:n=>{sessionStorage.setItem("token",JSON.stringify(n)),this.router.navigate(["/home"])},error:n=>{this.errorMsg=n.error}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-iniciar-sesion"]],decls:19,vars:5,consts:[["role","alert",1,"alert","alert-danger","text-center"],[1,"d-flex","justify-content-center","align-items-center","vh-100","bg-light"],[1,"card","p-4","shadow",2,"min-width","320px","max-width","400px","width","100%"],[1,"card-title","text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","id","email","placeholder","correo@ejemplo.com","formControlName","correo",1,"form-control"],[1,"text-danger","small","mt-1"],["for","password",1,"form-label"],["type","password","id","password","placeholder","Contrase\xF1a","formControlName","clave",1,"form-control"],[1,"d-grid"],["type","submit",1,"btn","btn-primary",3,"disabled"]],template:function(t,i){t&1&&(v(0,bM,2,1,"div",0),c(1,"div",1)(2,"div",2)(3,"h2",3),u(4,"Iniciar Sesi\xF3n"),s(),c(5,"form",4),I("ngSubmit",function(){return i.submit()}),c(6,"div",5)(7,"label",6),u(8,"Correo electr\xF3nico"),s(),m(9,"input",7),v(10,EM,2,0,"div",8),s(),c(11,"div",5)(12,"label",9),u(13,"Contrase\xF1a"),s(),m(14,"input",10),v(15,DM,2,0,"div",8),s(),c(16,"div",11)(17,"button",12),u(18,"Iniciar sesi\xF3n"),s()()()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(5),D("formGroup",i.iniciarSesionForm),f(5),C(i.iniciarSesionForm.controls.correo.invalid&&i.iniciarSesionForm.controls.correo.dirty?10:-1),f(5),C(i.iniciarSesionForm.controls.clave.invalid&&i.iniciarSesionForm.controls.clave.dirty?15:-1),f(2),D("disabled",!i.iniciarSesionForm.valid))},dependencies:[ae,oe,J,ee,re,ne,ie],encapsulation:2})};var xt=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/peliculas";crearPelicula(n){return this.http.post(this.URL,n)}verPeliculas(n){let t=new Tn;return n?.id&&(t=t.set("id",n.id)),n?.titulo&&(t=t.set("titulo",n.titulo)),n?.idCategoria&&(t=t.set("idCategoria",n.idCategoria)),this.http.get(this.URL,{params:t})}verPelicula(n){return this.http.get(`${this.URL}/${n}`)}editarPelicula(n){return this.http.put(this.URL,n)}eliminarPelicula(n){return this.http.delete(`${this.URL}/${n}`)}calificarPelicula(n,t){return this.http.post(`${this.URL}/calificacion/${n}`,t)}verClasificaciones(){return this.http.get(`${this.URL}/clasificaciones`)}verCategorias(){return this.http.get(`${this.URL}/categorias`)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var He=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/imagenes";obtenerImagen(n){return this.http.get(`${this.URL}/${n}`,{responseType:"blob"})}subirImagen(n){let t=new FormData;return t.append("file",n,n.name),this.http.post(this.URL,t)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var _h=(e,n)=>n.id;function SM(e,n){if(e&1&&(c(0,"option",15),u(1),s()),e&2){let t=n.$implicit;D("value",t.id),f(),E(" ",t.nombre," ")}}function xM(e,n){if(e&1){let t=V();c(0,"div",20),m(1,"i",23),u(2),c(3,"button",24),I("click",function(){P(t);let r=y();return k(r.errorMsg=null)}),s()()}if(e&2){let t=y();f(2),E(" ",t.errorMsg," ")}}function IM(e,n){e&1&&(c(0,"div",21)(1,"div",25)(2,"span",26),u(3,"Cargando..."),s()(),c(4,"p",27),u(5,"Cargando pel\xEDculas..."),s()())}function wM(e,n){if(e&1&&m(0,"img",30),e&2){let t=y().$implicit,i=y(2);D("src",i.obtenerUrlImagen(t.imagen.id),Xe)("alt",t.titulo)}}function TM(e,n){e&1&&(c(0,"div",31),m(1,"i",41),s())}function MM(e,n){if(e&1&&(c(0,"span",42),u(1),s()),e&2){let t=n.$implicit;f(),E(" ",t.nombre," ")}}function AM(e,n){if(e&1&&(c(0,"div",36),G(1,MM,2,1,"span",42,_h),s()),e&2){let t=y().$implicit;f(),z(t.categorias)}}function NM(e,n){e&1&&(c(0,"small",37),u(1,"Sin categor\xEDas"),s())}function RM(e,n){if(e&1){let t=V();c(0,"div",28)(1,"div",29),I("click",function(){let r=P(t).$implicit,o=y(2);return k(o.verDetalle(r.id))}),v(2,wM,1,2,"img",30)(3,TM,2,0,"div",31),c(4,"div",32)(5,"h5",33),u(6),s(),c(7,"p",34)(8,"span",35),u(9),s()(),c(10,"div",34),v(11,AM,3,0,"div",36)(12,NM,2,0,"small",37),s(),c(13,"div",38)(14,"button",39),m(15,"i",40),u(16," Ver "),s()()()()()}if(e&2){let t=n.$implicit,i=y(2);f(2),C(i.obtenerUrlImagen(t.imagen.id)?2:3),f(3),D("title",t.titulo),f(),E(" ",t.titulo," "),f(3),E(" ",t.clasificacion.codigo," "),f(2),C(t.categorias&&t.categorias.length>0?11:12)}}function FM(e,n){if(e&1&&(c(0,"div",22),G(1,RM,17,5,"div",28,_h),s()),e&2){let t=y();f(),z(t.peliculas)}}function OM(e,n){if(e&1){let t=V();c(0,"div",21),m(1,"i",43),c(2,"p",44),u(3,"No se encontraron pel\xEDculas"),s(),c(4,"button",45),I("click",function(){P(t);let r=y();return k(r.limpiarFiltros())}),m(5,"i",46),u(6," Ver todas las pel\xEDculas "),s()()}}var fu=class e{peliculaService=g(xt);imagenService=g(He);router=g(H);peliculas=[];categorias=[];imagenesUrl=new Map;errorMsg=null;cargando=!0;filtrosForm=new pe({titulo:new R(""),idCategoria:new R("")});ngOnInit(){this.cargarCategorias(),this.cargarPeliculas()}cargarCategorias(){this.peliculaService.verCategorias().subscribe({next:n=>{this.categorias=n},error:n=>{console.error("Error al cargar categor\xEDas:",n)}})}cargarPeliculas(){this.cargando=!0,this.imagenesUrl.clear(),this.peliculas=[];let n={},t=this.filtrosForm.value.titulo?.trim(),i=this.filtrosForm.value.idCategoria;t&&(n.titulo=t),i&&(n.idCategoria=i),this.peliculaService.verPeliculas(n).subscribe({next:r=>{this.peliculas=r,this.errorMsg=null,this.cargarImagenes()},error:r=>{this.peliculas=[],this.errorMsg=r.error||"Error al cargar las pel\xEDculas",this.cargando=!1}})}buscar(){this.cargarPeliculas()}limpiarFiltros(){this.filtrosForm.reset(),this.cargarPeliculas()}cargarImagenes(){if(this.peliculas.length===0){this.cargando=!1;return}let n=this.peliculas.map(t=>this.imagenService.obtenerImagen(t.imagen.id).toPromise().then(i=>{if(i){let r=URL.createObjectURL(i);this.imagenesUrl.set(t.imagen.id,r)}}).catch(i=>{console.error(`Error al cargar imagen ${t.imagen.id}:`,i)}));Promise.all(n).then(()=>{this.cargando=!1})}obtenerUrlImagen(n){return this.imagenesUrl.get(n)}verDetalle(n){this.router.navigate(["/ver-pelicula",n])}ngOnDestroy(){this.imagenesUrl.forEach(n=>URL.revokeObjectURL(n))}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-home"]],decls:33,vars:5,consts:[[1,"container","mt-4"],[1,"row","mb-4"],[1,"col-12"],[1,"card","shadow-sm"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-6"],["for","titulo",1,"form-label"],[1,"bi","bi-search"],["type","text","id","titulo","formControlName","titulo","placeholder","Ej: Matrix, Avengers, etc.",1,"form-control"],["for","categoria",1,"form-label"],[1,"bi","bi-tag"],["id","categoria","formControlName","idCategoria",1,"form-select"],["value",""],[3,"value"],[1,"d-flex","gap-2","justify-content-end"],["type","button",1,"btn","btn-outline-secondary",3,"click"],[1,"bi","bi-x-circle"],["type","submit",1,"btn","btn-primary"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"text-center","my-5"],[1,"row","row-cols-1","row-cols-md-2","row-cols-lg-3","row-cols-xl-4","g-4"],[1,"bi","bi-exclamation-triangle"],["type","button",1,"btn-close",3,"click"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[1,"col"],[1,"card","h-100","shadow-sm","pelicula-card",3,"click"],[1,"card-img-top","pelicula-imagen",2,"height","400px","object-fit","cover","cursor","pointer",3,"src","alt"],[1,"card-img-top","d-flex","align-items-center","justify-content-center","bg-secondary",2,"height","400px"],[1,"card-body","d-flex","flex-column"],[1,"card-title","text-truncate",3,"title"],[1,"mb-2"],[1,"badge","bg-warning","text-dark"],[1,"d-flex","flex-wrap","gap-1"],[1,"text-muted"],[1,"mt-auto"],[1,"btn","btn-outline-primary","w-100"],[1,"bi","bi-eye"],[1,"bi","bi-image","text-white",2,"font-size","3rem"],[1,"badge","bg-primary"],[1,"bi","bi-film",2,"font-size","4rem","color","#ccc"],[1,"mt-3","text-muted"],[1,"btn","btn-outline-primary","mt-3",3,"click"],[1,"bi","bi-arrow-clockwise"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),I("ngSubmit",function(){return i.buscar()}),c(6,"div",6)(7,"div",7)(8,"label",8),m(9,"i",9),u(10," Buscar por t\xEDtulo "),s(),m(11,"input",10),s(),c(12,"div",7)(13,"label",11),m(14,"i",12),u(15," Filtrar por categor\xEDa "),s(),c(16,"select",13)(17,"option",14),u(18,"Todas las categor\xEDas"),s(),G(19,SM,2,2,"option",15,_h),s()(),c(21,"div",2)(22,"div",16)(23,"button",17),I("click",function(){return i.limpiarFiltros()}),m(24,"i",18),u(25," Limpiar filtros "),s(),c(26,"button",19),m(27,"i",9),u(28," Buscar "),s()()()()()()()()(),v(29,xM,4,1,"div",20),v(30,IM,6,0,"div",21),v(31,FM,3,0,"div",22),v(32,OM,7,0,"div",21),s()),t&2&&(f(5),D("formGroup",i.filtrosForm),f(14),z(i.categorias),f(10),C(i.errorMsg?29:-1),f(),C(i.cargando?30:-1),f(),C(!i.cargando&&!i.errorMsg&&i.peliculas.length>0?31:-1),f(),C(!i.cargando&&!i.errorMsg&&i.peliculas.length===0?32:-1))},dependencies:[Y,ae,oe,ke,Le,J,Re,ee,re,ne,ie],encapsulation:2})};var Ut=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/usuarios";crearUsuario(n){return this.http.post(this.URL,n)}obtenerUsuario(n){return this.http.get(this.URL+"/"+n)}obtenerUsuarios(){return this.http.get(this.URL)}editarUsuario(n){return this.http.put(this.URL,n)}editarImagen(n){return this.http.patch(this.URL,n)}desactivarCuenta(n){return this.http.delete(this.URL+"/"+n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};function PM(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function kM(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function LM(e,n){e&1&&(c(0,"div",9),u(1," El nombre es obligatorio "),s())}function VM(e,n){e&1&&(c(0,"option",21),u(1,"Administrador del Sistema"),s(),c(2,"option",22),u(3,"Administrador de Cines"),s())}function jM(e,n){e&1&&(c(0,"div",9),u(1," Debe seleccionar un rol v\xE1lido "),s())}function UM(e,n){e&1&&(c(0,"div",9),u(1," Ingrese un correo v\xE1lido "),s())}function BM(e,n){e&1&&(c(0,"div",9),u(1," Ingrese una clave v\xE1lida "),s())}var pu=class e{usuarioService=g(Ut);jwtService=g(Ie);router=g(H);errorMsg=null;infoMsg=null;usuarioActualAdmin=!1;registrarUsuarioForm=new pe({nombre:new R("",[w.required,w.maxLength(200)]),rol:new R("",[w.required]),correo:new R("",[w.required,w.email,w.maxLength(350)]),clave:new R("",[w.required])});usuarioEntrada;ngOnInit(){let n=this.jwtService.getUsuarioActual();n&&n.rol=="ADMINISTRADOR_SISTEMA"&&(this.usuarioActualAdmin=!0)}submit(){if(this.registrarUsuarioForm.invalid){this.registrarUsuarioForm.markAllAsTouched();return}this.usuarioEntrada=this.registrarUsuarioForm.value,this.usuarioService.crearUsuario(this.usuarioEntrada).subscribe({next:()=>{this.errorMsg=null,this.infoMsg="Usuario creado",this.registrarUsuarioForm.reset()},error:n=>{this.errorMsg=n.error??"Error al registrar el usuario."}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-registro"]],decls:37,vars:9,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"d-flex","justify-content-center","align-items-center","vh-100","bg-light"],[1,"card","p-4","shadow",2,"min-width","320px","max-width","420px","width","100%"],[1,"card-title","text-center","mb-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Nombre completo","formControlName","nombre",1,"form-control"],[1,"text-danger","small","mt-1"],["for","rol",1,"form-label"],["id","rol","formControlName","rol",1,"form-select"],["value",""],["value","CLIENTE"],["value","ANUNCIANTE"],["for","correo",1,"form-label"],["type","email","id","correo","placeholder","correo@ejemplo.com","formControlName","correo",1,"form-control"],["for","clave",1,"form-label"],["type","password","id","clave","formControlName","clave",1,"form-control"],[1,"d-grid"],["type","submit",1,"btn","btn-success",3,"disabled"],["value","ADMINISTRADOR_SISTEMA"],["value","ADMINISTRADOR_CINES"]],template:function(t,i){t&1&&(v(0,PM,2,1,"div",0),v(1,kM,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"h2",4),u(5,"Registrar Usuario"),s(),c(6,"form",5),I("ngSubmit",function(){return i.submit()}),c(7,"div",6)(8,"label",7),u(9,"Nombre"),s(),m(10,"input",8),v(11,LM,2,0,"div",9),s(),c(12,"div",6)(13,"label",10),u(14,"Rol"),s(),c(15,"select",11)(16,"option",12),u(17,"Seleccione un rol"),s(),c(18,"option",13),u(19,"Cliente"),s(),c(20,"option",14),u(21,"Anunciante"),s(),v(22,VM,4,0),s(),v(23,jM,2,0,"div",9),s(),c(24,"div",6)(25,"label",15),u(26,"Correo electr\xF3nico"),s(),m(27,"input",16),v(28,UM,2,0,"div",9),s(),c(29,"div",6)(30,"label",17),u(31,"Contrase\xF1a"),s(),m(32,"input",18),v(33,BM,2,0,"div",9),s(),c(34,"div",19)(35,"button",20),u(36," Registrar "),s()()()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(5),D("formGroup",i.registrarUsuarioForm),f(5),C(i.registrarUsuarioForm.controls.nombre.invalid&&i.registrarUsuarioForm.controls.nombre.dirty?11:-1),f(11),C(i.usuarioActualAdmin?22:-1),f(),C(i.registrarUsuarioForm.controls.rol.invalid&&i.registrarUsuarioForm.controls.rol.dirty?23:-1),f(5),C(i.registrarUsuarioForm.controls.correo.invalid&&i.registrarUsuarioForm.controls.correo.dirty?28:-1),f(5),C(i.registrarUsuarioForm.controls.clave.invalid&&i.registrarUsuarioForm.controls.clave.dirty?33:-1),f(2),D("disabled",!i.registrarUsuarioForm.valid))},dependencies:[ae,oe,ke,Le,J,Re,ee,re,ne,ie],encapsulation:2})};function $M(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function HM(e,n){e&1&&(c(0,"div",17)(1,"button",28),m(2,"i",29),s(),c(3,"button",30),m(4,"i",31),s()())}function GM(e,n){if(e&1){let t=V();c(0,"div",5)(1,"div",7)(2,"div",8),m(3,"img",9),s(),c(4,"div")(5,"h3",10),u(6),s(),c(7,"p",11),u(8),c(9,"span",12),u(10,"|"),s(),c(11,"span",13),u(12),s()()(),c(13,"div",14)(14,"div")(15,"p",15),u(16),s(),c(17,"p",16),u(18,"ID Usuario"),s()(),c(19,"div")(20,"p",15),u(21),s(),c(22,"p",16),u(23,"Activo"),s()()(),v(24,HM,5,0,"div",17),c(25,"div",18)(26,"div",19)(27,"div",20)(28,"div",21)(29,"h5",22),u(30,"Desactivar Cuenta"),s(),m(31,"button",23),s(),c(32,"div",24),u(33," \xBFEst\xE1s seguro de que deseas desactivar tu cuenta? "),s(),c(34,"div",25)(35,"button",26),u(36," Cancelar "),s(),c(37,"button",27),I("click",function(){P(t);let r=y();return k(r.desactivarCuenta())}),u(38," Aceptar "),s()()()()()()()}if(e&2){let t=y();f(3),D("src",t.imagenUrl,Xe),f(3),K(t.usuario.nombre),f(2),E(" ",t.usuario.correo," "),f(4),K(t.usuario.rol),f(4),K(t.usuario.id),f(5),K(t.usuario.activado?"S\xED":"No"),f(3),C(t.usuarioActual&&t.usuarioActual.id===t.usuario.id?24:-1)}}function zM(e,n){e&1&&(c(0,"div",6),m(1,"div",32),c(2,"p",33),u(3,"Cargando perfil..."),s()())}var mu=class e{usuarioService=g(Ut);jwtService=g(Ie);imagenService=g(He);route=g(fe);router=g(H);usuario=null;usuarioActual=null;imagenUrl="";errorMsg=null;ngOnInit(){this.usuarioActual=this.jwtService.getUsuarioActual(),this.route.paramMap.subscribe(n=>{let t=n.get("id");if(!t){this.errorMsg="No se proporcion\xF3 un ID de usuario.",this.usuario=null;return}let i=Number(t);this.cargarUsuario(i)})}cargarUsuario(n){this.errorMsg=null,this.usuario=null,this.imagenUrl=null,this.usuarioService.obtenerUsuario(n).subscribe({next:t=>{this.usuario=t,this.usuario.imagen?.id&&this.imagenService.obtenerImagen(this.usuario.imagen.id).subscribe({next:i=>{this.imagenUrl=URL.createObjectURL(i)},error:i=>{console.error("No se pudo cargar la imagen",i),this.imagenUrl=null}})},error:t=>{this.errorMsg=t.error??"Error al buscar el usuario."}})}desactivarCuenta(){this.usuario&&this.usuarioService.desactivarCuenta(this.usuario.id).subscribe({next:()=>{sessionStorage.removeItem("token"),this.usuario=null,this.router.navigate(["/"])},error:n=>{console.error("No se pudo eliminar la cuenta",n),this.errorMsg=n.error??"Error al buscar el usuario."}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-perfil"]],decls:7,vars:2,consts:[["role","alert",1,"alert","alert-danger","text-center"],[1,"vh-100","bg-dark","text-light"],[1,"container","py-5","h-100"],[1,"row","d-flex","justify-content-center","align-items-center","h-100"],[1,"col-md-8","col-lg-6","col-xl-5"],[1,"card","bg-secondary","text-center","shadow-lg",2,"border-radius","20px","min-height","550px"],[1,"text-center"],[1,"card-body","position-relative","d-flex","flex-column","align-items-center","justify-content-between"],[1,"mt-4","mb-3"],["alt","Foto de perfil",1,"rounded-circle","img-fluid","border","border-4","border-light","shadow",2,"width","150px","height","150px","object-fit","cover",3,"src"],[1,"mb-2","text-white"],[1,"text-light","mb-4"],[1,"mx-2"],[1,"badge","bg-info","text-dark","fs-6"],[1,"d-flex","justify-content-around","text-center","w-100","px-5","mt-4","mb-4"],[1,"mb-2","h5","text-white"],[1,"text-light","mb-0"],[1,"position-absolute","bottom-0","end-0","m-3","d-flex","gap-2"],["id","modalDesactivarCuenta","tabindex","-1","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","data-bs-dismiss","modal",1,"btn","btn-danger",3,"click"],["routerLink","/editar-usuario","title","Editar perfil",1,"btn","btn-outline-light","btn-sm","rounded-circle"],[1,"bi","bi-pencil"],["title","Desactivar cuenta","data-bs-toggle","modal","data-bs-target","#modalDesactivarCuenta",1,"btn","btn-outline-danger","btn-sm","rounded-circle"],[1,"bi","bi-trash"],["role","status",1,"spinner-border","text-light"],[1,"mt-3"]],template:function(t,i){t&1&&(v(0,$M,2,1,"div",0),c(1,"section",1)(2,"div",2)(3,"div",3)(4,"div",4),v(5,GM,39,7,"div",5)(6,zM,4,0,"div",6),s()()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(5),C(i.usuario?5:6))},dependencies:[$e],encapsulation:2})};var qM=e=>["/perfil",e],WM=(e,n)=>n.id;function ZM(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function YM(e,n){e&1&&(c(0,"span",8),u(1,"S\xED"),s())}function QM(e,n){e&1&&(c(0,"span",9),u(1,"No"),s())}function KM(e,n){if(e&1&&(c(0,"tr")(1,"td")(2,"a",7),u(3),s()(),c(4,"td"),u(5),s(),c(6,"td"),u(7),s(),c(8,"td"),u(9),s(),c(10,"td"),v(11,YM,2,0,"span",8)(12,QM,2,0,"span",9),s()()),e&2){let t=n.$implicit;f(2),D("routerLink",Ue(6,qM,t.id)),f(),E(" ",t.id," "),f(2),K(t.nombre),f(2),K(t.correo),f(2),K(t.rol),f(2),C(t.activado?11:12)}}function JM(e,n){if(e&1&&(c(0,"div",3)(1,"table",5)(2,"thead",6)(3,"tr")(4,"th"),u(5,"ID"),s(),c(6,"th"),u(7,"Nombre"),s(),c(8,"th"),u(9,"Correo"),s(),c(10,"th"),u(11,"Rol"),s(),c(12,"th"),u(13,"Activado"),s()()(),c(14,"tbody"),G(15,KM,13,8,"tr",null,WM),s()()()),e&2){let t=y();f(15),z(t.usuarios)}}function XM(e,n){e&1&&(c(0,"div",4),u(1," No hay usuarios registrados. "),s())}var hu=class e{usuarioService=g(Ut);usuarios=null;errorMsg=null;ngOnInit(){this.usuarioService.obtenerUsuarios().subscribe({next:n=>{this.usuarios=n},error:n=>{this.errorMsg=n.error??"Error al buscar los usuarios."}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-usuarios"]],decls:6,vars:2,consts:[["role","alert",1,"alert","alert-danger","text-center"],[1,"container","mt-4"],[1,"text-center","mb-4"],[1,"table-responsive"],[1,"text-center","text-muted","mt-4"],[1,"table","table-striped","table-bordered","align-middle","text-center"],[1,"table-dark"],[1,"text-decoration-none","fw-bold",3,"routerLink"],[1,"badge","bg-success"],[1,"badge","bg-danger"]],template:function(t,i){t&1&&(v(0,ZM,2,1,"div",0),c(1,"div",1)(2,"h2",2),u(3,"Lista de Usuarios"),s(),v(4,JM,17,0,"div",3)(5,XM,2,0,"div",4),s()),t&2&&(C(i.errorMsg!=null?0:-1),f(4),C(i.usuarios&&i.usuarios.length>0?4:5))},dependencies:[$e],encapsulation:2})};function eA(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function tA(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function nA(e,n){if(e&1&&(c(0,"div",8),m(1,"img",21),s()),e&2){let t=y();f(),D("src",t.imagenActual,Xe)}}function iA(e,n){e&1&&(c(0,"div",15),u(1," El nombre es obligatorio "),s())}function rA(e,n){e&1&&(c(0,"div",15),u(1," Ingrese un correo v\xE1lido "),s())}var gu=class e{usuarioService=g(Ut);jwtService=g(Ie);router=g(H);imagenService=g(He);errorMsg=null;infoMsg=null;usuarioActual=null;imagenSeleccionada=null;imagenActual=null;editarUsuarioForm=new pe({id:new R(""),nombre:new R("",[w.required,w.maxLength(200)]),correo:new R("",[w.required,w.email,w.maxLength(350)]),clave:new R("")});ngOnInit(){let n=this.jwtService.getUsuarioActual().id;this.usuarioService.obtenerUsuario(n).subscribe({next:t=>{this.usuarioActual=t,this.editarUsuarioForm.patchValue(t)},error:t=>{this.errorMsg=t.error??"Error al obtener el usuario."}})}submit(){if(this.editarUsuarioForm.invalid){this.editarUsuarioForm.markAllAsTouched();return}let n=this.editarUsuarioForm.value;this.usuarioService.editarUsuario(n).subscribe({next:()=>{this.errorMsg=null,this.router.navigate(["/perfil/"+this.usuarioActual?.id])},error:t=>{this.errorMsg=t.error??"Error al editar el usuario."}})}onImagenSeleccionada(n){let t=n.target;if(t.files&&t.files.length>0){this.imagenSeleccionada=t.files[0];let i=new FileReader;i.onload=()=>{this.imagenActual=i.result},i.readAsDataURL(this.imagenSeleccionada)}}actualizarImagen(){this.imagenSeleccionada&&this.imagenService.subirImagen(this.imagenSeleccionada).subscribe({next:n=>{console.log(n),this.usuarioService.editarImagen(n).subscribe({next:()=>{this.router.navigate(["perfil/"+this.usuarioActual?.id])},error:t=>{this.errorMsg=t.error??"Error al subir la imagen."}})},error:n=>{this.errorMsg=n.error??"Error al subir la imagen."}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-editar-usuario"]],decls:32,vars:8,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"d-flex","justify-content-center","align-items-center","vh-100","bg-light"],[1,"card","p-4","shadow",2,"min-width","320px","max-width","420px","width","100%"],[1,"card-title","text-center","mb-4"],[1,"mb-3","text-center"],["for","imagen",1,"form-label","fw-bold"],["type","file","id","imagen","accept","image/png, image/jpeg, image/gif",1,"form-control",3,"change"],[1,"text-center","mb-3"],[1,"d-grid"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["type","text","id","nombre","placeholder","Nombre completo","formControlName","nombre",1,"form-control"],[1,"text-danger","small","mt-1"],["for","correo",1,"form-label"],["type","email","id","correo","placeholder","correo@ejemplo.com","formControlName","correo",1,"form-control"],["for","clave",1,"form-label"],["type","password","id","clave","formControlName","clave",1,"form-control"],["type","submit",1,"btn","btn-success",3,"disabled"],["alt","Vista previa",1,"rounded-circle","border","border-2",2,"width","120px","height","120px","object-fit","cover",3,"src"]],template:function(t,i){t&1&&(v(0,eA,2,1,"div",0),v(1,tA,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"h2",4),u(5,"Editar perfil"),s(),c(6,"div",5)(7,"label",6),u(8,"Selecciona una imagen"),s(),c(9,"input",7),I("change",function(o){return i.onImagenSeleccionada(o)}),s()(),v(10,nA,2,1,"div",8),c(11,"div",9)(12,"button",10),I("click",function(){return i.actualizarImagen()}),u(13," Actualizar Imagen "),s()(),c(14,"form",11),I("ngSubmit",function(){return i.submit()}),c(15,"div",12)(16,"label",13),u(17,"Nombre"),s(),m(18,"input",14),v(19,iA,2,0,"div",15),s(),c(20,"div",12)(21,"label",16),u(22,"Correo electr\xF3nico"),s(),m(23,"input",17),v(24,rA,2,0,"div",15),s(),c(25,"div",12)(26,"label",18),u(27,"Contrase\xF1a"),s(),m(28,"input",19),s(),c(29,"div",9)(30,"button",20),u(31," Editar "),s()()()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(9),C(i.imagenActual?10:-1),f(2),D("disabled",!i.imagenSeleccionada),f(2),D("formGroup",i.editarUsuarioForm),f(5),C(i.editarUsuarioForm.controls.nombre.invalid&&i.editarUsuarioForm.controls.nombre.dirty?19:-1),f(5),C(i.editarUsuarioForm.controls.correo.invalid&&i.editarUsuarioForm.controls.correo.dirty?24:-1),f(6),D("disabled",!i.editarUsuarioForm.valid))},dependencies:[ae,oe,J,ee,re,ne,ie],encapsulation:2})};var vu=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/cartera";editarCartera(n){return this.http.put(this.URL,n)}obtenerCartera(){return this.http.get(this.URL)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};function oA(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function aA(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function sA(e,n){if(e&1&&(c(0,"h2",25),u(1),s(),c(2,"p",10),u(3,"Saldo disponible"),s()),e&2){let t=y();f(),E(" Q",t.cartera.saldo," ")}}function lA(e,n){e&1&&(c(0,"p",10),u(1,"Cargando saldo..."),s())}function cA(e,n){e&1&&u(0," El monto es obligatorio ")}function uA(e,n){e&1&&u(0," El monto debe ser mayor a 0 ")}function dA(e,n){e&1&&u(0," M\xE1ximo de dos decimales ")}function fA(e,n){if(e&1&&(c(0,"div",21),v(1,cA,1,0),v(2,uA,1,0),v(3,dA,1,0),s()),e&2){let t=y();f(),C(t.carteraForm.controls.monto.errors!=null&&t.carteraForm.controls.monto.errors.required?1:-1),f(),C(t.carteraForm.controls.monto.errors!=null&&t.carteraForm.controls.monto.errors.min?2:-1),f(),C(t.carteraForm.controls.monto.errors!=null&&t.carteraForm.controls.monto.errors.pattern?3:-1)}}var Cu=class e{carteraService=g(vu);cartera=null;errorMsg=null;infoMsg=null;carteraForm=new pe({monto:new R("",[w.required,w.min(.01),w.pattern(/^\d+(\.\d{1,2})?$/)])});ngOnInit(){this.cargarCartera()}cargarCartera(){this.carteraService.obtenerCartera().subscribe({next:n=>{this.cartera=n},error:n=>{console.error("Error al cargar la cartera:",n)}})}agregarSaldo(){if(this.carteraForm.invalid){this.carteraForm.markAllAsTouched();return}let n=this.carteraForm.value.monto;this.cartera&&(this.cartera.saldo=Math.round((this.cartera.saldo+n)*100)/100,this.carteraService.editarCartera(this.cartera).subscribe({next:()=>{this.infoMsg="Cartera actualizada"},error:t=>{this.errorMsg=t.error}})),this.carteraForm.reset()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-cartera"]],decls:32,vars:6,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","mb-4","shadow-sm"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-wallet2"],[1,"card-body","text-center"],[1,"text-muted"],[1,"card","shadow-sm"],[1,"card-header","bg-success","text-white"],[1,"bi","bi-plus-circle"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","monto",1,"form-label"],[1,"input-group"],[1,"input-group-text"],["type","number","id","monto","placeholder","0.00","formControlName","monto","step","0.01","min","0.01",1,"form-control"],[1,"text-danger","small","mt-1"],[1,"d-grid"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"bi","bi-cash-coin"],[1,"display-4","text-success"]],template:function(t,i){t&1&&(v(0,oA,2,1,"div",0),v(1,aA,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h5",7),m(8,"i",8),u(9," Mi Cartera "),s()(),c(10,"div",9),v(11,sA,4,1)(12,lA,2,0,"p",10),s()(),c(13,"div",11)(14,"div",12)(15,"h5",7),m(16,"i",13),u(17," Agregar Saldo "),s()(),c(18,"div",14)(19,"form",15),I("ngSubmit",function(){return i.agregarSaldo()}),c(20,"div",16)(21,"label",17),u(22,"Monto a agregar"),s(),c(23,"div",18)(24,"span",19),u(25,"$"),s(),m(26,"input",20),s(),v(27,fA,4,3,"div",21),s(),c(28,"div",22)(29,"button",23),m(30,"i",24),u(31," Agregar Saldo "),s()()()()()()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(10),C(i.cartera?11:12),f(8),D("formGroup",i.carteraForm),f(8),C(i.carteraForm.controls.monto.invalid&&i.carteraForm.controls.monto.dirty?27:-1),f(2),D("disabled",!i.carteraForm.valid))},dependencies:[ae,oe,J,at,ee,re,st,ne,ie],encapsulation:2})};function pA(e,n){e&1&&(c(0,"div",11),u(1," La fecha es obligatoria "),s())}var yu=class e{monto=0;anuncioForm;pagoData=new Ae;jwtService=g(Ie);pagoForm=new pe({fecha:new R("",w.required)});ngOnChanges(){this.anuncioForm?.valid&&this.pagoForm.valid&&this.emitirPago()}ngOnInit(){let n=new Date().toISOString().split("T")[0];this.pagoForm.patchValue({fecha:n}),this.anuncioForm?.valueChanges.subscribe(()=>{this.anuncioForm?.valid&&this.emitirPago()}),this.pagoForm?.valueChanges.subscribe(()=>{this.anuncioForm?.valid&&this.emitirPago()}),this.anuncioForm?.valid&&this.emitirPago()}emitirPago(){if(this.pagoForm.valid){let t={idUsuario:this.jwtService.getUsuarioActual().id,fecha:this.pagoForm.value.fecha,monto:this.monto};console.log("Monto: ",this.monto),this.pagoData.emit(t)}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-pago-form"]],inputs:{monto:"monto",anuncioForm:"anuncioForm"},outputs:{pagoData:"pagoData"},features:[Dt],decls:17,vars:3,consts:[[1,"card","bg-light"],[1,"card-body"],[1,"card-title"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],[1,"input-group"],[1,"input-group-text"],["type","text","disabled","",1,"form-control",3,"value"],["for","fecha",1,"form-label"],["type","date","id","fecha","formControlName","fecha",1,"form-control"],[1,"text-danger","small","mt-1"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h5",2),u(3,"Pago"),s(),c(4,"form",3),I("ngSubmit",function(){return i.emitirPago()}),c(5,"div",4)(6,"label",5),u(7,"Monto a pagar"),s(),c(8,"div",6)(9,"span",7),u(10,"Q"),s(),m(11,"input",8),s()(),c(12,"div",4)(13,"label",9),u(14,"Fecha de Pago"),s(),m(15,"input",10),v(16,pA,2,0,"div",11),s()()()()),t&2&&(f(4),D("formGroup",i.pagoForm),f(7),D("value",i.monto),f(5),C(i.pagoForm.controls.fecha.invalid&&i.pagoForm.controls.fecha.touched?16:-1))},dependencies:[ae,oe,J,ee,re,ne,ie],encapsulation:2})};var Ge=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/anuncios";mostrarAnuncios=At(!0);setMostrarAnuncios(n){this.mostrarAnuncios.set(n)}verPreciosDeTipos(){return this.http.get(this.URL+"/precios/tipos")}verPreciosDeVigencias(){return this.http.get(this.URL+"/precios/vigencias")}crearAnuncio(n){return this.http.post(this.URL,n)}verAnuncios(){return this.http.get(this.URL)}verMostrables(){return this.http.get(this.URL+"/mostrables")}verPropios(){return this.http.get(this.URL+"/propios")}editarAnuncio(n){return this.http.put(this.URL,n)}cambiarPrecioTipoAnuncio(n){return this.http.put(this.URL+"/precio-tipo",n)}cambiarPrecioVigenciaAnuncio(n){return this.http.put(this.URL+"/precio-vigencia",n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var Pi=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/videos";obtenerVideo(n){return this.http.get(`${this.URL}/${n}`)}subirVideo(n){return this.http.post(this.URL,n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var mA=(e,n)=>n.dias,hA=(e,n)=>n.tipo;function gA(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function vA(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function CA(e,n){if(e&1&&(c(0,"option",15),u(1),s()),e&2){let t=n.$implicit;D("value",t.dias),f(),Nt(" ",t.dias," d\xEDas - Q",t.monto," ")}}function yA(e,n){e&1&&(c(0,"div",16),u(1," La vigencia es obligatoria "),s())}function _A(e,n){e&1&&(c(0,"div",17),m(1,"i",28),u(2," Cargando vigencias... "),s())}function bA(e,n){if(e&1&&(c(0,"option",15),u(1),s()),e&2){let t=n.$implicit,i=y();D("value",t.tipo),f(),Nt(" ",i.formatearTipo(t.tipo)," - Q",t.monto," ")}}function EA(e,n){e&1&&(c(0,"div",16),u(1," El tipo es obligatorio "),s())}function DA(e,n){e&1&&(c(0,"div",17),m(1,"i",28),u(2," Cargando tipos... "),s())}function SA(e,n){e&1&&(c(0,"div",16),u(1," Texto inv\xE1lido "),s())}function xA(e,n){if(e&1){let t=V();c(0,"div",32),m(1,"img",33),c(2,"button",34),I("click",function(){P(t);let r=y(2);return k(r.eliminarImagen())}),m(3,"i",35),u(4," Eliminar "),s()()}if(e&2){let t=y(2);f(),D("src",t.imagenPreview,Xe)}}function IA(e,n){if(e&1&&(c(0,"div",16),u(1),s()),e&2){let t=y(2);f(),E(" ",t.errorImagen," ")}}function wA(e,n){if(e&1){let t=V();c(0,"div",11)(1,"label",29),m(2,"i",30),u(3," Imagen del Anuncio "),s(),c(4,"input",31),I("change",function(r){P(t);let o=y();return k(o.onImagenSeleccionada(r))}),s(),v(5,xA,5,1,"div",32),v(6,IA,2,1,"div",16),s()}if(e&2){let t=y();f(5),C(t.imagenSeleccionada?5:-1),f(),C(t.errorImagen?6:-1)}}function TA(e,n){e&1&&(c(0,"div",16),u(1," Ingresa un link v\xE1lido "),s())}function MA(e,n){if(e&1&&(c(0,"div",11)(1,"label",36),m(2,"i",37),u(3," Link del Video "),s(),m(4,"input",38),c(5,"div",22),u(6," Ingresa el enlace del video "),s(),v(7,TA,2,0,"div",16),s()),e&2){let t=y();f(7),C(t.anuncioForm.controls.videoLink!=null&&t.anuncioForm.controls.videoLink.invalid&&(t.anuncioForm.controls.videoLink!=null&&t.anuncioForm.controls.videoLink.touched)?7:-1)}}var _u=class e{anuncioService=g(Ge);imagenService=g(He);videoService=g(Pi);tipoSeleccionado="";imagenSeleccionada=null;imagenPreview=null;errorImagen=null;pagoValido=!1;pagoData=null;errorMsg=null;infoMsg=null;tipos=[];vigencias=[];cargandoTipos=!1;cargandoVigencias=!1;anuncioForm=new pe({vigencia:new R("",[w.required]),tipo:new R("",[w.required]),texto:new R("",[w.required,w.minLength(1),w.maxLength(500)]),videoLink:new R("")});ngOnInit(){this.cargarPrecios()}cargarPrecios(){this.cargandoTipos=!0,this.anuncioService.verPreciosDeTipos().subscribe({next:n=>{this.tipos=n,this.cargandoTipos=!1},error:n=>{console.error("Error al cargar tipos:",n),this.cargandoTipos=!1}}),this.cargandoVigencias=!0,this.anuncioService.verPreciosDeVigencias().subscribe({next:n=>{this.vigencias=n,this.cargandoVigencias=!1},error:n=>{console.error("Error al cargar vigencias:",n),this.cargandoVigencias=!1}})}formatearTipo(n){return{TEXTO:"Texto simple",TEXTO_IMAGEN:"Texto con Imagen",TEXTO_VIDEO:"Texto con Video"}[n]||n}onTipoChange(){let n=this.anuncioForm.value.tipo;this.tipoSeleccionado=n,this.imagenSeleccionada=null,this.imagenPreview=null,this.errorImagen=null,this.anuncioForm.patchValue({videoLink:""}),n==="TEXTO_VIDEO"?this.anuncioForm.controls.videoLink.setValidators([w.required]):this.anuncioForm.controls.videoLink.clearValidators(),this.anuncioForm.controls.videoLink.updateValueAndValidity()}onImagenSeleccionada(n){let t=n.target;if(t.files&&t.files.length>0){let i=t.files[0];if(i.size>5*1024*1024){this.errorImagen="La imagen no puede superar los 5MB",this.imagenSeleccionada=null,this.imagenPreview=null;return}if(!i.type.match(/image\/(png|jpeg|jpg|gif)/)){this.errorImagen="Solo se permiten im\xE1genes PNG, JPG o GIF",this.imagenSeleccionada=null,this.imagenPreview=null;return}this.errorImagen=null,this.imagenSeleccionada=i;let r=new FileReader;r.onload=o=>{this.imagenPreview=o.target?.result},r.readAsDataURL(i)}}eliminarImagen(){this.imagenSeleccionada=null,this.imagenPreview=null,this.errorImagen=null;let n=document.getElementById("imagen");n&&(n.value="")}onPagoDataChange(n){this.pagoData=n,this.pagoValido=n!=null}calcularMontoTotal(){let n=this.anuncioForm.value.tipo,t=this.anuncioForm.value.vigencia,i=0;if(n){let r=this.tipos.find(o=>o.tipo===n);r&&(i+=parseFloat(r.monto))}if(t){let r=this.vigencias.find(o=>o.dias===t);r&&(i+=parseFloat(r.monto))}return Math.round(i*100)/100}comprarAnuncio(){if(this.anuncioForm.invalid){this.anuncioForm.markAllAsTouched();return}if(this.tipoSeleccionado==="TEXTO_IMAGEN"&&!this.imagenSeleccionada){this.errorImagen="Debes seleccionar una imagen";return}this.subirMedia().subscribe({next:n=>{let t={vigencia:parseInt(this.anuncioForm.value.vigencia),tipo:this.anuncioForm.value.tipo,texto:this.anuncioForm.value.texto,pago:this.pagoData,idMedia:n};console.log("Anuncio a crear:",t),this.anuncioService.crearAnuncio(t).subscribe({next:()=>{this.infoMsg="Anuncio creado"},error:i=>{this.errorMsg=i.error}})},error:n=>{console.error("Error al subir media:",n),this.errorMsg=n.error}})}subirMedia(){if(this.tipoSeleccionado==="TEXTO_IMAGEN"&&this.imagenSeleccionada)return this.imagenService.subirImagen(this.imagenSeleccionada).pipe(X(n=>n.id));if(this.tipoSeleccionado==="TEXTO_VIDEO"){let n={link:this.anuncioForm.value.videoLink};return this.videoService.subirVideo(n).pipe(X(t=>t.id?+t.id:null))}return W(null)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-comprar-anuncio"]],decls:48,vars:14,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-megaphone"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","vigencia",1,"form-label"],["id","vigencia","formControlName","vigencia",1,"form-select"],["value",""],[3,"value"],[1,"text-danger","small","mt-1"],[1,"text-muted","small","mt-1"],["for","tipo",1,"form-label"],["id","tipo","formControlName","tipo",1,"form-select",3,"change"],["for","texto",1,"form-label"],["id","texto","rows","4","placeholder","Escribe el contenido de tu anuncio...","formControlName","texto","maxlength","500",1,"form-control"],[1,"form-text"],[1,"my-4"],[3,"pagoData","monto","anuncioForm"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"bi","bi-cart-check"],[1,"spinner-border","spinner-border-sm"],["for","imagen",1,"form-label"],[1,"bi","bi-image"],["type","file","id","imagen","accept","image/png, image/jpeg, image/jpg, image/gif",1,"form-control",3,"change"],[1,"mt-2"],["alt","Vista previa",1,"img-thumbnail",2,"max-height","200px",3,"src"],["type","button",1,"btn","btn-sm","btn-danger","ms-2",3,"click"],[1,"bi","bi-trash"],["for","videoLink",1,"form-label"],[1,"bi","bi-camera-video"],["type","url","id","videoLink","placeholder","https://www.youtube.com/watch?v=...","formControlName","videoLink",1,"form-control"]],template:function(t,i){t&1&&(v(0,gA,2,1,"div",0),v(1,vA,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4",7),m(8,"i",8),u(9," Comprar Anuncio "),s()(),c(10,"div",9)(11,"form",10),I("ngSubmit",function(){return i.comprarAnuncio()}),c(12,"div",11)(13,"label",12),u(14,"Vigencia (d\xEDas)"),s(),c(15,"select",13)(16,"option",14),u(17,"Selecciona vigencia"),s(),G(18,CA,2,3,"option",15,mA),s(),v(20,yA,2,0,"div",16),v(21,_A,3,0,"div",17),s(),c(22,"div",11)(23,"label",18),u(24,"Tipo de Anuncio"),s(),c(25,"select",19),I("change",function(){return i.onTipoChange()}),c(26,"option",14),u(27,"Selecciona tipo"),s(),G(28,bA,2,3,"option",15,hA),s(),v(30,EA,2,0,"div",16),v(31,DA,3,0,"div",17),s(),c(32,"div",11)(33,"label",20),u(34,"Texto del Anuncio"),s(),m(35,"textarea",21),c(36,"div",22),u(37),s(),v(38,SA,2,0,"div",16),s(),v(39,wA,7,2,"div",11),v(40,MA,8,1,"div",11),m(41,"hr",23),c(42,"app-pago-form",24),I("pagoData",function(o){return i.onPagoDataChange(o)}),s(),m(43,"hr",23),c(44,"div",25)(45,"button",26),m(46,"i",27),u(47," Comprar Anuncio "),s()()()()()()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(10),D("formGroup",i.anuncioForm),f(7),z(i.vigencias),f(2),C(i.anuncioForm.controls.vigencia.invalid&&i.anuncioForm.controls.vigencia.dirty?20:-1),f(),C(i.cargandoVigencias?21:-1),f(7),z(i.tipos),f(2),C(i.anuncioForm.controls.tipo.invalid&&i.anuncioForm.controls.tipo.dirty?30:-1),f(),C(i.cargandoTipos?31:-1),f(6),E(" ",(i.anuncioForm.controls.texto.value==null?null:i.anuncioForm.controls.texto.value.length)||0,"/500 caracteres "),f(),C(i.anuncioForm.controls.texto.invalid&&i.anuncioForm.controls.texto.dirty?38:-1),f(),C(i.tipoSeleccionado==="TEXTO_IMAGEN"?39:-1),f(),C(i.tipoSeleccionado==="TEXTO_VIDEO"?40:-1),f(2),D("monto",i.calcularMontoTotal())("anuncioForm",i.anuncioForm),f(3),D("disabled",!i.anuncioForm.valid||!i.pagoValido))},dependencies:[ae,oe,ke,Le,J,Re,ee,re,os,ne,ie,Y,yu],encapsulation:2})};var AA=(e,n)=>n.id;function NA(e,n){if(e&1&&(M(0,"div",0),u(1),T()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function RA(e,n){if(e&1&&(M(0,"div",1),u(1),T()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function FA(e,n){e&1&&(M(0,"div",8)(1,"div",11)(2,"span",12),u(3,"Cargando..."),T()(),M(4,"p",13),u(5,"Cargando anuncios..."),T()())}function OA(e,n){e&1&&(M(0,"div",9),Fe(1,"i",14),u(2," No hay anuncios registrados. "),T())}function PA(e,n){if(e&1&&(M(0,"td"),u(1),T(),M(2,"td"),u(3),T(),M(4,"td"),u(5),Wt(6,"number"),T()),e&2){let t=y().$implicit;f(),K(t.pago.idUsuario),f(2),K(t.pago.fecha),f(2),E("Q",Zt(6,3,t.pago.monto,"1.2-2"))}}function kA(e,n){e&1&&(M(0,"span",19),Fe(1,"i",23),u(2," Activado "),T())}function LA(e,n){e&1&&(M(0,"span",20),Fe(1,"i",24),u(2," Desactivado "),T())}function VA(e,n){e&1&&Fe(0,"span",26)}function jA(e,n){e&1&&Fe(0,"i",27)}function UA(e,n){if(e&1){let t=V();M(0,"button",25),dt("click",function(){P(t);let r=y().$implicit,o=y(2);return k(o.confirmarCambioEstado(r))}),v(1,VA,1,0,"span",26)(2,jA,1,0,"i",27),u(3," Desactivar "),T()}if(e&2){let t=y().$implicit,i=y(2);Hn("disabled",i.procesando===t.id),f(),C(i.procesando===t.id?1:2)}}function BA(e,n){if(e&1){let t=V();M(0,"button",28),dt("click",function(){P(t);let r=y().$implicit,o=y(2);return k(o.editarAnuncio(r))}),Fe(1,"i",29),u(2," Editar "),T()}}function $A(e,n){if(e&1&&(M(0,"tr")(1,"td"),u(2),T(),M(3,"td")(4,"span",17),u(5),T()(),M(6,"td")(7,"span",18),u(8),T()(),M(9,"td"),u(10),T(),v(11,PA,7,6),M(12,"td"),v(13,kA,3,0,"span",19)(14,LA,3,0,"span",20),T(),M(15,"td"),v(16,UA,4,2,"button",21),v(17,BA,3,0,"button",22),T()()),e&2){let t=n.$implicit,i=y(2);f(2),K(t.id),f(3),E(" ",t.tipo," "),f(2),Hn("title",t.texto),f(),E(" ",t.texto," "),f(2),E("",t.vigencia," d\xEDas"),f(),C(t.pago?11:-1),f(2),C(t.activado?13:14),f(3),C(t.activado?16:-1),f(),C(i.propios&&t.activado?17:-1)}}function HA(e,n){if(e&1&&(M(0,"div",10)(1,"table",15)(2,"thead",16)(3,"tr")(4,"th"),u(5,"ID"),T(),M(6,"th"),u(7,"Tipo"),T(),M(8,"th"),u(9,"Texto"),T(),M(10,"th"),u(11,"Vigencia"),T(),M(12,"th"),u(13,"ID Usuario"),T(),M(14,"th"),u(15,"Fecha Pago"),T(),M(16,"th"),u(17,"Monto"),T(),M(18,"th"),u(19,"Estado"),T(),M(20,"th"),u(21,"Acciones"),T()()(),M(22,"tbody"),G(23,$A,18,9,"tr",null,AA),T()()()),e&2){let t=y();f(23),z(t.anuncios)}}var bu=class e{anuncioService=g(Ge);route=g(fe);router=g(H);anuncios=[];cargando=!1;errorMsg=null;procesando=null;infoMsg=null;propios=!1;ngOnInit(){this.route.paramMap.subscribe(n=>{this.propios=n.get("propios")==="true",this.cargarAnuncios()})}cargarAnuncios(){this.cargando=!0,this.errorMsg=null,(this.propios?this.anuncioService.verPropios():this.anuncioService.verAnuncios()).subscribe({next:t=>{this.anuncios=t,this.cargando=!1},error:t=>{this.errorMsg="Error al cargar los anuncios",this.cargando=!1,console.error("Error:",t)}})}cambiarEstado(n){if(!n.id)return;this.procesando=n.id;let t={id:n.id,vigencia:n.vigencia,tipo:n.tipo,texto:n.texto,activado:!n.activado,pago:n.pago,idMedia:n.tipo!=="TEXTO"?n.idMedia:null};this.anuncioService.editarAnuncio(t).subscribe({next:()=>{n.activado=!n.activado,this.procesando=null},error:i=>{this.errorMsg=i.error,this.procesando=null,console.error("Error:",i)}})}confirmarCambioEstado(n){window.confirm("\xBFEst\xE1s seguro de que deseas desactivar este anuncio?")&&this.cambiarEstado(n)}editarAnuncio(n){console.log("Anuncio: ",n),this.router.navigate(["/editar-anuncio"],{state:{anuncio:n}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-anuncios-component"]],decls:12,vars:5,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-4"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-megaphone-fill"],[1,"card-body"],[1,"text-center","py-5"],[1,"alert","alert-info","text-center"],[1,"table-responsive"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[1,"bi","bi-info-circle"],[1,"table","table-hover","table-striped"],[1,"table-dark"],[1,"badge","bg-primary"],[1,"d-inline-block","text-truncate",2,"max-width","250px",3,"title"],[1,"badge","bg-success"],[1,"badge","bg-secondary"],[1,"me-2","btn","btn-sm","btn-warning",3,"disabled"],[1,"btn","btn-sm","btn-info","text-white"],[1,"bi","bi-check-circle"],[1,"bi","bi-x-circle"],[1,"me-2","btn","btn-sm","btn-warning",3,"click","disabled"],[1,"spinner-border","spinner-border-sm"],[1,"bi","bi-toggle-off"],[1,"btn","btn-sm","btn-info","text-white",3,"click"],[1,"bi","bi-pencil-square"]],template:function(t,i){t&1&&(v(0,NA,2,1,"div",0),v(1,RA,2,1,"div",1),M(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),Fe(6,"i",6),u(7," Anuncios "),T()(),M(8,"div",7),v(9,FA,6,0,"div",8),v(10,OA,3,0,"div",9),v(11,HA,25,0,"div",10),T()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(8),C(i.cargando?9:-1),f(),C(!i.cargando&&!i.errorMsg&&i.anuncios.length===0?10:-1),f(),C(!i.cargando&&!i.errorMsg&&i.anuncios.length>0?11:-1))},dependencies:[Y,wn],encapsulation:2})};function GA(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function zA(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function qA(e,n){e&1&&(c(0,"div",14),u(1," Texto inv\xE1lido "),s())}function WA(e,n){if(e&1){let t=V();c(0,"div",11)(1,"label",19),m(2,"i",20),u(3," Imagen del Anuncio "),s(),c(4,"input",21),I("change",function(r){P(t);let o=y();return k(o.onImagenSeleccionada(r))}),s()()}}function ZA(e,n){e&1&&(c(0,"div",14),u(1," Ingresa un link v\xE1lido "),s())}function YA(e,n){if(e&1&&(c(0,"div",11)(1,"label",22),m(2,"i",23),u(3," Link del Video "),s(),m(4,"input",24),c(5,"div",25),u(6," Ingresa el enlace del video "),s(),v(7,ZA,2,0,"div",14),s()),e&2){let t=y();f(7),C(t.anuncioForm.controls.videoLink!=null&&t.anuncioForm.controls.videoLink.invalid&&(t.anuncioForm.controls.videoLink!=null&&t.anuncioForm.controls.videoLink.touched)?7:-1)}}var Eu=class e{anuncio=null;imagenSeleccionada=null;route=g(fe);router=g(H);anuncioService=g(Ge);imagenService=g(He);videoService=g(Pi);errorMsg=null;infoMsg=null;anuncioForm=new pe({id:new R(""),texto:new R("",[w.required,w.minLength(1),w.maxLength(500)]),videoLink:new R("")});ngOnInit(){let n=history.state;n&&n.anuncio&&(this.anuncio=n.anuncio),console.log("Anuncio recibido:",this.anuncio),this.anuncio&&this.anuncioForm.patchValue(this.anuncio)}editarAnuncio(){if(this.anuncioForm.invalid){this.anuncioForm.markAllAsTouched();return}this.subirMedia().subscribe({next:n=>{if(this.anuncio){let t={id:this.anuncio?.id,vigencia:parseInt(this.anuncioForm.value.vigencia),tipo:this.anuncioForm.value.tipo,texto:this.anuncioForm.value.texto,pago:void 0,idMedia:n??this.anuncio.idMedia,activado:this.anuncio?.activado};console.log("Anuncio a editar:",t),this.anuncioService.editarAnuncio(t).subscribe({next:()=>{this.infoMsg="Anuncio editado"},error:i=>{this.errorMsg=i.error}})}},error:n=>{console.error("Error al subir media:",n),this.errorMsg=n.error}})}subirMedia(){if(this.anuncio?.tipo==="TEXTO_IMAGEN"&&this.imagenSeleccionada)return this.imagenService.subirImagen(this.imagenSeleccionada).pipe(X(n=>n.id));if(this.anuncio?.tipo==="TEXTO_VIDEO"){let n={link:this.anuncioForm.value.videoLink};return this.videoService.subirVideo(n).pipe(X(t=>t.id?+t.id:null))}return W(null)}onImagenSeleccionada(n){let t=n.target;if(t.files&&t.files.length>0){let i=t.files[0];this.imagenSeleccionada=i}}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-editar-anuncio"]],decls:25,vars:7,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-megaphone"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","texto",1,"form-label"],["id","texto","rows","4","placeholder","Escribe el contenido de tu anuncio...","formControlName","texto","maxlength","500",1,"form-control"],[1,"text-danger","small","mt-1"],[1,"my-4"],[1,"d-grid"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"bi","bi-cart-check"],["for","imagen",1,"form-label"],[1,"bi","bi-image"],["type","file","id","imagen","accept","image/png, image/jpeg, image/jpg, image/gif",1,"form-control",3,"change"],["for","videoLink",1,"form-label"],[1,"bi","bi-camera-video"],["type","url","id","videoLink","placeholder","https://www.youtube.com/watch?v=...","formControlName","videoLink",1,"form-control"],[1,"form-text"]],template:function(t,i){t&1&&(v(0,GA,2,1,"div",0),v(1,zA,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h4",7),m(8,"i",8),u(9," Editar Anuncio "),s()(),c(10,"div",9)(11,"form",10),I("ngSubmit",function(){return i.editarAnuncio()}),c(12,"div",11)(13,"label",12),u(14,"Texto del Anuncio"),s(),m(15,"textarea",13),v(16,qA,2,0,"div",14),s(),v(17,WA,5,0,"div",11),v(18,YA,8,1,"div",11),m(19,"hr",15)(20,"hr",15),c(21,"div",16)(22,"button",17),m(23,"i",18),u(24," Editar Anuncio "),s()()()()()()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(10),D("formGroup",i.anuncioForm),f(5),C(i.anuncioForm.controls.texto.invalid&&i.anuncioForm.controls.texto.dirty?16:-1),f(),C(i.anuncio.tipo==="TEXTO_IMAGEN"?17:-1),f(),C(i.anuncio.tipo==="TEXTO_VIDEO"?18:-1),f(4),D("disabled",!i.anuncioForm.valid))},dependencies:[ae,oe,J,ee,re,os,ne,ie,Y],encapsulation:2})};var QA=(e,n)=>n.tipo;function KA(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function JA(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function XA(e,n){e&1&&(c(0,"div",8)(1,"div",10)(2,"span",11),u(3,"Cargando..."),s()(),c(4,"p",12),u(5,"Cargando tipos de anuncio..."),s()())}function eN(e,n){if(e&1&&(c(0,"option",18),u(1),s()),e&2){let t=n.$implicit,i=y(2);D("value",t.tipo),f(),E(" ",i.formatearTipo(t.tipo)," ")}}function tN(e,n){e&1&&(c(0,"div",19),u(1," Debes seleccionar un tipo de anuncio "),s())}function nN(e,n){e&1&&u(0," El monto es obligatorio ")}function iN(e,n){e&1&&u(0," El monto debe ser mayor a 0 ")}function rN(e,n){if(e&1&&(c(0,"div",19),v(1,nN,1,0),v(2,iN,1,0),s()),e&2){let t=y(3);f(),C(t.tipoForm.controls.monto.errors!=null&&t.tipoForm.controls.monto.errors.required?1:-1),f(),C(t.tipoForm.controls.monto.errors!=null&&t.tipoForm.controls.monto.errors.min?2:-1)}}function oN(e,n){e&1&&(m(0,"span",32),u(1," Guardando... "))}function aN(e,n){e&1&&(m(0,"i",33),u(1," Actualizar Precio "))}function sN(e,n){if(e&1&&(c(0,"div",20)(1,"div",21)(2,"div",22)(3,"h5",5),m(4,"i",23),u(5," Precio Actual "),s()(),c(6,"div",24)(7,"h3",25),u(8),Wt(9,"number"),s()()()(),c(10,"div",14)(11,"label",26),u(12," Nuevo Monto (Q) "),s(),c(13,"div",27)(14,"span",28),u(15,"Q"),s(),m(16,"input",29),s(),v(17,rN,3,2,"div",19),s(),c(18,"div",30)(19,"button",31),v(20,oN,2,0)(21,aN,2,0),s()()),e&2){let t=y(2);f(8),E(" Q",Zt(9,4,t.montoActual,"1.2-2")," "),f(9),C(t.tipoForm.controls.monto.invalid&&t.tipoForm.controls.monto.touched?17:-1),f(2),D("disabled",!t.tipoForm.valid||t.procesando),f(),C(t.procesando?20:21)}}function lN(e,n){if(e&1){let t=V();c(0,"form",13),I("ngSubmit",function(){P(t);let r=y();return k(r.editarPrecio())}),c(1,"div",14)(2,"label",15),u(3," Selecciona el tipo de anuncio "),s(),c(4,"select",16),I("change",function(){P(t);let r=y();return k(r.onTipoChange())}),c(5,"option",17),u(6,"-- Selecciona un tipo --"),s(),G(7,eN,2,2,"option",18,QA),s(),v(9,tN,2,0,"div",19),s(),v(10,sN,22,7),s()}if(e&2){let t=y();D("formGroup",t.tipoForm),f(7),z(t.tipos),f(2),C(t.tipoForm.controls.tipo.invalid&&t.tipoForm.controls.tipo.touched?9:-1),f(),C(t.tipoSeleccionado?10:-1)}}var Du=class e{anuncioService=g(Ge);errorMsg=null;infoMsg=null;tipos=[];cargandoTipos=!1;procesando=!1;tipoSeleccionado=null;montoActual=0;tipoForm=new pe({tipo:new R("",[w.required]),monto:new R("",[w.required,w.min(.01)])});ngOnInit(){this.cargarPrecios()}cargarPrecios(){this.cargandoTipos=!0,this.anuncioService.verPreciosDeTipos().subscribe({next:n=>{this.tipos=n,this.cargandoTipos=!1},error:n=>{this.errorMsg=n.error,console.error("Error al cargar tipos:",n),this.cargandoTipos=!1}})}onTipoChange(){let n=this.tipoForm.value.tipo;n?(this.tipoSeleccionado=this.tipos.find(t=>t.tipo===n)||null,this.tipoSeleccionado&&(this.montoActual=parseFloat(this.tipoSeleccionado.monto),this.tipoForm.patchValue({monto:this.montoActual}))):(this.tipoSeleccionado=null,this.montoActual=0,this.tipoForm.patchValue({monto:""})),this.errorMsg=null,this.infoMsg=null}editarPrecio(){if(this.tipoForm.invalid){this.tipoForm.markAllAsTouched();return}this.procesando=!0,this.errorMsg=null,this.infoMsg=null;let n={tipo:this.tipoForm.value.tipo,monto:this.tipoForm.value.monto.toString()};this.anuncioService.cambiarPrecioTipoAnuncio(n).subscribe({next:()=>{this.infoMsg="Precio actualizado exitosamente",this.procesando=!1,this.montoActual=parseFloat(n.monto),this.cargarPrecios()},error:t=>{this.errorMsg=t.error,this.procesando=!1,console.error("Error:",t)}})}formatearTipo(n){return{TEXTO:"Texto Simple",TEXTO_IMAGEN:"Texto con Imagen",TEXTO_VIDEO:"Texto con Video"}[n]||n}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-precios-tipo-component"]],decls:11,vars:4,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-4"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-tag-fill"],[1,"card-body"],[1,"text-center","py-5"],[3,"formGroup"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","tipoSelect",1,"form-label","fw-bold"],["id","tipoSelect","formControlName","tipo",1,"form-select","form-select-lg",3,"change"],["value",""],[3,"value"],[1,"text-danger","small","mt-1"],[1,"alert","alert-info","mb-4"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"bi","bi-info-circle"],[1,"col-md-6","text-md-end"],[1,"mb-0","text-primary"],["for","nuevoMonto",1,"form-label","fw-bold"],[1,"input-group","input-group-lg"],[1,"input-group-text"],["type","number","id","nuevoMonto","placeholder","0.00","formControlName","monto","step","0.01","min","0.01",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-pencil-square","me-2"]],template:function(t,i){t&1&&(v(0,KA,2,1,"div",0),v(1,JA,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),m(6,"i",6),u(7," Editar Precios de Tipos de Anuncio "),s()(),c(8,"div",7),v(9,XA,6,0,"div",8),v(10,lN,11,3,"form",9),s()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(8),C(i.cargandoTipos?9:-1),f(),C(i.cargandoTipos?-1:10))},dependencies:[ae,oe,ke,Le,J,at,Re,ee,re,st,ne,ie,Y,wn],encapsulation:2})};var cN=(e,n)=>n.dias;function uN(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function dN(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function fN(e,n){e&1&&(c(0,"div",8)(1,"div",10)(2,"span",11),u(3,"Cargando..."),s()(),c(4,"p",12),u(5,"Cargando vigencias..."),s()())}function pN(e,n){if(e&1&&(c(0,"option",18),u(1),s()),e&2){let t=n.$implicit;D("value",t.dias),f(),E(" ",t.dias," d\xEDas ")}}function mN(e,n){e&1&&(c(0,"div",19),u(1," Debes seleccionar una vigencia "),s())}function hN(e,n){e&1&&u(0," El monto es obligatorio ")}function gN(e,n){e&1&&u(0," El monto debe ser mayor a 0 ")}function vN(e,n){if(e&1&&(c(0,"div",19),v(1,hN,1,0),v(2,gN,1,0),s()),e&2){let t=y(3);f(),C(t.vigenciaForm.controls.monto.errors!=null&&t.vigenciaForm.controls.monto.errors.required?1:-1),f(),C(t.vigenciaForm.controls.monto.errors!=null&&t.vigenciaForm.controls.monto.errors.min?2:-1)}}function CN(e,n){e&1&&(m(0,"span",33),u(1," Guardando... "))}function yN(e,n){e&1&&(m(0,"i",34),u(1," Actualizar Precio "))}function _N(e,n){if(e&1&&(c(0,"div",20)(1,"div",21)(2,"div",22)(3,"h5",5),m(4,"i",23),u(5," Precio Actual "),s(),c(6,"small",24),u(7),s()(),c(8,"div",25)(9,"h3",26),u(10),Wt(11,"number"),s()()()(),c(12,"div",14)(13,"label",27),u(14," Nuevo Monto (Q) "),s(),c(15,"div",28)(16,"span",29),u(17,"Q"),s(),m(18,"input",30),s(),v(19,vN,3,2,"div",19),s(),c(20,"div",31)(21,"button",32),v(22,CN,2,0)(23,yN,2,0),s()()),e&2){let t=y(2);f(7),E("",t.vigenciaSeleccionada.dias," d\xEDas de vigencia"),f(3),E(" Q",Zt(11,5,t.montoActual,"1.2-2")," "),f(9),C(t.vigenciaForm.controls.monto.invalid&&t.vigenciaForm.controls.monto.touched?19:-1),f(2),D("disabled",!t.vigenciaForm.valid||t.procesando),f(),C(t.procesando?22:23)}}function bN(e,n){if(e&1){let t=V();c(0,"form",13),I("ngSubmit",function(){P(t);let r=y();return k(r.editarPrecio())}),c(1,"div",14)(2,"label",15),u(3," Selecciona la vigencia "),s(),c(4,"select",16),I("change",function(){P(t);let r=y();return k(r.onVigenciaChange())}),c(5,"option",17),u(6,"-- Selecciona una vigencia --"),s(),G(7,pN,2,2,"option",18,cN),s(),v(9,mN,2,0,"div",19),s(),v(10,_N,24,8),s()}if(e&2){let t=y();D("formGroup",t.vigenciaForm),f(7),z(t.vigencias),f(2),C(t.vigenciaForm.controls.dias.invalid&&t.vigenciaForm.controls.dias.touched?9:-1),f(),C(t.vigenciaSeleccionada?10:-1)}}var Su=class e{anuncioService=g(Ge);errorMsg=null;infoMsg=null;vigencias=[];cargandoVigencias=!1;procesando=!1;vigenciaSeleccionada=null;montoActual=0;vigenciaForm=new pe({dias:new R("",[w.required]),monto:new R("",[w.required,w.min(.01)])});ngOnInit(){this.cargarVigencias()}cargarVigencias(){this.cargandoVigencias=!0,this.anuncioService.verPreciosDeVigencias().subscribe({next:n=>{this.vigencias=n,this.cargandoVigencias=!1},error:n=>{this.errorMsg=n.error,console.error("Error al cargar vigencias:",n),this.cargandoVigencias=!1}})}onVigenciaChange(){let n=this.vigenciaForm.value.dias;n?(this.vigenciaSeleccionada=this.vigencias.find(t=>t.dias===n)||null,this.vigenciaSeleccionada&&(this.montoActual=parseFloat(this.vigenciaSeleccionada.monto),this.vigenciaForm.patchValue({monto:this.montoActual}))):(this.vigenciaSeleccionada=null,this.montoActual=0,this.vigenciaForm.patchValue({monto:""})),this.errorMsg=null,this.infoMsg=null}editarPrecio(){if(this.vigenciaForm.invalid){this.vigenciaForm.markAllAsTouched();return}this.procesando=!0,this.errorMsg=null,this.infoMsg=null;let n={dias:this.vigenciaForm.value.dias,monto:this.vigenciaForm.value.monto.toString()};this.anuncioService.cambiarPrecioVigenciaAnuncio(n).subscribe({next:()=>{this.infoMsg="Precio actualizado exitosamente",this.procesando=!1,this.montoActual=parseFloat(n.monto),this.cargarVigencias()},error:t=>{this.errorMsg=t.error,this.procesando=!1,console.error("Error:",t)}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-precios-vigencia-component"]],decls:11,vars:4,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-4"],[1,"card","shadow"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"bi","bi-calendar-check-fill"],[1,"card-body"],[1,"text-center","py-5"],[3,"formGroup"],["role","status",1,"spinner-border","text-success"],[1,"visually-hidden"],[1,"mt-2","text-muted"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","vigenciaSelect",1,"form-label","fw-bold"],["id","vigenciaSelect","formControlName","dias",1,"form-select","form-select-lg",3,"change"],["value",""],[3,"value"],[1,"text-danger","small","mt-1"],[1,"alert","alert-info","mb-4"],[1,"row","align-items-center"],[1,"col-md-6"],[1,"bi","bi-info-circle"],[1,"text-muted"],[1,"col-md-6","text-md-end"],[1,"mb-0","text-success"],["for","nuevoMonto",1,"form-label","fw-bold"],[1,"input-group","input-group-lg"],[1,"input-group-text"],["type","number","id","nuevoMonto","placeholder","0.00","formControlName","monto","step","0.01","min","0.01",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-success","btn-lg",3,"disabled"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-pencil-square","me-2"]],template:function(t,i){t&1&&(v(0,uN,2,1,"div",0),v(1,dN,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),m(6,"i",6),u(7," Editar Precios de Vigencias "),s()(),c(8,"div",7),v(9,fN,6,0,"div",8),v(10,bN,11,3,"form",9),s()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(8),C(i.cargandoVigencias?9:-1),f(),C(i.cargandoVigencias?-1:10))},dependencies:[ae,oe,ke,Le,J,at,Re,ee,re,st,ne,ie,Y,wn],encapsulation:2})};var Ee=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/cines";crearCine(n){return this.http.post(this.URL,n)}verCines(){return this.http.get(this.URL)}verCine(n){return this.http.get(this.URL+"/"+n)}verCinesPorUsuario(n){return this.http.get(this.URL+"/usuario/"+n)}editarCine(n){return this.http.put(this.URL,n)}bloquearAnuncios(n){return this.http.post(this.URL+"/bloqueo-anuncios",n)}crearCostoDiario(n){return this.http.post(this.URL+"/costo-diario",n)}cambiarCostoGlobal(n){return this.http.put(this.URL+"/costo-global",n)}verCostoGlobal(){return this.http.get(this.URL+"/costo-global")}pagarCostoDiario(n){return this.http.post(this.URL+"/pago/"+n,null)}verDeuda(n){return this.http.get(this.URL+"/deuda/"+n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};function EN(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function DN(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function SN(e,n){e&1&&(c(0,"small",10),u(1,"El nombre es obligatorio."),s())}function xN(e,n){e&1&&(c(0,"small",10),u(1,"La ubicaci\xF3n es obligatoria."),s())}function IN(e,n){e&1&&(c(0,"small",10),u(1,"La fecha es obligatoria."),s())}var xu=class e{cineService=g(Ee);errorMsg=null;infoMsg=null;cineForm=new pe({nombre:new R("",w.required),ubicacion:new R("",w.required),fechaCreacion:new R("",w.required)});guardarCine(){if(this.cineForm.valid){let n=this.cineForm.value;console.log("Cine creado:",n),this.cineService.crearCine(n).subscribe({next:()=>{this.infoMsg="Cine creado exitosamente",this.errorMsg=null,this.cineForm.reset()},error:t=>{this.errorMsg=t.error,console.error("Error:",t)}})}else this.errorMsg="Datos incorrectos"}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-crear-cine-component"]],decls:26,vars:7,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-5","d-flex","justify-content-center"],[1,"card","shadow-lg","w-50"],[1,"card-body"],[1,"p-3",3,"ngSubmit","formGroup"],[1,"mb-4","text-center","text-primary"],[1,"mb-3"],["for","nombre",1,"form-label","fw-semibold"],["id","nombre","type","text","formControlName","nombre","placeholder","Ejemplo: Cine Centro",1,"form-control"],[1,"text-danger"],["for","ubicacion",1,"form-label","fw-semibold"],["id","ubicacion","type","text","formControlName","ubicacion","placeholder","Ejemplo: Ciudad de Guatemala",1,"form-control"],["for","fechaCreacion",1,"form-label","fw-semibold"],["id","fechaCreacion","type","date","formControlName","fechaCreacion",1,"form-control"],[1,"text-center"],["type","submit",1,"btn","btn-primary","px-4",3,"disabled"]],template:function(t,i){if(t&1&&(v(0,EN,2,1,"div",0),v(1,DN,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"div",4)(5,"form",5),I("ngSubmit",function(){return i.guardarCine()}),c(6,"h4",6),u(7,"Crear nuevo cine"),s(),c(8,"div",7)(9,"label",8),u(10,"Nombre"),s(),m(11,"input",9),v(12,SN,2,0,"small",10),s(),c(13,"div",7)(14,"label",11),u(15,"Ubicaci\xF3n"),s(),m(16,"input",12),v(17,xN,2,0,"small",10),s(),c(18,"div",7)(19,"label",13),u(20,"Fecha de creaci\xF3n"),s(),m(21,"input",14),v(22,IN,2,0,"small",10),s(),c(23,"div",15)(24,"button",16),u(25," Guardar "),s()()()()()()),t&2){let r,o,a;C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(4),D("formGroup",i.cineForm),f(7),C((r=i.cineForm.get("nombre"))!=null&&r.invalid&&((r=i.cineForm.get("nombre"))!=null&&r.touched)?12:-1),f(5),C((o=i.cineForm.get("ubicacion"))!=null&&o.invalid&&((o=i.cineForm.get("ubicacion"))!=null&&o.touched)?17:-1),f(5),C((a=i.cineForm.get("fechaCreacion"))!=null&&a.invalid&&((a=i.cineForm.get("fechaCreacion"))!=null&&a.touched)?22:-1),f(2),D("disabled",i.cineForm.invalid)}},dependencies:[ae,oe,J,ee,re,ne,ie],encapsulation:2})};var wN=(e,n)=>n.id;function TN(e,n){e&1&&(M(0,"div",2)(1,"div",5)(2,"span",6),u(3,"Cargando..."),T()(),M(4,"p",7),u(5,"Cargando cines..."),T()())}function MN(e,n){e&1&&(M(0,"div",3),u(1," No hay cines registrados. "),T())}function AN(e,n){if(e&1){let t=V();M(0,"tr")(1,"td"),u(2),T(),M(3,"td"),u(4),T(),M(5,"td")(6,"span",10),u(7),T()(),M(8,"td",11)(9,"button",12),dt("click",function(){let r=P(t).$implicit,o=y(2);return k(o.verCine(r))}),Fe(10,"i",13),u(11," Ver "),T()()()}if(e&2){let t=n.$implicit;f(2),K(t.nombre),f(2),K(t.ubicacion),f(2),Z("bg-success",t.activado==="true")("bg-danger",t.activado!=="true"),f(),E(" ",t.activado==="true"?"S\xED":"No"," ")}}function NN(e,n){if(e&1&&(M(0,"div",4)(1,"table",8)(2,"thead",9)(3,"tr")(4,"th"),u(5,"Nombre"),T(),M(6,"th"),u(7,"Ubicaci\xF3n"),T(),M(8,"th"),u(9,"Activado"),T(),M(10,"th"),u(11,"Acciones"),T()()(),M(12,"tbody"),G(13,AN,12,7,"tr",null,wN),T()()()),e&2){let t=y();f(13),z(t.cines)}}var Iu=class e{cines=[];cargando=!0;cineService=g(Ee);router=g(H);anuncioService=g(Ge);ngOnInit(){this.cineService.verCines().subscribe({next:n=>{this.cines=n,this.cargando=!1},error:n=>{console.error("Error al cargar cines",n),this.cargando=!1}})}verCine(n){console.log("Cine seleccionado:",n),this.router.navigate(["/ver-cine",n.id])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-ver-cines-component"]],decls:6,vars:1,consts:[[1,"container","mt-5"],[1,"mb-4","text-center","text-primary"],[1,"text-center","my-4"],[1,"alert","alert-warning","text-center"],[1,"table-responsive"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"table","table-striped","table-bordered","align-middle"],[1,"table-primary","text-center"],[1,"badge"],[1,"text-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-eye"]],template:function(t,i){t&1&&(M(0,"div",0)(1,"h4",1),u(2,"Lista de cines"),T(),v(3,TN,6,0,"div",2)(4,MN,2,0,"div",3)(5,NN,15,0,"div",4),T()),t&2&&(f(3),C(i.cargando?3:i.cines.length===0?4:5))},encapsulation:2})};function RN(e,n){e&1&&(M(0,"div",7)(1,"div",14)(2,"span",15),u(3,"Cargando..."),T()(),M(4,"p",16),u(5,"Consultando deuda..."),T()())}function FN(e,n){if(e&1&&(M(0,"div",8),u(1),T()),e&2){let t=y();f(),E(" ",t.errorDeuda," ")}}function ON(e,n){if(e&1&&(M(0,"div",17)(1,"h5")(2,"strong"),u(3,"Deuda Total:"),T()(),M(4,"h3",18),u(5),Wt(6,"number"),T()(),M(7,"p",19),u(8," Al confirmar el pago, se descontar\xE1 este monto de tu cartera. "),T()),e&2){let t=y();f(5),E("$",Zt(6,1,t.deuda.monto,"1.2-2"))}}function PN(e,n){if(e&1&&(M(0,"div",9),u(1),T()),e&2){let t=y();f(),E(" ",t.errorPago," ")}}function kN(e,n){e&1&&Fe(0,"span",13)}var wu=class e{idCine;cerrar=new Ae;cineService=g(Ee);deuda;cargandoDeuda=!0;errorDeuda="";procesandoPago=!1;errorPago="";ngOnInit(){this.cargarDeuda()}cargarDeuda(){this.cargandoDeuda=!0,this.errorDeuda="",this.cineService.verDeuda(this.idCine).subscribe({next:n=>{this.deuda=n,this.cargandoDeuda=!1},error:n=>{console.error("Error al cargar deuda:",n),this.errorDeuda=n.error,this.cargandoDeuda=!1}})}confirmarPago(){this.deuda&&(this.procesandoPago=!0,this.errorPago="",this.cineService.pagarCostoDiario(this.idCine).subscribe({next:()=>{this.cerrar.emit(!0)},error:n=>{console.error("Error al procesar pago:",n),this.errorPago=n.error,this.procesandoPago=!1}}))}cancelar(){this.cerrar.emit(!1)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-pagar-costo-component"]],inputs:{idCine:"idCine"},outputs:{cerrar:"cerrar"},decls:18,vars:5,consts:[[1,"modal-backdrop",3,"click"],[1,"modal-dialog",3,"click"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"text-center","my-4"],[1,"alert","alert-danger"],[1,"alert","alert-danger","mt-3"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"spinner-border","spinner-border-sm","me-2"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"alert","alert-info"],[1,"mb-0"],[1,"text-muted"]],template:function(t,i){t&1&&(M(0,"div",0),dt("click",function(){return i.cancelar()}),T(),M(1,"div",1),dt("click",function(o){return o.stopPropagation()}),M(2,"div",2)(3,"div",3)(4,"h4",4),u(5,"Pagar Costo Diario"),T(),M(6,"button",5),dt("click",function(){return i.cancelar()}),T()(),M(7,"div",6),v(8,RN,6,0,"div",7)(9,FN,2,1,"div",8)(10,ON,9,4),v(11,PN,2,1,"div",9),T(),M(12,"div",10)(13,"button",11),dt("click",function(){return i.cancelar()}),u(14," Cancelar "),T(),M(15,"button",12),dt("click",function(){return i.confirmarPago()}),v(16,kN,1,0,"span",13),u(17," Confirmar Pago "),T()()()()),t&2&&(f(8),C(i.cargandoDeuda?8:i.errorDeuda?9:i.deuda?10:-1),f(3),C(i.errorPago?11:-1),f(2),Hn("disabled",i.procesandoPago),f(2),Hn("disabled",i.procesandoPago||i.cargandoDeuda||!i.deuda),f(),C(i.procesandoPago?16:-1))},dependencies:[Y,wn],styles:[".modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1040;display:flex;align-items:center;justify-content:center}.modal-dialog[_ngcontent-%COMP%]{position:relative;z-index:1050;max-width:500px;width:90%;margin:auto}.modal-content[_ngcontent-%COMP%]{background:#fff;border-radius:8px;box-shadow:0 5px 15px #0000004d}.modal-body[_ngcontent-%COMP%]{min-height:150px}"]})};var LN=e=>["/ver-sala",e],VN=e=>["/ver-pelicula",e],jN=(e,n)=>n.id;function UN(e,n){e&1&&(c(0,"div",1)(1,"div",4)(2,"span",5),u(3,"Cargando..."),s()(),c(4,"p",6),u(5,"Cargando informaci\xF3n del cine..."),s()())}function BN(e,n){e&1&&(c(0,"div",2),u(1," No se encontr\xF3 informaci\xF3n del cine. "),s())}function $N(e,n){if(e&1){let t=V();c(0,"button",25),I("click",function(){P(t);let r=y(2);return k(r.crearProyeccion(r.cine))}),m(1,"i",26),u(2," Agregar Proyecci\xF3n "),s()}}function HN(e,n){if(e&1){let t=V();c(0,"li")(1,"a",30),I("click",function(){P(t);let r=y(4);return k(r.bloquearAnuncios(r.cine))}),m(2,"i",34),u(3," Bloquear anuncios "),s()()}}function GN(e,n){if(e&1){let t=V();c(0,"li")(1,"a",30),I("click",function(){P(t);let r=y(3);return k(r.crearSala(r.cine))}),m(2,"i",31),u(3," Crear Sala "),s()(),c(4,"li")(5,"a",30),I("click",function(){P(t);let r=y(3);return k(r.editarCine(r.cine))}),m(6,"i",32),u(7," Editar "),s()(),v(8,HN,4,0,"li"),c(9,"li")(10,"a",30),I("click",function(){P(t);let r=y(3);return k(r.abrirModalPago())}),m(11,"i",33),u(12," Pagar Costo Diario "),s()()}if(e&2){let t=y(3);f(8),C(t.cine.bloqueoActivo?-1:8)}}function zN(e,n){e&1&&(c(0,"li"),m(1,"hr",36),s())}function qN(e,n){if(e&1){let t=V();v(0,zN,2,0,"li"),c(1,"li")(2,"a",30),I("click",function(){P(t);let r=y(3);return k(r.cambiarCostoDiario())}),m(3,"i",35),u(4," Cambiar Costo Diario "),s()()}if(e&2){let t=y(3);C(t.idCreador===t.usuarioActual.id?0:-1)}}function WN(e,n){if(e&1&&(c(0,"div",18)(1,"button",27),m(2,"i",28),s(),c(3,"ul",29),v(4,GN,13,1),v(5,qN,5,1),s()()),e&2){let t=y(2);f(4),C(t.idCreador===t.usuarioActual.id?4:-1),f(),C(t.usuarioActual.rol==="ADMINISTRADOR_SISTEMA"?5:-1)}}function ZN(e,n){if(e&1){let t=V();c(0,"button",51),I("click",function(){P(t);let r=y().$implicit,o=y(3);return k(o.editarProyeccion(r))}),m(1,"i",32),s()}}function YN(e,n){if(e&1){let t=V();c(0,"tr")(1,"td"),u(2),s(),c(3,"td")(4,"a",41),m(5,"i",42),u(6),s()(),c(7,"td")(8,"a",41),m(9,"i",43),u(10),s()(),c(11,"td"),m(12,"i",44),u(13),s(),c(14,"td"),m(15,"i",45),u(16),s(),c(17,"td",46)(18,"div",47)(19,"button",48),I("click",function(){let r=P(t).$implicit,o=y(3);return k(o.comprarBoleto(r))}),m(20,"i",49),u(21," Comprar "),s(),v(22,ZN,2,0,"button",50),s()()()}if(e&2){let t=n.$implicit,i=n.$index,r=y(3);f(2),K(i+1),f(2),D("routerLink",Ue(8,LN,t.idSala)),f(2),E(" Sala ",t.idSala," "),f(2),D("routerLink",Ue(10,VN,t.idPelicula)),f(2),E(" ",t.nombrePelicula," "),f(3),E(" ",t.fecha," "),f(3),E(" ",t.hora," "),f(6),C(r.idCreador===r.usuarioActual.id?22:-1)}}function QN(e,n){if(e&1&&(c(0,"div",23)(1,"table",37)(2,"thead",38)(3,"tr")(4,"th",39),u(5,"#"),s(),c(6,"th",39),u(7,"Sala"),s(),c(8,"th",39),u(9,"Pel\xEDcula"),s(),c(10,"th",39),u(11,"Fecha"),s(),c(12,"th",39),u(13,"Hora"),s(),c(14,"th",40),u(15,"Acciones"),s()()(),c(16,"tbody"),G(17,YN,23,12,"tr",null,jN),s()()()),e&2){let t=y(2);f(17),z(t.cine.proyecciones)}}function KN(e,n){e&1&&(c(0,"div",24),m(1,"i",52),c(2,"p",53),u(3,"No hay proyecciones programadas"),s()())}function JN(e,n){if(e&1){let t=V();c(0,"div",7)(1,"div",8)(2,"div",9)(3,"div")(4,"h3",10),u(5),s(),c(6,"p",11)(7,"strong"),u(8,"Ubicaci\xF3n:"),s(),u(9),s(),c(10,"p",12)(11,"strong"),u(12,"Activado:"),s(),c(13,"span",13),u(14),s()()(),c(15,"div",14)(16,"button",15),I("click",function(){P(t);let r=y();return k(r.verSalas(r.cine))}),m(17,"i",16),u(18," Ver Salas "),s(),v(19,$N,3,0,"button",17),v(20,WN,6,2,"div",18),s()()()(),c(21,"div",7)(22,"div",19)(23,"h5",20),m(24,"i",21),u(25," Proyecciones "),s()(),c(26,"div",22),v(27,QN,19,0,"div",23)(28,KN,4,0,"div",24),s()()}if(e&2){let t=y();f(5),K(t.cine.nombre),f(4),E(" ",t.cine.ubicacion," "),f(4),Z("bg-success",t.cine.activado==="true")("bg-danger",t.cine.activado!=="true"),f(),E(" ",t.cine.activado==="true"?"S\xED":"No"," "),f(5),C(t.idCreador===t.usuarioActual.id?19:-1),f(),C(t.idCreador===t.usuarioActual.id||t.usuarioActual.rol==="ADMINISTRADOR_SISTEMA"?20:-1),f(7),C(t.cine.proyecciones&&t.cine.proyecciones.length>0?27:28)}}function XN(e,n){if(e&1){let t=V();c(0,"app-pagar-costo-component",54),I("cerrar",function(r){P(t);let o=y();return k(o.cerrarModalPago(r))}),s()}if(e&2){let t=y();D("idCine",+t.cine.id)}}var Tu=class e{route=g(fe);router=g(H);cineService=g(Ee);jwtService=g(Ie);anuncioService=g(Ge);usuarioActual=this.jwtService.getUsuarioActual();idCreador=0;cine;cargando=!0;mostrarModalPago=!1;ngOnInit(){let n=Number(this.route.snapshot.paramMap.get("id"));this.cineService.verCine(n).subscribe({next:t=>{this.cine=t,this.cargando=!1,this.idCreador=Number(t.idUsuarioCreador),t.bloqueoActivo!=null&&this.anuncioService.setMostrarAnuncios(!t.bloqueoActivo)},error:t=>{console.error("Error al cargar cine:",t),this.cargando=!1}})}ngOnDestroy(){this.anuncioService.setMostrarAnuncios(!0)}crearProyeccion(n){this.router.navigate(["/crear-proyeccion",n.id])}editarProyeccion(n){this.router.navigate(["/editar-proyeccion",n.id])}comprarBoleto(n){this.router.navigate(["/comprar-boleto",n.id])}editarCine(n){this.router.navigate(["/editar-cine",n.id])}bloquearAnuncios(n){this.router.navigate(["/bloqueo-anuncios",n.id])}cambiarCostoDiario(){this.router.navigate(["/costo-diario",this.cine.id])}abrirModalPago(){this.mostrarModalPago=!0}cerrarModalPago(n){this.mostrarModalPago=!1,n&&this.ngOnInit()}crearSala(n){this.router.navigate(["/crear-sala",n.id])}verSalas(n){this.router.navigate(["/ver-salas",n.id])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-ver-cine-component"]],decls:5,vars:2,consts:[[1,"container","mt-5"],[1,"text-center","my-5"],[1,"alert","alert-danger","text-center","my-5"],[3,"idCine"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"card","shadow-lg","mb-5"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","align-items-start"],[1,"card-title","text-primary","mb-3"],[1,"card-text","mb-2"],[1,"card-text"],[1,"badge"],[1,"d-flex","gap-2","align-items-start"],["type","button",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-door-open"],["type","button",1,"btn","btn-outline-success"],[1,"dropdown"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-calendar-event"],[1,"card-body","p-0"],[1,"table-responsive"],[1,"text-center","py-5"],["type","button",1,"btn","btn-outline-success",3,"click"],[1,"bi","bi-calendar-plus"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-outline-secondary"],[1,"bi","bi-three-dots-vertical"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"bi","bi-plus-circle"],[1,"bi","bi-pencil"],[1,"bi","bi-credit-card"],[1,"bi","bi-ban"],[1,"bi","bi-cash-stack"],[1,"dropdown-divider"],[1,"table","table-hover","table-striped","mb-0"],[1,"table-light"],["scope","col"],["scope","col",1,"text-center"],[1,"text-decoration-none",3,"routerLink"],[1,"bi","bi-door-closed"],[1,"bi","bi-film"],[1,"bi","bi-calendar3"],[1,"bi","bi-clock"],[1,"text-center"],["role","group",1,"btn-group","btn-group-sm"],["type","button","title","Comprar Boleto",1,"btn","btn-outline-success",3,"click"],[1,"bi","bi-ticket-perforated"],["type","button","title","Editar",1,"btn","btn-outline-primary"],["type","button","title","Editar",1,"btn","btn-outline-primary",3,"click"],[1,"bi","bi-calendar-x",2,"font-size","3rem","color","#ccc"],[1,"text-muted","mt-3"],[3,"cerrar","idCine"]],template:function(t,i){t&1&&(c(0,"div",0),v(1,UN,6,0,"div",1)(2,BN,2,0,"div",2)(3,JN,29,10),s(),v(4,XN,1,1,"app-pagar-costo-component",3)),t&2&&(f(),C(i.cargando?1:i.cine?3:2),f(3),C(i.mostrarModalPago&&i.cine&&i.cine.id?4:-1))},dependencies:[Y,wu,$e],encapsulation:2})};var eR=(e,n)=>n.id;function tR(e,n){e&1&&(M(0,"div",2),Fe(1,"div",5),M(2,"p",6),u(3,"Cargando cines..."),T()())}function nR(e,n){e&1&&(M(0,"div",3),u(1," No se encontraron cines asociados a este usuario. "),T())}function iR(e,n){if(e&1){let t=V();M(0,"tr")(1,"td"),u(2),T(),M(3,"td"),u(4),T(),M(5,"td")(6,"span",9),u(7),T()(),M(8,"td")(9,"button",10),dt("click",function(){let r=P(t).$implicit,o=y(2);return k(o.verCine(r))}),Fe(10,"i",11),u(11," Ver "),T()()()}if(e&2){let t=n.$implicit;f(2),K(t.nombre),f(2),K(t.ubicacion),f(2),Z("bg-success",t.activado==="true")("bg-danger",t.activado!=="true"),f(),E(" ",t.activado==="true"?"S\xED":"No"," ")}}function rR(e,n){if(e&1&&(M(0,"table",4)(1,"thead",7)(2,"tr")(3,"th"),u(4,"Nombre"),T(),M(5,"th"),u(6,"Ubicaci\xF3n"),T(),M(7,"th"),u(8,"Activado"),T(),M(9,"th"),u(10,"Acciones"),T()()(),M(11,"tbody",8),G(12,iR,12,7,"tr",null,eR),T()()),e&2){let t=y();f(12),z(t.cines)}}var Mu=class e{cines=[];cargando=!0;cineService=g(Ee);router=g(H);jwtService=g(Ie);usuario=this.jwtService.getUsuarioActual();ngOnInit(){this.cineService.verCinesPorUsuario(this.usuario.id).subscribe({next:n=>{this.cines=n,this.cargando=!1},error:n=>{console.error("Error al cargar cines",n),this.cargando=!1}})}verCine(n){console.log("Cine seleccionado:",n),this.router.navigate(["/ver-cine",n.id])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-mis-cines-component"]],decls:6,vars:1,consts:[[1,"container","mt-4"],[1,"mb-4","text-center"],[1,"text-center","my-5"],[1,"alert","alert-info","text-center"],[1,"table","table-striped","table-bordered","shadow-sm"],["role","status",1,"spinner-border","text-primary"],[1,"mt-2"],[1,"table-primary","text-center"],[1,"align-middle","text-center"],[1,"badge"],[1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-eye"]],template:function(t,i){t&1&&(M(0,"div",0)(1,"h4",1),u(2,"Cines del usuario"),T(),v(3,tR,4,0,"div",2)(4,nR,2,0,"div",3)(5,rR,14,0,"table",4),T()),t&2&&(f(3),C(i.cargando?3:!i.cines||i.cines.length===0?4:5))},encapsulation:2})};function oR(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function aR(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function sR(e,n){e&1&&(c(0,"div",4)(1,"div",7)(2,"span",8),u(3,"Cargando..."),s()(),c(4,"p",9),u(5,"Cargando datos del cine..."),s()())}function lR(e,n){e&1&&(c(0,"div",5),u(1," No se encontr\xF3 el cine solicitado. "),s())}function cR(e,n){e&1&&(c(0,"small",14),u(1,"El nombre es obligatorio."),s())}function uR(e,n){e&1&&(c(0,"small",14),u(1,"La ubicaci\xF3n es obligatoria."),s())}function dR(e,n){if(e&1){let t=V();c(0,"form",10),I("ngSubmit",function(){P(t);let r=y();return k(r.guardarCambios())}),c(1,"div",11)(2,"label",12),u(3,"Nombre"),s(),m(4,"input",13),v(5,cR,2,0,"small",14),s(),c(6,"div",11)(7,"label",15),u(8,"Ubicaci\xF3n"),s(),m(9,"input",16),v(10,uR,2,0,"small",14),s(),c(11,"div",11)(12,"label",17),u(13,"Estado"),s(),c(14,"select",18)(15,"option",19),u(16,"Activo"),s(),c(17,"option",20),u(18,"Inactivo"),s()()(),c(19,"div",21)(20,"button",22),m(21,"i",23),u(22," Guardar Cambios "),s()()()}if(e&2){let t,i,r=y();D("formGroup",r.cineForm),f(5),C((t=r.cineForm.get("nombre"))!=null&&t.invalid&&((t=r.cineForm.get("nombre"))!=null&&t.touched)?5:-1),f(5),C((i=r.cineForm.get("ubicacion"))!=null&&i.invalid&&((i=r.cineForm.get("ubicacion"))!=null&&i.touched)?10:-1),f(10),D("disabled",r.cineForm.invalid)}}var Au=class e{route=g(fe);router=g(H);cineService=g(Ee);cineForm;cine;cargando=!0;errorMsg=null;infoMsg=null;ngOnInit(){this.cineForm=new pe({nombre:new R("",w.required),ubicacion:new R("",w.required),activado:new R("",w.required)});let n=Number(this.route.snapshot.paramMap.get("id"));this.cargarCine(n)}cargarCine(n){this.cineService.verCine(n).subscribe({next:t=>{this.cine=t,this.cargando=!1,this.cineForm.patchValue({nombre:t.nombre,ubicacion:t.ubicacion,activado:t.activado})},error:t=>{console.error("Error al cargar el cine:",t),this.errorMsg=t.error,this.cargando=!1}})}guardarCambios(){if(this.cineForm.invalid)return;let n=N(N({},this.cine),this.cineForm.value);this.cineService.editarCine(n).subscribe({next:()=>{this.infoMsg="Cine actualizado correctamente",this.router.navigate(["/ver-cine",n.id])},error:t=>this.errorMsg=t.error})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-editar-cine-component"]],decls:8,vars:3,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-5"],[1,"mb-4","text-center","text-primary"],[1,"text-center","my-5"],[1,"alert","alert-danger","text-center"],[1,"p-4","border","rounded","shadow-sm","bg-light",3,"formGroup"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"p-4","border","rounded","shadow-sm","bg-light",3,"ngSubmit","formGroup"],[1,"mb-3"],["for","nombre",1,"form-label"],["id","nombre","type","text","formControlName","nombre",1,"form-control"],[1,"text-danger"],["for","ubicacion",1,"form-label"],["id","ubicacion","type","text","formControlName","ubicacion",1,"form-control"],["for","activado",1,"form-label"],["id","activado","formControlName","activado",1,"form-select"],["value","true"],["value","false"],[1,"d-flex","justify-content-end","mt-4"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-save"]],template:function(t,i){t&1&&(v(0,oR,2,1,"div",0),v(1,aR,2,1,"div",1),c(2,"div",2)(3,"h4",3),u(4,"Editar Cine"),s(),v(5,sR,6,0,"div",4)(6,lR,2,0,"div",5)(7,dR,23,4,"form",6),s()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(4),C(i.cargando?5:i.cine?7:6))},dependencies:[ae,oe,ke,Le,J,Re,ee,re,ne,ie],encapsulation:2})};function fR(e,n){if(e&1&&(M(0,"div",0),u(1),T()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function pR(e,n){if(e&1&&(M(0,"div",1),u(1),T()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function mR(e,n){e&1&&Fe(0,"span",10)}function hR(e,n){e&1&&(Fe(0,"i",12),u(1," Confirmar bloqueo "))}var Nu=class e{idCine;bloqueo;usuarioActual;procesando=!1;errorMsg=null;infoMsg=null;route=g(fe);router=g(H);cineService=g(Ee);jwtService=g(Ie);ngOnInit(){this.idCine=this.route.snapshot.paramMap.get("id"),this.usuarioActual=this.jwtService.getUsuarioActual();let n={idUsuario:this.usuarioActual.id,fecha:new Date().toISOString().split("T")[0],monto:35};this.bloqueo={idCine:this.idCine,pago:n,dias:"30"}}confirmarBloqueo(){this.procesando=!0,this.cineService.bloquearAnuncios(this.bloqueo).subscribe({next:()=>{this.infoMsg="Anuncios bloqueados exitosamente por 30 d\xEDas.",this.router.navigate(["/ver-cine",this.idCine])},error:n=>{console.error("Error al bloquear anuncios:",n),this.errorMsg=n.error,this.procesando=!1}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-bloqueo-anuncios-component"]],decls:40,vars:9,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-5"],[1,"card","shadow-lg","spinner-border-sm"],[1,"card-body","p-4"],[1,"card-title","text-primary","mb-3","text-center"],[1,"text-muted","text-center"],[1,"mb-3"],[1,"text-center","mt-4"],[1,"btn","btn-danger","px-4",3,"click","disabled"],[1,"spinner-border","spinner-border-sm"],[1,"btn","btn-outline-secondary","ms-2","px-4",3,"click"],[1,"bi","bi-shield-exclamation"]],template:function(t,i){t&1&&(v(0,fR,2,1,"div",0),v(1,pR,2,1,"div",1),M(2,"div",2)(3,"div",3)(4,"div",4)(5,"h4",5),u(6," Confirmar bloqueo de anuncios "),T(),M(7,"p",6),u(8," Este bloqueo detendr\xE1 los anuncios en el cine durante "),M(9,"strong"),u(10,"30 d\xEDas"),T(),u(11,". "),T(),Fe(12,"hr"),M(13,"div",7)(14,"p")(15,"strong"),u(16,"ID del cine:"),T(),u(17),T(),M(18,"p")(19,"strong"),u(20,"Usuario:"),T(),u(21),T(),M(22,"p")(23,"strong"),u(24,"Fecha del pago:"),T(),u(25),T(),M(26,"p")(27,"strong"),u(28,"Monto:"),T(),u(29),T(),M(30,"p")(31,"strong"),u(32,"D\xEDas de bloqueo:"),T(),u(33),T()(),M(34,"div",8)(35,"button",9),dt("click",function(){return i.confirmarBloqueo()}),v(36,mR,1,0,"span",10)(37,hR,2,0),T(),M(38,"button",11),dt("click",function(){return i.router.navigate(["/cines",i.idCine])}),u(39," Cancelar "),T()()()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(16),E(" ",i.bloqueo.idCine),f(4),E(" ",i.bloqueo.pago.idUsuario),f(4),E(" ",i.bloqueo.pago.fecha),f(4),E(" Q",i.bloqueo.pago.monto),f(4),E(" ",i.bloqueo.dias),f(2),Hn("disabled",i.procesando),f(),C(i.procesando?36:37))},encapsulation:2})};function gR(e,n){if(e&1&&(c(0,"div",5)(1,"strong"),u(2,"Cine:"),s(),u(3),s()),e&2){let t=y();f(3),E(" ",t.nombreCine," ")}}function vR(e,n){if(e&1&&(c(0,"div",6),u(1),s()),e&2){let t=y();f(),E(" ",t.mensajeError," ")}}function CR(e,n){e&1&&u(0," La fecha de cambio es obligatoria ")}function yR(e,n){if(e&1&&(c(0,"div",11),v(1,CR,1,0),s()),e&2){let t=y();f(),C(!(t.fechaCambio==null||t.fechaCambio.errors==null)&&t.fechaCambio.errors.required?1:-1)}}function _R(e,n){e&1&&u(0," El monto es obligatorio ")}function bR(e,n){e&1&&u(0," El monto debe ser mayor a 0 ")}function ER(e,n){if(e&1&&(c(0,"div",11),v(1,_R,1,0),v(2,bR,1,0),s()),e&2){let t=y();f(),C(!(t.monto==null||t.monto.errors==null)&&t.monto.errors.required?1:-1),f(),C(!(t.monto==null||t.monto.errors==null)&&t.monto.errors.min?2:-1)}}function DR(e,n){e&1&&m(0,"span",20)}var Ru=class e{cineService=g(Ee);router=g(H);route=g(fe);fb=g(Oi);costoDiarioForm;idCine="";cargando=!1;mensajeError="";nombreCine="";fechaCambioAnterior="";ngOnInit(){if(this.idCine=this.route.snapshot.paramMap.get("id")||"",!this.idCine){this.mensajeError="No se especific\xF3 el ID del cine";return}this.inicializarFormulario(),this.cargarInfoCine(this.idCine)}inicializarFormulario(){this.costoDiarioForm=this.fb.group({fechaCambio:["",[w.required]],monto:["",[w.required,w.min(.01)]]})}cargarInfoCine(n){this.cineService.verCine(Number(n)).subscribe({next:t=>{this.nombreCine=t.nombre,this.fechaCambioAnterior=t.fechaUltimoCambioDeCosto},error:t=>{console.error("Error al cargar cine:",t),this.mensajeError="Error al cargar informaci\xF3n del cine"}})}guardarCosto(){if(this.costoDiarioForm.invalid){this.mensajeError="Por favor complete todos los campos correctamente",this.costoDiarioForm.markAllAsTouched();return}this.cargando=!0,this.mensajeError="";let n={idCine:this.idCine,fechaCambio:this.costoDiarioForm.value.fechaCambio,monto:this.costoDiarioForm.value.monto.toString()};this.cineService.crearCostoDiario(n).subscribe({next:()=>{this.router.navigate(["/ver-cine",this.idCine])},error:t=>{console.error("Error al crear costo diario:",t),this.mensajeError=t.error,this.cargando=!1}})}cancelar(){this.router.navigate(["/ver-cine",this.idCine])}get fechaCambio(){return this.costoDiarioForm.get("fechaCambio")}get monto(){return this.costoDiarioForm.get("monto")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-costo-diario-component"]],decls:31,vars:18,consts:[[1,"container","mt-5"],[1,"card","shadow-lg"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body","p-4"],[1,"alert","alert-info"],[1,"alert","alert-danger"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","fechaCambio",1,"form-label","fw-bold"],["type","date","id","fechaCambio","formControlName","fechaCambio",1,"form-control",3,"disabled"],[1,"invalid-feedback"],[1,"form-text","text-muted"],[1,"mb-4"],[1,"form-label","fw-bold"],["for","monto",1,"form-label","fw-bold"],["type","number","id","monto","formControlName","monto","min","0.01","step","0.01",1,"form-control","form-control-lg",3,"disabled"],[1,"d-flex","gap-2","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"spinner-border","spinner-border-sm","me-2"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),u(4,"Crear Costo Diario"),s()(),c(5,"div",4),v(6,gR,4,1,"div",5),v(7,vR,2,1,"div",6),c(8,"form",7),I("ngSubmit",function(){return i.guardarCosto()}),c(9,"div",8)(10,"label",9),u(11,"Fecha de Cambio"),s(),m(12,"input",10),v(13,yR,2,1,"div",11),c(14,"small",12),u(15," Fecha a partir de la cual aplica este costo. "),s()(),c(16,"div",13)(17,"label",14),u(18),Wt(19,"date"),s()(),c(20,"div",13)(21,"label",15),u(22,"Monto por D\xEDa ($)"),s(),m(23,"input",16),v(24,ER,3,2,"div",11),s(),c(25,"div",17)(26,"button",18),I("click",function(){return i.cancelar()}),u(27," Cancelar "),s(),c(28,"button",19),v(29,DR,1,0,"span",20),u(30," Crear Costo Diario "),s()()()()()()),t&2&&(f(6),C(i.nombreCine?6:-1),f(),C(i.mensajeError?7:-1),f(),D("formGroup",i.costoDiarioForm),f(4),Z("is-invalid",(i.fechaCambio==null?null:i.fechaCambio.invalid)&&(i.fechaCambio==null?null:i.fechaCambio.touched)),D("disabled",i.cargando),f(),C(i.fechaCambio!=null&&i.fechaCambio.invalid&&(i.fechaCambio!=null&&i.fechaCambio.touched)?13:-1),f(5),E("Fecha de cambio anterior: ",Zt(19,15,i.fechaCambioAnterior,"shortDate")),f(5),Z("is-invalid",(i.monto==null?null:i.monto.invalid)&&(i.monto==null?null:i.monto.touched)),D("disabled",i.cargando),f(),C(i.monto!=null&&i.monto.invalid&&(i.monto!=null&&i.monto.touched)?24:-1),f(2),D("disabled",i.cargando),f(2),D("disabled",i.cargando||i.costoDiarioForm.invalid),f(),C(i.cargando?29:-1))},dependencies:[ae,oe,J,at,ee,re,st,ne,ie,Y,mm],encapsulation:2})};function SR(e,n){e&1&&(c(0,"div",5)(1,"div",18)(2,"span",19),u(3,"Cargando..."),s()(),c(4,"p",20),u(5,"Cargando costo actual..."),s()())}function xR(e,n){if(e&1&&(c(0,"div",6)(1,"h5",3)(2,"strong"),u(3,"Costo Global Actual:"),s(),u(4),Wt(5,"number"),s(),c(6,"small",21),u(7,"Este es el costo base que se aplica a todos los cines"),s()()),e&2){let t=y();f(4),E(" $",Zt(5,1,t.costoActual,"1.2-2")," ")}}function IR(e,n){if(e&1&&(c(0,"div",7),u(1),s()),e&2){let t=y();f(),E(" ",t.mensajeError," ")}}function wR(e,n){e&1&&u(0," El monto es obligatorio ")}function TR(e,n){e&1&&u(0," El monto debe ser mayor a 0 ")}function MR(e,n){if(e&1&&(c(0,"div",12),v(1,wR,1,0),v(2,TR,1,0),s()),e&2){let t=y();f(),C(!(t.monto==null||t.monto.errors==null)&&t.monto.errors.required?1:-1),f(),C(!(t.monto==null||t.monto.errors==null)&&t.monto.errors.min?2:-1)}}function AR(e,n){e&1&&m(0,"span",17)}var Fu=class e{cineService=g(Ee);router=g(H);fb=g(Oi);costoGlobalForm;costoActual="";costoActualId="";cargando=!1;cargandoCosto=!0;mensajeError="";ngOnInit(){this.inicializarFormulario(),this.cargarCostoActual()}inicializarFormulario(){this.costoGlobalForm=this.fb.group({monto:["",[w.required,w.min(.01)]]})}cargarCostoActual(){this.cargandoCosto=!0,this.cineService.verCostoGlobal().subscribe({next:n=>{this.costoActual=n.monto,this.costoActualId=n.id||"",this.cargandoCosto=!1},error:n=>{console.error("Error al cargar costo global:",n),this.mensajeError="Error al cargar el costo global actual",this.cargandoCosto=!1}})}guardarCosto(){if(this.costoGlobalForm.invalid){this.mensajeError="Por favor ingrese un monto v\xE1lido",this.costoGlobalForm.markAllAsTouched();return}this.cargando=!0,this.mensajeError="";let n={id:this.costoActualId,monto:this.costoGlobalForm.value.monto.toString()};this.cineService.cambiarCostoGlobal(n).subscribe({next:()=>{this.cargarCostoActual(),this.costoGlobalForm.reset(),this.cargando=!1},error:t=>{console.error("Error al actualizar costo global:",t),this.mensajeError=t.error,this.cargando=!1}})}cancelar(){this.router.navigate(["/home"])}get monto(){return this.costoGlobalForm.get("monto")}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-costo-global-component"]],decls:23,vars:10,consts:[[1,"container","mt-5"],[1,"card","shadow-lg"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"card-body","p-4"],[1,"text-center","my-3"],[1,"alert","alert-info","mb-4"],[1,"alert","alert-danger"],[3,"ngSubmit","formGroup"],[1,"mb-4"],["for","monto",1,"form-label","fw-bold"],["type","number","id","monto","formControlName","monto","placeholder","Ingrese el nuevo monto","min","0.01","step","0.01",1,"form-control","form-control-lg",3,"disabled"],[1,"invalid-feedback"],[1,"form-text","text-muted"],[1,"d-flex","gap-2","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"spinner-border","spinner-border-sm","me-2"],["role","status",1,"spinner-border","text-success"],[1,"visually-hidden"],[1,"mt-2"],[1,"text-muted"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"h3",3),u(4,"Cambiar Costo Global Diario"),s()(),c(5,"div",4),v(6,SR,6,0,"div",5)(7,xR,8,4,"div",6),v(8,IR,2,1,"div",7),c(9,"form",8),I("ngSubmit",function(){return i.guardarCosto()}),c(10,"div",9)(11,"label",10),u(12,"Nuevo Costo Global ($)"),s(),m(13,"input",11),v(14,MR,3,2,"div",12),c(15,"small",13),u(16," Este costo se aplicar\xE1 globalmente a todos los cines diariamente. "),s()(),c(17,"div",14)(18,"button",15),I("click",function(){return i.cancelar()}),u(19," Cancelar "),s(),c(20,"button",16),v(21,AR,1,0,"span",17),u(22," Actualizar Costo Global "),s()()()()()()),t&2&&(f(6),C(i.cargandoCosto?6:i.costoActual?7:-1),f(2),C(i.mensajeError?8:-1),f(),D("formGroup",i.costoGlobalForm),f(4),Z("is-invalid",(i.monto==null?null:i.monto.invalid)&&(i.monto==null?null:i.monto.touched)),D("disabled",i.cargando),f(),C(i.monto!=null&&i.monto.invalid&&(i.monto!=null&&i.monto.touched)?14:-1),f(4),D("disabled",i.cargando),f(2),D("disabled",i.cargando||i.costoGlobalForm.invalid),f(),C(i.cargando?21:-1))},dependencies:[Y,ae,oe,J,at,ee,re,st,ne,ie,wn],styles:[".card[_ngcontent-%COMP%]{max-width:700px;margin:0 auto}input[type=number][_ngcontent-%COMP%]{font-size:1.2rem}.alert-info[_ngcontent-%COMP%]{background-color:#d1ecf1;border-color:#bee5eb;color:#0c5460}.alert-info[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1.3rem}"]})};var pt=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/salas";crearSala(n){return this.http.post(this.URL,n)}verSalas(){return this.http.get(this.URL)}verSala(n){return this.http.get(`${this.URL}/${n}`)}verSalasPorCine(n){return this.http.get(`${this.URL}/cine/${n}`)}editarSala(n){return this.http.put(this.URL,n)}calificarSala(n){return this.http.put(`${this.URL}/calificacion`,n)}eliminarCalificacion(n){return this.http.delete(`${this.URL}/calificacion`,{body:n})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};function NR(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function RR(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function FR(e,n){e&1&&(c(0,"div",13)(1,"small"),u(2,"El n\xFAmero de filas es requerido y debe ser mayor a 0"),s()())}function OR(e,n){e&1&&(c(0,"div",13)(1,"small"),u(2,"El n\xFAmero de columnas es requerido y debe ser mayor a 0"),s()())}var Ou=class e{errorMsg=null;infoMsg=null;salaService=g(pt);route=g(fe);router=g(H);idCine="";salaForm=new pe({filasAsientos:new R("",[w.required,w.min(1)]),columnasAsientos:new R("",[w.required,w.min(1)])});ngOnInit(){this.idCine=this.route.snapshot.paramMap.get("idCine")||"",this.idCine||(this.errorMsg="ID de cine no proporcionado")}crearSala(){if(this.salaForm.invalid){this.infoMsg="Complete todos los campos";return}let n={idCine:this.idCine,filasAsientos:this.salaForm.value.filasAsientos,columnasAsientos:this.salaForm.value.columnasAsientos};this.salaService.crearSala(n).subscribe({next:()=>{this.infoMsg="Sala creada exitosamente",this.salaForm.reset()},error:t=>{this.errorMsg=t.error||"Error al crear la sala"}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-crear-sala-component"]],decls:25,vars:6,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","filasAsientos",1,"form-label"],["type","number","id","filasAsientos","formControlName","filasAsientos","placeholder","Ingrese el n\xFAmero de filas","min","1",1,"form-control"],[1,"text-danger","mt-1"],["for","columnasAsientos",1,"form-label"],["type","number","id","columnasAsientos","formControlName","columnasAsientos","placeholder","Ingrese el n\xFAmero de columnas","min","1",1,"form-control"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-plus-circle"]],template:function(t,i){if(t&1&&(v(0,NR,2,1,"div",0),v(1,RR,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),u(8,"Crear Nueva Sala"),s()(),c(9,"div",8)(10,"form",9),I("ngSubmit",function(){return i.crearSala()}),c(11,"div",10)(12,"label",11),u(13,"N\xFAmero de Filas"),s(),m(14,"input",12),v(15,FR,3,0,"div",13),s(),c(16,"div",10)(17,"label",14),u(18,"N\xFAmero de Columnas"),s(),m(19,"input",15),v(20,OR,3,0,"div",13),s(),c(21,"div",16)(22,"button",17),m(23,"i",18),u(24," Crear Sala "),s()()()()()()()()),t&2){let r,o;C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(9),D("formGroup",i.salaForm),f(5),C((r=i.salaForm.get("filasAsientos"))!=null&&r.invalid&&((r=i.salaForm.get("filasAsientos"))!=null&&r.touched)?15:-1),f(5),C((o=i.salaForm.get("columnasAsientos"))!=null&&o.invalid&&((o=i.salaForm.get("columnasAsientos"))!=null&&o.touched)?20:-1),f(2),D("disabled",i.salaForm.invalid)}},dependencies:[ae,oe,J,at,ee,re,st,ne,ie,Y],encapsulation:2})};var PR=e=>["/ver-sala",e],kR=e=>["/ver-cine",e],LR=(e,n)=>n.id;function VR(e,n){e&1&&u(0," Salas del Cine ")}function jR(e,n){e&1&&u(0," Todas las Salas ")}function UR(e,n){e&1&&(c(0,"div",3)(1,"div",6)(2,"span",7),u(3,"Cargando..."),s()(),c(4,"p",8),u(5,"Cargando salas..."),s()())}function BR(e,n){e&1&&(c(0,"div",4),m(1,"i",9),u(2," No hay salas disponibles. "),s())}function $R(e,n){if(e&1&&(c(0,"tr")(1,"td")(2,"a",12),m(3,"i",13),u(4),s()(),c(5,"td")(6,"a",12),m(7,"i",14),u(8),s()(),c(9,"td"),u(10),s(),c(11,"td"),u(12),s(),c(13,"td")(14,"span",15),u(15),s()(),c(16,"td")(17,"span",15),u(18),s()(),c(19,"td")(20,"span",15),u(21),s()()()),e&2){let t=n.$implicit,i=y(2);f(2),D("routerLink",Ue(21,PR,t.id)),f(2),E(" ",t.id," "),f(2),D("routerLink",Ue(23,kR,t.idCine)),f(2),E(" ",t.idCine," "),f(2),K(t.filasAsientos),f(2),K(t.columnasAsientos),f(2),Z("bg-danger",t.calificacionesBloqueadas==="true")("bg-success",t.calificacionesBloqueadas!=="true"),f(),E(" ",i.obtenerTextoBooleano(t.calificacionesBloqueadas)," "),f(2),Z("bg-danger",t.comentariosBloqueados==="true")("bg-success",t.comentariosBloqueados!=="true"),f(),E(" ",i.obtenerTextoBooleano(t.comentariosBloqueados)," "),f(2),Z("bg-success",t.visible==="true")("bg-secondary",t.visible!=="true"),f(),E(" ",i.obtenerTextoBooleano(t.visible)," ")}}function HR(e,n){if(e&1&&(c(0,"div",5)(1,"table",10)(2,"thead",11)(3,"tr")(4,"th"),u(5,"Sala"),s(),c(6,"th"),u(7,"Cine"),s(),c(8,"th"),u(9,"Filas"),s(),c(10,"th"),u(11,"Columnas"),s(),c(12,"th"),u(13,"Calificaciones Bloqueadas"),s(),c(14,"th"),u(15,"Comentarios Bloqueados"),s(),c(16,"th"),u(17,"Visible"),s()()(),c(18,"tbody"),G(19,$R,22,25,"tr",null,LR),s()()()),e&2){let t=y();f(19),z(t.salas)}}var as=class e{salaService=g(pt);route=g(fe);router=g(H);cineService=g(Ee);anuncioService=g(Ge);salas=[];cargando=!0;idCine;ngOnInit(){this.idCine=this.route.snapshot.paramMap.get("idCine")||void 0,this.idCine?this.salaService.verSalasPorCine(this.idCine).subscribe({next:n=>{this.salas=n,this.cargando=!1,this.cineService.verCine(Number(this.idCine)).subscribe({next:t=>{console.log("cine en salas: ",t),t.bloqueoActivo!=null&&this.anuncioService.setMostrarAnuncios(!t.bloqueoActivo)},error:t=>{console.error("Error al cargar cine:",t)}})},error:n=>{console.error("Error al cargar salas del cine:",n),this.cargando=!1}}):this.salaService.verSalas().subscribe({next:n=>{this.salas=n,this.cargando=!1},error:n=>{console.error("Error al cargar salas:",n),this.cargando=!1}})}ngOnDestroy(){this.anuncioService.setMostrarAnuncios(!0)}obtenerTextoBooleano(n){return n==="true"?"S\xED":"No"}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-ver-salas-component"]],decls:8,vars:2,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"text-primary"],[1,"text-center","my-5"],[1,"alert","alert-info","text-center","my-5"],[1,"table-responsive"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"bi","bi-info-circle"],[1,"table","table-striped","table-hover","shadow-sm"],[1,"table-dark"],[1,"text-decoration-none",3,"routerLink"],[1,"bi","bi-door-open"],[1,"bi","bi-building"],[1,"badge"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),v(3,VR,1,0)(4,jR,1,0),s()(),v(5,UR,6,0,"div",3)(6,BR,3,0,"div",4)(7,HR,21,0,"div",5),s()),t&2&&(f(3),C(i.idCine?3:4),f(2),C(i.cargando?5:i.salas.length===0?6:7))},dependencies:[Y,$e],encapsulation:2})};var Pu=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/comentarios";crearComentarioSala(n){return this.http.post(`${this.URL}/sala`,n)}crearComentarioPelicula(n){return this.http.post(`${this.URL}/pelicula`,n)}editarComentario(n){return this.http.patch(this.URL,n)}eliminarComentario(n){return this.http.delete(`${this.URL}/${n}`)}verComentario(n){return this.http.get(`${this.URL}/${n}`)}verComentariosSala(n){return this.http.get(`${this.URL}/sala/${n}`)}verComentariosPelicula(n){return this.http.get(`${this.URL}/pelicula/${n}`)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var GR=e=>["/perfil",e],zR=(e,n)=>n.comentario.id;function qR(e,n){if(e&1&&(c(0,"div",1),m(1,"i",12),u(2),s()),e&2){let t=y();f(2),E(" ",t.errorMsg," ")}}function WR(e,n){if(e&1&&(c(0,"div",2),m(1,"i",13),u(2),s()),e&2){let t=y();f(2),E(" ",t.infoMsg," ")}}function ZR(e,n){e&1&&(c(0,"div",8),m(1,"i",14),u(2," Los comentarios est\xE1n bloqueados "),s())}function YR(e,n){if(e&1){let t=V();c(0,"div",15)(1,"label",16),u(2,"Agregar un comentario"),s(),c(3,"textarea",17),ga("ngModelChange",function(r){P(t);let o=y();return ec(o.nuevoComentario,r)||(o.nuevoComentario=r),k(r)}),s()(),c(4,"button",18),I("click",function(){P(t);let r=y();return k(r.agregarComentario())}),m(5,"i",19),u(6," Publicar comentario "),s()}if(e&2){let t=y();f(3),ha("ngModel",t.nuevoComentario),D("disabled",t.comentariosBloqueados),f(),D("disabled",!t.nuevoComentario.trim()||t.comentariosBloqueados)}}function QR(e,n){e&1&&(c(0,"div",9)(1,"div",20)(2,"span",21),u(3,"Cargando comentarios..."),s()()())}function KR(e,n){e&1&&(c(0,"div",10),m(1,"i",22),u(2," No hay comentarios. "),s())}function JR(e,n){if(e&1){let t=V();c(0,"div",29)(1,"button",31),I("click",function(){P(t);let r=y().$implicit,o=y(2);return k(o.iniciarEdicion(r))}),m(2,"i",32),s(),c(3,"button",33),I("click",function(){P(t);let r=y().$implicit,o=y(2);return k(o.eliminarComentario(r.comentario.id))}),m(4,"i",34),s()()}}function XR(e,n){if(e&1){let t=V();c(0,"div",30)(1,"textarea",35),ga("ngModelChange",function(r){P(t);let o=y(3);return ec(o.contenidoEditando,r)||(o.contenidoEditando=r),k(r)}),s(),c(2,"div",36)(3,"button",37),I("click",function(){P(t);let r=y(3);return k(r.guardarEdicion())}),m(4,"i",38),u(5," Guardar "),s(),c(6,"button",39),I("click",function(){P(t);let r=y(3);return k(r.cancelarEdicion())}),m(7,"i",40),u(8," Cancelar "),s()()()}if(e&2){let t=y(3);f(),ha("ngModel",t.contenidoEditando),f(2),D("disabled",!t.contenidoEditando.trim())}}function eF(e,n){if(e&1&&(c(0,"p",5),u(1),s()),e&2){let t=y().$implicit;f(),K(t.comentario.contenido)}}function tF(e,n){if(e&1&&(c(0,"div",23)(1,"div",7)(2,"div",24)(3,"div")(4,"h6",25),m(5,"i",26),u(6),s(),c(7,"small",27),m(8,"i",28),u(9),s()(),v(10,JR,5,0,"div",29),s(),v(11,XR,9,2,"div",30)(12,eF,2,1,"p",5),s()()),e&2){let t=n.$implicit,i=y(2);D("id","comentario-"+t.comentario.id),f(4),D("routerLink",Ue(6,GR,t.comentario.usuario==null?null:t.comentario.usuario.id)),f(2),E(" ",(t.comentario.usuario==null?null:t.comentario.usuario.nombre)||"Usuario"," "),f(3),E(" ",i.formatearFecha(t.comentario.fecha)," "),f(),C(i.esComentarioDelUsuario(t)&&i.comentarioEditando!==t.comentario.id?10:-1),f(),C(i.comentarioEditando===t.comentario.id?11:12)}}function nF(e,n){if(e&1&&(c(0,"div",11),G(1,tF,13,8,"div",23,zR),s()),e&2){let t=y();f(),z(t.comentarios)}}var xo=class e{tipo="sala";entidadId;comentariosBloqueados=!1;comentarioService=g(Pu);jwtService=g(Ie);comentarios=[];nuevoComentario="";cargando=!1;errorMsg=null;infoMsg=null;comentarioEditando=null;contenidoEditando="";ngOnInit(){this.cargarComentarios()}cargarComentarios(n){this.cargando=!0,this.errorMsg=null,this.tipo==="sala"?this.comentarioService.verComentariosSala(this.entidadId).subscribe({next:t=>{this.comentarios=t,this.cargando=!1,n&&this.enfocarComentario(n)},error:t=>{this.errorMsg=t.error||"Error al cargar los comentarios",this.cargando=!1}}):this.comentarioService.verComentariosPelicula(this.entidadId).subscribe({next:t=>{this.comentarios=t,this.cargando=!1,n&&this.enfocarComentario(n)},error:t=>{this.errorMsg=t.error||"Error al cargar los comentarios",this.cargando=!1}})}enfocarComentario(n){setTimeout(()=>{let t=document.getElementById(`comentario-${n}`);t&&(t.scrollIntoView({behavior:"smooth",block:"center"}),t.classList.add("comentario-destacado"),setTimeout(()=>{t.classList.remove("comentario-destacado")},2e3))},100)}agregarComentario(){if(!this.nuevoComentario.trim()){this.errorMsg="El comentario no puede estar vac\xEDo";return}if(this.comentariosBloqueados){this.errorMsg="Los comentarios est\xE1n bloqueados";return}if(this.errorMsg=null,this.infoMsg=null,this.tipo==="sala"){let n={comentario:{contenido:this.nuevoComentario},idSala:this.entidadId};this.comentarioService.crearComentarioSala(n).subscribe({next:()=>{this.infoMsg="Comentario agregado exitosamente",this.nuevoComentario="",this.cargarComentarios()},error:t=>{this.errorMsg=t.error||"Error al agregar el comentario"}})}else{let n={comentario:{contenido:this.nuevoComentario},idPelicula:this.entidadId};this.comentarioService.crearComentarioPelicula(n).subscribe({next:()=>{this.infoMsg="Comentario agregado exitosamente",this.nuevoComentario="",this.cargarComentarios()},error:t=>{this.errorMsg=t.error||"Error al agregar el comentario"}})}}iniciarEdicion(n){this.comentarioEditando=n.comentario.id,this.contenidoEditando=n.comentario.contenido,this.errorMsg=null,this.infoMsg=null}cancelarEdicion(){this.comentarioEditando=null,this.contenidoEditando=""}guardarEdicion(){if(!this.contenidoEditando.trim()){this.errorMsg="El comentario no puede estar vac\xEDo";return}let n=this.comentarioEditando,t={id:n,contenido:this.contenidoEditando};this.comentarioService.editarComentario(t).subscribe({next:()=>{this.infoMsg="Comentario editado exitosamente",this.comentarioEditando=null,this.contenidoEditando="",this.cargarComentarios(n)},error:i=>{this.errorMsg=i.error||"Error al editar el comentario"}})}eliminarComentario(n){confirm("\xBFEst\xE1s seguro de que deseas eliminar este comentario?")&&this.comentarioService.eliminarComentario(Number(n)).subscribe({next:()=>{this.infoMsg="Comentario eliminado exitosamente",this.cargarComentarios()},error:t=>{this.errorMsg=t.error||"Error al eliminar el comentario"}})}esComentarioDelUsuario(n){let t=this.jwtService.getUsuarioActual();return n.comentario.idUsuario===t.id?.toString()}formatearFecha(n){return n?new Date(n).toLocaleDateString("es-ES",{year:"numeric",month:"long",day:"numeric"}):""}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-comentarios-component"]],inputs:{tipo:"tipo",entidadId:"entidadId",comentariosBloqueados:"comentariosBloqueados"},decls:14,vars:4,consts:[[1,"comentarios-container"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[1,"card","mb-4"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-chat-left-text"],[1,"card-body"],[1,"alert","alert-warning"],[1,"text-center","my-4"],[1,"alert","alert-info","text-center"],[1,"comentarios-lista"],[1,"bi","bi-exclamation-triangle"],[1,"bi","bi-check-circle"],[1,"bi","bi-lock-fill"],[1,"mb-3"],["for","nuevoComentario",1,"form-label"],["id","nuevoComentario","rows","3","placeholder","Escribe tu comentario aqu\xED...",1,"form-control",3,"ngModelChange","ngModel","disabled"],[1,"btn","btn-primary",3,"click","disabled"],[1,"bi","bi-send"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"bi","bi-info-circle"],[1,"card","mb-3",3,"id"],[1,"d-flex","justify-content-between","align-items-start","mb-2"],[1,"mb-0",2,"cursor","pointer",3,"routerLink"],[1,"bi","bi-person-circle"],[1,"text-muted"],[1,"bi","bi-calendar3"],[1,"btn-group"],[1,"mt-2"],["title","Editar comentario",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"bi","bi-pencil"],["title","Eliminar comentario",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],["rows","3",1,"form-control","mb-2",3,"ngModelChange","ngModel"],[1,"d-flex","gap-2"],[1,"btn","btn-sm","btn-success",3,"click","disabled"],[1,"bi","bi-check-lg"],[1,"btn","btn-sm","btn-secondary",3,"click"],[1,"bi","bi-x-lg"]],template:function(t,i){t&1&&(c(0,"div",0),v(1,qR,3,1,"div",1),v(2,WR,3,1,"div",2),c(3,"div",3)(4,"div",4)(5,"h5",5),m(6,"i",6),u(7," Comentarios "),s()(),c(8,"div",7),v(9,ZR,3,0,"div",8)(10,YR,7,3),s()(),v(11,QR,4,0,"div",9)(12,KR,3,0,"div",10)(13,nF,3,0,"div",11),s()),t&2&&(f(),C(i.errorMsg?1:-1),f(),C(i.infoMsg?2:-1),f(7),C(i.comentariosBloqueados?9:10),f(2),C(i.cargando?11:i.comentarios.length===0?12:13))},dependencies:[Y,q_,J,ee,Ch,$e],styles:[".comentarios-container[_ngcontent-%COMP%]{padding:1rem 0}.comentarios-lista[_ngcontent-%COMP%]{max-height:600px;overflow-y:auto}.card[_ngcontent-%COMP%]{transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{box-shadow:0 4px 8px #0000001a}textarea.form-control[_ngcontent-%COMP%]{resize:vertical}.comentario-destacado[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_destacar 2s ease}@keyframes _ngcontent-%COMP%_destacar{0%{background-color:#fff3cd;transform:scale(1)}50%{background-color:#fff3cd;transform:scale(1.02)}to{background-color:transparent;transform:scale(1)}}"]})};var iF=e=>["/ver-cine",e],rF=()=>[1,2,3,4,5];function oF(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function aF(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function sF(e,n){e&1&&(c(0,"div",3)(1,"div",6)(2,"span",7),u(3,"Cargando..."),s()(),c(4,"p",8),u(5,"Cargando informaci\xF3n de la sala..."),s()())}function lF(e,n){e&1&&(c(0,"div",4),m(1,"i",9),u(2," No se encontr\xF3 informaci\xF3n de la sala. "),s())}function cF(e,n){if(e&1){let t=V();c(0,"div",33)(1,"button",34),m(2,"i",35),s(),c(3,"ul",36)(4,"li")(5,"a",37),I("click",function(){P(t);let r=y(3);return k(r.editarSala(r.sala))}),m(6,"i",38),u(7," Editar "),s()()()()}}function uF(e,n){if(e&1&&v(0,cF,8,0,"div",33),e&2){let t=y(2);C(t.usuarioActual.id===+((t.cine==null?null:t.cine.idUsuarioCreador)??0)?0:-1)}}function dF(e,n){e&1&&m(0,"i",43)}function fF(e,n){e&1&&m(0,"i",52)}function pF(e,n){if(e&1&&v(0,dF,1,0,"i",43)(1,fF,1,0,"i",52),e&2){let t=n.$implicit;C(t===1?0:1)}}function mF(e,n){if(e&1){let t=V();c(0,"i",53),I("click",function(){let r=P(t).$implicit,o=y(3);return k(o.seleccionarCalificacion(r))}),s()}if(e&2){let t=n.$implicit,i=y(3);Z("bi-star-fill",i.sala.calificacionDelUsuarioActual&&i.sala.calificacionDelUsuarioActual>=t)("bi-star",!i.sala.calificacionDelUsuarioActual||i.sala.calificacionDelUsuarioActual<t)("text-primary",i.sala.calificacionDelUsuarioActual&&i.sala.calificacionDelUsuarioActual>=t)("text-muted",!i.sala.calificacionDelUsuarioActual||i.sala.calificacionDelUsuarioActual<t),D("title","Calificar con "+t+" estrella"+(t>1?"s":""))}}function hF(e,n){if(e&1){let t=V();c(0,"button",54),I("click",function(){P(t);let r=y(3);return k(r.seleccionarCalificacion(0))}),m(1,"i",55),u(2," Eliminar calificaci\xF3n "),s()}}function gF(e,n){e&1&&(c(0,"p",51),m(1,"i",56),u(2," Haz clic en las estrellas para calificar "),s())}function vF(e,n){if(e&1&&(c(0,"div",29)(1,"div",39)(2,"div",40)(3,"div",41)(4,"h5",42),m(5,"i",43),u(6," Calificaci\xF3n General "),s(),c(7,"div",44),G(8,pF,2,1,null,null,Dn),s(),c(10,"p",45),u(11),s()()()(),c(12,"div",39)(13,"div",40)(14,"div",41)(15,"h5",42),m(16,"i",46),u(17," Tu Calificaci\xF3n "),s(),c(18,"div",47),G(19,mF,1,9,"i",48,Dn),s(),c(21,"p",49),u(22),s(),v(23,hF,3,0,"button",50)(24,gF,3,0,"p",51),s()()()()),e&2){let t=y(2);f(8),z(t.obtenerEstrellas(t.sala.calificacion)),f(3),E(" ",t.sala.calificacion||0," / 5 "),f(8),z(Si(3,rF)),f(3),E(" ",t.sala.calificacionDelUsuarioActual||0," / 5 "),f(),C(t.sala.calificacionDelUsuarioActual&&t.sala.calificacionDelUsuarioActual>0?23:24)}}function CF(e,n){e&1&&(c(0,"div",30),m(1,"i",57),u(2," Las calificaciones est\xE1n bloqueadas para esta sala "),s())}function yF(e,n){if(e&1&&(c(0,"div",5)(1,"div",10)(2,"div",11)(3,"div",12)(4,"h3",13),m(5,"i",14),u(6),s(),v(7,uF,1,1),s(),c(8,"div",15)(9,"div",16)(10,"div",17)(11,"p",18)(12,"strong"),m(13,"i",19),u(14," Sala:"),s(),u(15),s()(),c(16,"div",17)(17,"p",18)(18,"strong"),m(19,"i",20),u(20," Cine:"),s(),c(21,"a",21),u(22),s()()()(),c(23,"div",16)(24,"div",17)(25,"p",18)(26,"strong"),m(27,"i",22),u(28," Filas de Asientos:"),s(),u(29),s()(),c(30,"div",17)(31,"p",18)(32,"strong"),m(33,"i",23),u(34," Columnas de Asientos:"),s(),u(35),s()()(),c(36,"div",16)(37,"div",24)(38,"p",18)(39,"strong"),m(40,"i",25),u(41," Calificaciones:"),s(),c(42,"span",26),u(43),s()()(),c(44,"div",24)(45,"p",18)(46,"strong"),m(47,"i",27),u(48," Comentarios:"),s(),c(49,"span",26),u(50),s()()(),c(51,"div",24)(52,"p",18)(53,"strong"),m(54,"i",28),u(55," Visible:"),s(),c(56,"span",26),u(57),s()()()(),m(58,"hr"),v(59,vF,25,4,"div",29)(60,CF,3,0,"div",30),s()(),c(61,"div",31),m(62,"app-comentarios-component",32),s()()()),e&2){let t=y();f(6),E(" Sala #",t.sala.id," "),f(),C(t.usuarioActual.rol==="ADMINISTRADOR_CINES"||t.usuarioActual.rol==="ADMINISTRADOR_SISTEMA"?7:-1),f(8),E(" ",t.sala.id," "),f(6),D("routerLink",Ue(25,iF,t.sala.idCine)),f(),E(" ",t.sala.idCine," "),f(7),E(" ",t.sala.filasAsientos," "),f(6),E(" ",t.sala.columnasAsientos," "),f(7),Z("bg-danger",t.sala.calificacionesBloqueadas==="true")("bg-success",t.sala.calificacionesBloqueadas!=="true"),f(),E(" ",t.sala.calificacionesBloqueadas==="true"?"Bloqueadas":"Activas"," "),f(6),Z("bg-danger",t.sala.comentariosBloqueados==="true")("bg-success",t.sala.comentariosBloqueados!=="true"),f(),E(" ",t.sala.comentariosBloqueados==="true"?"Bloqueados":"Activos"," "),f(6),Z("bg-success",t.sala.visible==="true")("bg-secondary",t.sala.visible!=="true"),f(),E(" ",t.obtenerTextoBooleano(t.sala.visible)," "),f(2),C(t.sala.calificacionesBloqueadas!=="true"?59:60),f(3),D("entidadId",+t.sala.id)("comentariosBloqueados",t.sala.comentariosBloqueados==="true")}}var ku=class e{errorMsg=null;infoMsg=null;salaService=g(pt);route=g(fe);router=g(H);jwtService=g(Ie);cineService=g(Ee);anuncioService=g(Ge);cine;sala;cargando=!0;usuarioActual=this.jwtService.getUsuarioActual();ngOnInit(){this.cargarSala()}ngOnDestroy(){this.anuncioService.setMostrarAnuncios(!0)}cargarSala(){let n=this.route.snapshot.paramMap.get("id");n&&this.salaService.verSala(n).subscribe({next:t=>{this.sala=t,console.log(t),this.cargando=!1,this.cineService.verCine(Number(this.sala?.idCine)).subscribe({next:i=>{this.cine=i,console.log("cine en sala: ",this.cine),i.bloqueoActivo!=null&&this.anuncioService.setMostrarAnuncios(!i.bloqueoActivo)},error:i=>{console.error("Error al cargar cine:",i)}})},error:t=>{this.errorMsg=t.error||"Error al cargar la sala",this.cargando=!1}})}obtenerTextoBooleano(n){return n==="true"?"S\xED":"No"}obtenerEstrellas(n){let t=n||0;return Array(5).fill(0).map((i,r)=>r<t?1:0)}editarSala(n){this.router.navigate(["/editar-sala",n.id])}seleccionarCalificacion(n){!this.sala||this.sala.calificacionesBloqueadas==="true"||(n===0?this.eliminarCalificacion():n>=1&&n<=5&&this.guardarCalificacion(n))}guardarCalificacion(n){if(!this.sala)return;let t={valor:n.toString(),idSala:this.sala.id};this.salaService.calificarSala(t).subscribe({next:()=>{this.infoMsg="Calificaci\xF3n guardada exitosamente",this.cargarSala()},error:i=>{this.errorMsg=i.error||"Error al guardar la calificaci\xF3n"}})}eliminarCalificacion(){if(!this.sala||!this.sala.idCalificacionUsuario){this.errorMsg="No hay calificaci\xF3n para eliminar";return}let n={id:String(this.sala.idCalificacionUsuario),idUsuario:this.usuarioActual.id?.toString(),valor:"0",idSala:this.sala.id};this.salaService.eliminarCalificacion(n).subscribe({next:()=>{this.infoMsg="Calificaci\xF3n eliminada exitosamente",this.cargarSala()},error:t=>{this.errorMsg=t.error||"Error al eliminar la calificaci\xF3n"}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-ver-sala-component"]],decls:6,vars:3,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-5"],[1,"text-center","my-5"],[1,"alert","alert-danger","text-center","my-5"],[1,"row","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"bi","bi-exclamation-triangle"],[1,"col-lg-8"],[1,"card","shadow-lg"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-door-open"],[1,"card-body","p-4"],[1,"row","mb-3"],[1,"col-md-6"],[1,"mb-2"],[1,"bi","bi-hash"],[1,"bi","bi-building"],[1,"text-decoration-none","ms-1",3,"routerLink"],[1,"bi","bi-layout-three-columns"],[1,"bi","bi-grid-3x3"],[1,"col-md-4"],[1,"bi","bi-star"],[1,"badge","ms-1"],[1,"bi","bi-chat-left-text"],[1,"bi","bi-eye"],[1,"row"],[1,"alert","alert-warning","text-center"],[1,"mt-4"],["tipo","sala",3,"entidadId","comentariosBloqueados"],[1,"dropdown"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-light","btn-sm"],[1,"bi","bi-three-dots-vertical"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"bi","bi-pencil"],[1,"col-md-6","mb-3"],[1,"card","bg-light"],[1,"card-body","text-center"],[1,"card-title","text-muted","mb-3"],[1,"bi","bi-star-fill","text-warning"],[1,"fs-3"],[1,"text-muted","mt-2","mb-0"],[1,"bi","bi-person-fill","text-primary"],[1,"fs-3","mb-3"],[1,"bi","cursor-pointer",2,"cursor","pointer",3,"bi-star-fill","bi-star","text-primary","text-muted","title"],[1,"text-muted","mb-2"],["title","Eliminar mi calificaci\xF3n",1,"btn","btn-sm","btn-outline-danger"],[1,"text-muted","small"],[1,"bi","bi-star","text-muted"],[1,"bi","cursor-pointer",2,"cursor","pointer",3,"click","title"],["title","Eliminar mi calificaci\xF3n",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],[1,"bi","bi-info-circle"],[1,"bi","bi-lock-fill"]],template:function(t,i){t&1&&(v(0,oF,2,1,"div",0),v(1,aF,2,1,"div",1),c(2,"div",2),v(3,sF,6,0,"div",3)(4,lF,3,0,"div",4)(5,yF,63,27,"div",5),s()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(2),C(i.cargando?3:i.sala?5:4))},dependencies:[Y,$e,xo],encapsulation:2})};function _F(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function bF(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function EF(e,n){e&1&&(c(0,"div",9)(1,"div",11)(2,"span",12),u(3,"Cargando..."),s()(),c(4,"p",13),u(5,"Cargando informaci\xF3n de la sala..."),s()())}function DF(e,n){e&1&&(c(0,"div",19)(1,"small"),u(2,"El n\xFAmero de filas es requerido y debe ser mayor a 0"),s()())}function SF(e,n){e&1&&(c(0,"div",19)(1,"small"),u(2,"El n\xFAmero de columnas es requerido y debe ser mayor a 0"),s()())}function xF(e,n){if(e&1){let t=V();c(0,"form",14),I("ngSubmit",function(){P(t);let r=y();return k(r.editarSala())}),c(1,"div",15)(2,"div",16)(3,"label",17),u(4,"N\xFAmero de Filas"),s(),m(5,"input",18),v(6,DF,3,0,"div",19),s(),c(7,"div",16)(8,"label",20),u(9,"N\xFAmero de Columnas"),s(),m(10,"input",21),v(11,SF,3,0,"div",19),s()(),c(12,"div",22)(13,"div",23),m(14,"input",24),c(15,"label",25),m(16,"i",26),u(17," Bloquear Calificaciones "),s()(),c(18,"div",23),m(19,"input",27),c(20,"label",28),m(21,"i",29),u(22," Bloquear Comentarios "),s()(),c(23,"div",30),m(24,"input",31),c(25,"label",32),m(26,"i",33),u(27," Sala Visible "),s()()(),c(28,"div",34)(29,"button",35),m(30,"i",36),u(31," Guardar Cambios "),s()()()}if(e&2){let t,i,r=y();D("formGroup",r.salaForm),f(6),C((t=r.salaForm.get("filasAsientos"))!=null&&t.invalid&&((t=r.salaForm.get("filasAsientos"))!=null&&t.touched)?6:-1),f(5),C((i=r.salaForm.get("columnasAsientos"))!=null&&i.invalid&&((i=r.salaForm.get("columnasAsientos"))!=null&&i.touched)?11:-1),f(18),D("disabled",r.salaForm.invalid)}}var Lu=class e{errorMsg=null;infoMsg=null;salaService=g(pt);route=g(fe);router=g(H);idSala="";idCine="";cargando=!0;salaForm=new pe({filasAsientos:new R("",[w.required,w.min(1)]),columnasAsientos:new R("",[w.required,w.min(1)]),calificacionesBloqueadas:new R(!1),comentariosBloqueados:new R(!1),visible:new R(!0)});ngOnInit(){if(this.idSala=this.route.snapshot.paramMap.get("id")||"",!this.idSala){this.errorMsg="ID de sala no proporcionado",this.cargando=!1;return}this.cargarSala()}cargarSala(){this.salaService.verSala(this.idSala).subscribe({next:n=>{this.idCine=n.idCine,this.salaForm.patchValue({filasAsientos:n.filasAsientos,columnasAsientos:n.columnasAsientos,calificacionesBloqueadas:n.calificacionesBloqueadas==="true",comentariosBloqueados:n.comentariosBloqueados==="true",visible:n.visible==="true"}),this.cargando=!1},error:n=>{this.errorMsg=n.error||"Error al cargar la sala",this.cargando=!1}})}editarSala(){if(this.salaForm.invalid){this.errorMsg="Complete todos los campos";return}let n={id:this.idSala,idCine:this.idCine,filasAsientos:this.salaForm.value.filasAsientos,columnasAsientos:this.salaForm.value.columnasAsientos,calificacionesBloqueadas:this.salaForm.value.calificacionesBloqueadas?"true":"false",comentariosBloqueados:this.salaForm.value.comentariosBloqueados?"true":"false",visible:this.salaForm.value.visible?"true":"false"};this.salaService.editarSala(n).subscribe({next:()=>{this.infoMsg="Sala editada exitosamente",this.router.navigate(["/ver-sala",this.idSala])},error:t=>{this.errorMsg=t.error||"Error al editar la sala"}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-editar-sala-component"]],decls:12,vars:4,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"card-body"],[1,"text-center","my-5"],[3,"formGroup"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[3,"ngSubmit","formGroup"],[1,"row","mb-3"],[1,"col-md-6"],["for","filasAsientos",1,"form-label"],["type","number","id","filasAsientos","formControlName","filasAsientos","placeholder","Ingrese el n\xFAmero de filas","min","1",1,"form-control"],[1,"text-danger","mt-1"],["for","columnasAsientos",1,"form-label"],["type","number","id","columnasAsientos","formControlName","columnasAsientos","placeholder","Ingrese el n\xFAmero de columnas","min","1",1,"form-control"],[1,"mb-3"],[1,"form-check","mb-2"],["type","checkbox","id","calificacionesBloqueadas","formControlName","calificacionesBloqueadas",1,"form-check-input"],["for","calificacionesBloqueadas",1,"form-check-label"],[1,"bi","bi-star"],["type","checkbox","id","comentariosBloqueados","formControlName","comentariosBloqueados",1,"form-check-input"],["for","comentariosBloqueados",1,"form-check-label"],[1,"bi","bi-chat-left-text"],[1,"form-check"],["type","checkbox","id","visible","formControlName","visible",1,"form-check-input"],["for","visible",1,"form-check-label"],[1,"bi","bi-eye"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-save"]],template:function(t,i){t&1&&(v(0,_F,2,1,"div",0),v(1,bF,2,1,"div",1),c(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"h3",7),u(8),s()(),c(9,"div",8),v(10,EF,6,0,"div",9)(11,xF,32,4,"form",10),s()()()()()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(7),E("Editar Sala #",i.idSala),f(2),C(i.cargando?10:11))},dependencies:[Y,ae,oe,J,at,ns,ee,re,st,ne,ie],encapsulation:2})};var IF=(e,n)=>n.codigo,wF=(e,n)=>n.id;function TF(e,n){if(e&1){let t=V();c(0,"div",7),m(1,"i",52),u(2),c(3,"button",53),I("click",function(){P(t);let r=y();return k(r.errorMsg=null)}),s()()}if(e&2){let t=y();f(2),E(" ",t.errorMsg," ")}}function MF(e,n){if(e&1){let t=V();c(0,"div",8),m(1,"i",54),u(2),c(3,"button",53),I("click",function(){P(t);let r=y();return k(r.infoMsg=null)}),s()()}if(e&2){let t=y();f(2),E(" ",t.infoMsg," ")}}function AF(e,n){if(e&1&&(c(0,"div",14),m(1,"img",55),s()),e&2){let t=y();f(),D("src",t.imagenPreview,Xe)}}function NF(e,n){e&1&&(c(0,"small",15),u(1," Seleccione una imagen para la pel\xEDcula (PNG, JPEG, GIF) "),s())}function RF(e,n){if(e&1&&(c(0,"small",16),m(1,"i",56),u(2),s()),e&2){let t=y();f(2),E(" Imagen seleccionada: ",t.imagenSeleccionada.name," ")}}function FF(e,n){if(e&1&&(c(0,"option",21),u(1),s()),e&2){let t=n.$implicit;D("value",t.codigo),f(),Nt(" ",t.codigo," - ",t.descripcion," ")}}function OF(e,n){e&1&&(c(0,"div",22),u(1," La clasificaci\xF3n es requerida "),s())}function PF(e,n){e&1&&(c(0,"div",22),u(1," El t\xEDtulo es requerido (m\xE1ximo 200 caracteres) "),s())}function kF(e,n){e&1&&(c(0,"div",22),u(1," La sinopsis es requerida "),s())}function LF(e,n){e&1&&(c(0,"div",22),u(1," La fecha de estreno es requerida "),s())}function VF(e,n){e&1&&(c(0,"div",22),u(1," La duraci\xF3n es requerida (m\xEDnimo 1 minuto) "),s())}function jF(e,n){e&1&&(c(0,"div",22),u(1," El director es requerido (m\xE1ximo 200 caracteres) "),s())}function UF(e,n){if(e&1){let t=V();c(0,"button",62),I("click",function(){P(t);let r=y().$index,o=y();return k(o.eliminarActor(r))}),m(1,"i",63),s()}}function BF(e,n){e&1&&u(0," El nombre del actor es requerido ")}function $F(e,n){e&1&&u(0," No se permiten comas en el nombre ")}function HF(e,n){if(e&1&&(c(0,"div",61),v(1,BF,1,0),v(2,$F,1,0),s()),e&2){let t=y().$implicit;f(),C(t.hasError("required")?1:-1),f(),C(t.hasError("contieneCommas")?2:-1)}}function GF(e,n){if(e&1&&(c(0,"div",57)(1,"span",58),u(2),s(),m(3,"input",59),v(4,UF,2,0,"button",60),s(),v(5,HF,3,2,"div",61)),e&2){let t=n.$implicit,i=n.$index,r=y();f(2),E("Actor ",i+1),f(),Z("is-invalid",t.invalid&&t.touched),D("formControl",t),f(),C(r.actores.length>1?4:-1),f(),C(t.invalid&&t.touched?5:-1)}}function zF(e,n){if(e&1){let t=V();c(0,"div",46)(1,"input",64),I("change",function(){let r=P(t).$implicit,o=y();return k(o.toggleCategoria(r))}),s(),c(2,"label",65),u(3),s()()}if(e&2){let t=n.$implicit,i=y();f(),D("id","categoria-"+t.id)("checked",i.estaSeleccionada(t)),f(),D("for","categoria-"+t.id),f(),E(" ",t.nombre," ")}}function qF(e,n){e&1&&(c(0,"small",15),u(1," Seleccione al menos una categor\xEDa "),s())}function WF(e,n){if(e&1&&(c(0,"small",16),m(1,"i",56),u(2),s()),e&2){let t=y();f(2),E(" ",t.categoriasSeleccionadas.length," categor\xEDa(s) seleccionada(s) ")}}var Vu=class e{errorMsg=null;infoMsg=null;peliculaService=g(xt);imagenService=g(He);router=g(H);clasificaciones=[];categorias=[];categoriasSeleccionadas=[];imagenSeleccionada=null;imagenPreview=null;peliculaForm=new pe({clasificacion:new R("",[w.required]),titulo:new R("",[w.required,w.maxLength(200)]),sinopsis:new R("",[w.required]),fechaEstreno:new R("",[w.required]),duracion:new R("",[w.required,w.min(1)]),director:new R("",[w.required,w.maxLength(200)]),actores:new Cr([new R("",[w.required,this.validarSinComas])])});ngOnInit(){this.cargarClasificaciones(),this.cargarCategorias()}get actores(){return this.peliculaForm.get("actores")}cargarClasificaciones(){this.peliculaService.verClasificaciones().subscribe({next:n=>{this.clasificaciones=n},error:n=>{this.errorMsg=n.error||"Error al cargar clasificaciones"}})}cargarCategorias(){this.peliculaService.verCategorias().subscribe({next:n=>{this.categorias=n},error:n=>{this.errorMsg=n.error||"Error al cargar categor\xEDas"}})}onImagenSeleccionada(n){let t=n.target;if(t.files&&t.files.length>0){this.imagenSeleccionada=t.files[0];let i=new FileReader;i.onload=()=>{this.imagenPreview=i.result},i.readAsDataURL(this.imagenSeleccionada)}}agregarActor(){this.actores.push(new R("",[w.required,this.validarSinComas]))}eliminarActor(n){this.actores.length>1&&this.actores.removeAt(n)}validarSinComas(n){return n.value&&n.value.includes(",")?{contieneCommas:!0}:null}toggleCategoria(n){let t=this.categoriasSeleccionadas.findIndex(i=>i.id===n.id);t===-1?this.categoriasSeleccionadas.push(n):this.categoriasSeleccionadas.splice(t,1)}estaSeleccionada(n){return this.categoriasSeleccionadas.some(t=>t.id===n.id)}crearPelicula(){if(this.peliculaForm.invalid){this.infoMsg="Complete todos los campos correctamente";return}if(this.categoriasSeleccionadas.length===0){this.infoMsg="Seleccione al menos una categor\xEDa";return}if(!this.imagenSeleccionada){this.infoMsg="Seleccione una imagen para la pel\xEDcula";return}this.imagenService.subirImagen(this.imagenSeleccionada).subscribe({next:n=>{this.crearPeliculaConImagen(n)},error:n=>{this.errorMsg=n.error||"Error al subir la imagen"}})}crearPeliculaConImagen(n){let t=this.actores.value.join(", "),i={imagen:n,clasificacion:{codigo:this.peliculaForm.value.clasificacion,descripcion:""},titulo:this.peliculaForm.value.titulo,sinopsis:this.peliculaForm.value.sinopsis,fechaEstreno:this.peliculaForm.value.fechaEstreno,duracion:this.peliculaForm.value.duracion,director:this.peliculaForm.value.director,reparto:t,categorias:this.categoriasSeleccionadas};this.peliculaService.crearPelicula(i).subscribe({next:()=>{this.infoMsg="Pel\xEDcula creada exitosamente",this.peliculaForm.reset()},error:r=>{this.errorMsg=r.error||"Error al crear la pel\xEDcula"}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-crear-pelicula-component"]],decls:85,vars:27,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","mb-4"],[1,"bi","bi-film"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"alert","alert-info","alert-dismissible","fade","show"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","imagen",1,"form-label"],[1,"bi","bi-image"],["type","file","id","imagen","accept","image/png, image/jpeg, image/gif",1,"form-control",3,"change"],[1,"text-center","mt-3"],[1,"text-muted","d-block","mt-2"],[1,"text-success","d-block","mt-2"],["for","clasificacion",1,"form-label"],[1,"bi","bi-star"],["id","clasificacion","formControlName","clasificacion",1,"form-select"],["value",""],[3,"value"],[1,"invalid-feedback","d-block"],["for","titulo",1,"form-label"],[1,"bi","bi-card-heading"],["type","text","id","titulo","formControlName","titulo","placeholder","Ingrese el t\xEDtulo de la pel\xEDcula",1,"form-control"],["for","sinopsis",1,"form-label"],[1,"bi","bi-text-paragraph"],["id","sinopsis","formControlName","sinopsis","rows","4","placeholder","Ingrese la sinopsis de la pel\xEDcula",1,"form-control"],[1,"row"],[1,"col-md-6","mb-3"],["for","fechaEstreno",1,"form-label"],[1,"bi","bi-calendar-event"],["type","date","id","fechaEstreno","formControlName","fechaEstreno",1,"form-control"],["for","duracion",1,"form-label"],[1,"bi","bi-clock"],["type","number","id","duracion","formControlName","duracion","placeholder","Ej: 120","min","1",1,"form-control"],["for","director",1,"form-label"],[1,"bi","bi-person-video3"],["type","text","id","director","formControlName","director","placeholder","Ingrese el nombre del director",1,"form-control"],[1,"form-label"],[1,"bi","bi-people"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-plus-circle"],[1,"bi","bi-tags"],[1,"d-flex","flex-wrap","gap-2"],[1,"form-check"],[1,"d-flex","gap-2","justify-content-end"],["type","button","routerLink","/ver-peliculas",1,"btn","btn-secondary"],[1,"bi","bi-x-circle"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-save"],[1,"bi","bi-exclamation-triangle"],["type","button",1,"btn-close",3,"click"],[1,"bi","bi-info-circle"],["alt","Vista previa",1,"img-thumbnail",2,"max-width","300px","max-height","400px","object-fit","cover",3,"src"],[1,"bi","bi-check-circle"],[1,"input-group","mb-2"],[1,"input-group-text"],["type","text","placeholder","Nombre del actor (sin comas)",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-outline-danger"],[1,"text-danger","small","mb-2"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],["type","checkbox",1,"btn-check",3,"change","id","checked"],[1,"btn","btn-outline-primary",3,"for"]],template:function(t,i){if(t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),m(6,"i",6),u(7," Crear Nueva Pel\xEDcula "),s(),v(8,TF,4,1,"div",7),v(9,MF,4,1,"div",8),c(10,"form",9),I("ngSubmit",function(){return i.crearPelicula()}),c(11,"div",10)(12,"label",11),m(13,"i",12),u(14," Imagen de la Pel\xEDcula * "),s(),c(15,"input",13),I("change",function(o){return i.onImagenSeleccionada(o)}),s(),v(16,AF,2,1,"div",14),v(17,NF,2,0,"small",15),v(18,RF,3,1,"small",16),s(),c(19,"div",10)(20,"label",17),m(21,"i",18),u(22," Clasificaci\xF3n * "),s(),c(23,"select",19)(24,"option",20),u(25,"Seleccione una clasificaci\xF3n"),s(),G(26,FF,2,3,"option",21,IF),s(),v(28,OF,2,0,"div",22),s(),c(29,"div",10)(30,"label",23),m(31,"i",24),u(32," T\xEDtulo * "),s(),m(33,"input",25),v(34,PF,2,0,"div",22),s(),c(35,"div",10)(36,"label",26),m(37,"i",27),u(38," Sinopsis * "),s(),m(39,"textarea",28),v(40,kF,2,0,"div",22),s(),c(41,"div",29)(42,"div",30)(43,"label",31),m(44,"i",32),u(45," Fecha de Estreno * "),s(),m(46,"input",33),v(47,LF,2,0,"div",22),s(),c(48,"div",30)(49,"label",34),m(50,"i",35),u(51," Duraci\xF3n (minutos) * "),s(),m(52,"input",36),v(53,VF,2,0,"div",22),s()(),c(54,"div",10)(55,"label",37),m(56,"i",38),u(57," Director * "),s(),m(58,"input",39),v(59,jF,2,0,"div",22),s(),c(60,"div",10)(61,"label",40),m(62,"i",41),u(63," Reparto * "),s(),G(64,GF,6,6,null,null,Dn),c(66,"button",42),I("click",function(){return i.agregarActor()}),m(67,"i",43),u(68," Agregar Actor "),s()(),c(69,"div",10)(70,"label",40),m(71,"i",44),u(72," Categor\xEDas * "),s(),c(73,"div",45),G(74,zF,4,4,"div",46,wF),s(),v(76,qF,2,0,"small",15),v(77,WF,3,1,"small",16),s(),c(78,"div",47)(79,"button",48),m(80,"i",49),u(81," Cancelar "),s(),c(82,"button",50),m(83,"i",51),u(84," Crear Pel\xEDcula "),s()()()()()()()()),t&2){let r,o,a,l,d,p,h,_,S,b,x,B;f(8),C(i.errorMsg?8:-1),f(),C(i.infoMsg?9:-1),f(),D("formGroup",i.peliculaForm),f(6),C(i.imagenPreview?16:-1),f(),C(i.imagenSeleccionada?-1:17),f(),C(i.imagenSeleccionada?18:-1),f(5),Z("is-invalid",((r=i.peliculaForm.get("clasificacion"))==null?null:r.invalid)&&((r=i.peliculaForm.get("clasificacion"))==null?null:r.touched)),f(3),z(i.clasificaciones),f(2),C((o=i.peliculaForm.get("clasificacion"))!=null&&o.invalid&&((o=i.peliculaForm.get("clasificacion"))!=null&&o.touched)?28:-1),f(5),Z("is-invalid",((a=i.peliculaForm.get("titulo"))==null?null:a.invalid)&&((a=i.peliculaForm.get("titulo"))==null?null:a.touched)),f(),C((l=i.peliculaForm.get("titulo"))!=null&&l.invalid&&((l=i.peliculaForm.get("titulo"))!=null&&l.touched)?34:-1),f(5),Z("is-invalid",((d=i.peliculaForm.get("sinopsis"))==null?null:d.invalid)&&((d=i.peliculaForm.get("sinopsis"))==null?null:d.touched)),f(),C((p=i.peliculaForm.get("sinopsis"))!=null&&p.invalid&&((p=i.peliculaForm.get("sinopsis"))!=null&&p.touched)?40:-1),f(6),Z("is-invalid",((h=i.peliculaForm.get("fechaEstreno"))==null?null:h.invalid)&&((h=i.peliculaForm.get("fechaEstreno"))==null?null:h.touched)),f(),C((_=i.peliculaForm.get("fechaEstreno"))!=null&&_.invalid&&((_=i.peliculaForm.get("fechaEstreno"))!=null&&_.touched)?47:-1),f(5),Z("is-invalid",((S=i.peliculaForm.get("duracion"))==null?null:S.invalid)&&((S=i.peliculaForm.get("duracion"))==null?null:S.touched)),f(),C((b=i.peliculaForm.get("duracion"))!=null&&b.invalid&&((b=i.peliculaForm.get("duracion"))!=null&&b.touched)?53:-1),f(5),Z("is-invalid",((x=i.peliculaForm.get("director"))==null?null:x.invalid)&&((x=i.peliculaForm.get("director"))==null?null:x.touched)),f(),C((B=i.peliculaForm.get("director"))!=null&&B.invalid&&((B=i.peliculaForm.get("director"))!=null&&B.touched)?59:-1),f(5),z(i.actores.controls),f(10),z(i.categorias),f(2),C(i.categoriasSeleccionadas.length===0?76:-1),f(),C(i.categoriasSeleccionadas.length>0?77:-1),f(5),D("disabled",i.peliculaForm.invalid||i.categoriasSeleccionadas.length===0||!i.imagenSeleccionada)}},dependencies:[ae,oe,ke,Le,J,at,Re,ee,re,st,rs,ne,ie,Y],encapsulation:2})};var ZF=()=>[1,2,3,4,5],YF=(e,n)=>n.id;function QF(e,n){if(e&1&&(c(0,"div",0),u(1),s()),e&2){let t=y();f(),E(" ",t.errorMsg," ")}}function KF(e,n){if(e&1&&(c(0,"div",1),u(1),s()),e&2){let t=y();f(),E(" ",t.infoMsg," ")}}function JF(e,n){e&1&&(c(0,"div",3)(1,"div",6)(2,"span",7),u(3,"Cargando..."),s()(),c(4,"p",8),u(5,"Cargando informaci\xF3n de la pel\xEDcula..."),s()())}function XF(e,n){e&1&&(c(0,"div",4),m(1,"i",9),u(2," No se encontr\xF3 informaci\xF3n de la pel\xEDcula. "),s())}function e2(e,n){if(e&1&&m(0,"img",12),e&2){let t=y(2);D("src",t.imagenUrl,Xe)("alt",t.pelicula.titulo)}}function t2(e,n){e&1&&(c(0,"div",13),m(1,"i",48),s())}function n2(e,n){if(e&1){let t=V();c(0,"div",18)(1,"button",49),m(2,"i",50),s(),c(3,"ul",51)(4,"li")(5,"a",52),I("click",function(){P(t);let r=y(2);return k(r.editarPelicula())}),m(6,"i",53),u(7," Editar "),s()(),c(8,"li"),m(9,"hr",54),s()()()}}function i2(e,n){if(e&1&&(c(0,"span",28),u(1),s()),e&2){let t=n.$implicit;f(),K(t.nombre)}}function r2(e,n){e&1&&m(0,"i",38)}function o2(e,n){e&1&&m(0,"i",55)}function a2(e,n){if(e&1&&v(0,r2,1,0,"i",38)(1,o2,1,0,"i",55),e&2){let t=n.$implicit;C(t===1?0:1)}}function s2(e,n){if(e&1&&(c(0,"small",22),u(1),s()),e&2){let t=y(2);f(),Nt(" (",t.pelicula.calificaciones.length," ",t.pelicula.calificaciones.length===1?"calificaci\xF3n":"calificaciones",") ")}}function l2(e,n){if(e&1){let t=V();c(0,"i",56),I("click",function(){let r=P(t).$implicit,o=y(2);return k(o.seleccionarCalificacion(r))}),s()}if(e&2){let t=n.$implicit,i=y(2);Z("bi-star-fill",i.obtenerCalificacionUsuario()>=t)("bi-star",i.obtenerCalificacionUsuario()<t)("text-primary",i.obtenerCalificacionUsuario()>=t)("text-muted",i.obtenerCalificacionUsuario()<t),D("title","Calificar con "+t+" estrella"+(t>1?"s":""))}}function c2(e,n){e&1&&(c(0,"p",45),m(1,"i",57),u(2," Haz clic en las estrellas para calificar "),s())}function u2(e,n){if(e&1&&(c(0,"div",5)(1,"div",10)(2,"div",11),v(3,e2,1,2,"img",12)(4,t2,2,0,"div",13),s()(),c(5,"div",14)(6,"div",11)(7,"div",15)(8,"h2",16),m(9,"i",17),u(10),s(),v(11,n2,10,0,"div",18),s(),c(12,"div",19)(13,"div",20)(14,"span",21),u(15),s(),c(16,"span",22),m(17,"i",23),u(18),s(),c(19,"span",24),m(20,"i",25),u(21),s()(),c(22,"div",20)(23,"strong"),m(24,"i",26),u(25," Categor\xEDas:"),s(),c(26,"div",27),G(27,i2,2,1,"span",28,YF),s()(),m(29,"hr"),c(30,"div",20)(31,"h5"),m(32,"i",29),u(33," Sinopsis"),s(),c(34,"p",22),u(35),s()(),m(36,"hr"),c(37,"div",20)(38,"strong"),m(39,"i",30),u(40," Director:"),s(),c(41,"span",31),u(42),s()(),c(43,"div",20)(44,"strong"),m(45,"i",32),u(46," Reparto:"),s(),c(47,"p",33),u(48),s()(),m(49,"hr"),c(50,"div",5)(51,"div",34)(52,"div",35)(53,"div",36)(54,"h5",37),m(55,"i",38),u(56," Calificaci\xF3n General "),s(),c(57,"div",39),G(58,a2,2,1,null,null,Dn),s(),c(60,"p",40),u(61),s(),v(62,s2,2,2,"small",22),s()()(),c(63,"div",34)(64,"div",35)(65,"div",36)(66,"h5",37),m(67,"i",41),u(68," Tu Calificaci\xF3n "),s(),c(69,"div",42),G(70,l2,1,9,"i",43,Dn),s(),c(72,"p",44),u(73),s(),v(74,c2,3,0,"p",45),s()()()()()()(),c(75,"div",46),m(76,"app-comentarios-component",47),s()()),e&2){let t=y();f(3),C(t.imagenUrl?3:4),f(7),E(" ",t.pelicula.titulo," "),f(),C(t.usuarioActual.rol==="ADMINISTRADOR_SISTEMA"?11:-1),f(4),E(" ",t.pelicula.clasificacion.codigo," "),f(3),E(" ",t.convertirDuracion(t.pelicula.duracion)," "),f(3),E(" ",t.pelicula.fechaEstreno," "),f(6),z(t.pelicula.categorias),f(8),K(t.pelicula.sinopsis),f(7),K(t.pelicula.director),f(6),K(t.pelicula.reparto),f(10),z(t.obtenerEstrellas(t.calcularPromedioCalificaciones())),f(3),E(" ",t.calcularPromedioCalificaciones()," / 5 "),f(),C(t.pelicula.calificaciones&&t.pelicula.calificaciones.length>0?62:-1),f(8),z(Si(15,ZF)),f(3),E(" ",t.obtenerCalificacionUsuario()||0," / 5 "),f(),C(t.obtenerCalificacionUsuario()===0?74:-1),f(2),D("entidadId",+t.pelicula.id)("comentariosBloqueados",!1)}}var ju=class e{errorMsg=null;infoMsg=null;peliculaService=g(xt);imagenService=g(He);route=g(fe);router=g(H);jwtService=g(Ie);pelicula;imagenUrl=null;cargando=!0;usuarioActual=this.jwtService.getUsuarioActual();ngOnInit(){this.cargarPelicula()}cargarPelicula(){let n=this.route.snapshot.paramMap.get("id");n&&this.peliculaService.verPelicula(n).subscribe({next:t=>{this.pelicula=t,this.cargarImagen()},error:t=>{this.errorMsg=t.error||"Error al cargar la pel\xEDcula",this.cargando=!1}})}cargarImagen(){this.pelicula&&this.imagenService.obtenerImagen(this.pelicula.imagen.id).subscribe({next:n=>{n&&(this.imagenUrl=URL.createObjectURL(n)),this.cargando=!1},error:n=>{console.error("Error al cargar imagen:",n),this.cargando=!1}})}calcularPromedioCalificaciones(){if(!this.pelicula?.calificaciones||this.pelicula.calificaciones.length===0)return 0;let n=this.pelicula.calificaciones.reduce((t,i)=>t+Number(i.valor),0);return Math.round(n/this.pelicula.calificaciones.length)}obtenerCalificacionUsuario(){if(!this.pelicula?.calificaciones||!this.usuarioActual.id)return 0;let n=this.pelicula.calificaciones.find(t=>t.idUsuario===this.usuarioActual.id?.toString());return n?Number(n.valor):0}obtenerEstrellas(n){return Array(5).fill(0).map((t,i)=>i<n?1:0)}seleccionarCalificacion(n){this.pelicula&&n>=1&&n<=5&&this.guardarCalificacion(n)}guardarCalificacion(n){if(!this.pelicula)return;let t={valor:n.toString()};this.peliculaService.calificarPelicula(this.pelicula.id,t).subscribe({next:()=>{this.infoMsg="Calificaci\xF3n guardada exitosamente",this.cargarPelicula()},error:i=>{this.errorMsg=i.error||"Error al guardar la calificaci\xF3n"}})}editarPelicula(){this.pelicula&&this.router.navigate(["/editar-pelicula",this.pelicula.id])}convertirDuracion(n){let t=Number(n),i=Math.floor(t/60),r=t%60;return i===0?`${r} min`:`${i}h ${r}min`}ngOnDestroy(){this.imagenUrl&&URL.revokeObjectURL(this.imagenUrl)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-ver-pelicula-component"]],decls:6,vars:3,consts:[["role","alert",1,"alert","alert-danger","text-center"],["role","alert",1,"alert","alert-success","text-center"],[1,"container","mt-4"],[1,"text-center","my-5"],[1,"alert","alert-danger","text-center","my-5"],[1,"row"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"bi","bi-exclamation-triangle"],[1,"col-lg-4","mb-4"],[1,"card","shadow-lg"],[1,"card-img-top",2,"height","600px","object-fit","cover",3,"src","alt"],[1,"card-img-top","d-flex","align-items-center","justify-content-center","bg-secondary",2,"height","600px"],[1,"col-lg-8"],[1,"card-header","bg-primary","text-white","d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-film"],[1,"dropdown"],[1,"card-body","p-4"],[1,"mb-3"],[1,"badge","bg-warning","text-dark","me-2",2,"font-size","1rem"],[1,"text-muted"],[1,"bi","bi-clock"],[1,"text-muted","ms-3"],[1,"bi","bi-calendar-event"],[1,"bi","bi-tags"],[1,"d-inline-flex","flex-wrap","gap-1","ms-2"],[1,"badge","bg-primary"],[1,"bi","bi-text-paragraph"],[1,"bi","bi-person-video3"],[1,"ms-2"],[1,"bi","bi-people"],[1,"text-muted","mb-0","mt-1"],[1,"col-md-6","mb-3"],[1,"card","bg-light"],[1,"card-body","text-center"],[1,"card-title","text-muted","mb-3"],[1,"bi","bi-star-fill","text-warning"],[1,"fs-3"],[1,"text-muted","mt-2","mb-0"],[1,"bi","bi-person-fill","text-primary"],[1,"fs-3","mb-3"],[1,"bi","cursor-pointer",2,"cursor","pointer",3,"bi-star-fill","bi-star","text-primary","text-muted","title"],[1,"text-muted","mb-2"],[1,"text-muted","small"],[1,"mt-4"],["tipo","pelicula",3,"entidadId","comentariosBloqueados"],[1,"bi","bi-image","text-white",2,"font-size","5rem"],["type","button","id","dropdownMenuButton","data-bs-toggle","dropdown","aria-expanded","false",1,"btn","btn-light","btn-sm"],[1,"bi","bi-three-dots-vertical"],["aria-labelledby","dropdownMenuButton",1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"bi","bi-pencil"],[1,"dropdown-divider"],[1,"bi","bi-star","text-muted"],[1,"bi","cursor-pointer",2,"cursor","pointer",3,"click","title"],[1,"bi","bi-info-circle"]],template:function(t,i){t&1&&(v(0,QF,2,1,"div",0),v(1,KF,2,1,"div",1),c(2,"div",2),v(3,JF,6,0,"div",3)(4,XF,3,0,"div",4)(5,u2,77,16,"div",5),s()),t&2&&(C(i.errorMsg!=null?0:-1),f(),C(i.infoMsg!=null?1:-1),f(2),C(i.cargando?3:i.pelicula?5:4))},dependencies:[Y,xo],encapsulation:2})};var d2=e=>["/ver-pelicula",e],f2=(e,n)=>n.codigo,p2=(e,n)=>n.id;function m2(e,n){if(e&1){let t=V();c(0,"div",7),m(1,"i",11),u(2),c(3,"button",12),I("click",function(){P(t);let r=y();return k(r.errorMsg=null)}),s()()}if(e&2){let t=y();f(2),E(" ",t.errorMsg," ")}}function h2(e,n){if(e&1){let t=V();c(0,"div",8),m(1,"i",13),u(2),c(3,"button",12),I("click",function(){P(t);let r=y();return k(r.infoMsg=null)}),s()()}if(e&2){let t=y();f(2),E(" ",t.infoMsg," ")}}function g2(e,n){e&1&&(c(0,"div",9)(1,"div",14)(2,"span",15),u(3,"Cargando..."),s()(),c(4,"p",16),u(5,"Cargando informaci\xF3n de la pel\xEDcula..."),s()())}function v2(e,n){if(e&1&&(c(0,"div",22),m(1,"img",60),s()),e&2){let t=y(2);f(),D("src",t.imagenPreview,Xe)}}function C2(e,n){if(e&1&&(m(0,"i",61),u(1)),e&2){let t=y(2);f(),E(" Nueva imagen seleccionada: ",t.imagenSeleccionada.name," ")}}function y2(e,n){e&1&&(m(0,"i",13),u(1," Seleccione una nueva imagen para reemplazar la actual (opcional) "))}function _2(e,n){if(e&1&&(c(0,"option",28),u(1),s()),e&2){let t=n.$implicit;D("value",t.codigo),f(),Nt(" ",t.codigo," - ",t.descripcion," ")}}function b2(e,n){e&1&&(c(0,"div",29),u(1," La clasificaci\xF3n es requerida "),s())}function E2(e,n){e&1&&(c(0,"div",29),u(1," El t\xEDtulo es requerido (m\xE1ximo 200 caracteres) "),s())}function D2(e,n){e&1&&(c(0,"div",29),u(1," La sinopsis es requerida "),s())}function S2(e,n){e&1&&(c(0,"div",29),u(1," La fecha de estreno es requerida "),s())}function x2(e,n){e&1&&(c(0,"div",29),u(1," La duraci\xF3n es requerida (m\xEDnimo 1 minuto) "),s())}function I2(e,n){e&1&&(c(0,"div",29),u(1," El director es requerido (m\xE1ximo 200 caracteres) "),s())}function w2(e,n){if(e&1){let t=V();c(0,"button",67),I("click",function(){P(t);let r=y().$index,o=y(2);return k(o.eliminarActor(r))}),m(1,"i",68),s()}}function T2(e,n){e&1&&u(0," El nombre del actor es requerido ")}function M2(e,n){e&1&&u(0," No se permiten comas en el nombre ")}function A2(e,n){if(e&1&&(c(0,"div",66),v(1,T2,1,0),v(2,M2,1,0),s()),e&2){let t=y().$implicit;f(),C(t.hasError("required")?1:-1),f(),C(t.hasError("contieneCommas")?2:-1)}}function N2(e,n){if(e&1&&(c(0,"div",62)(1,"span",63),u(2),s(),m(3,"input",64),v(4,w2,2,0,"button",65),s(),v(5,A2,3,2,"div",66)),e&2){let t=n.$implicit,i=n.$index,r=y(2);f(2),E("Actor ",i+1),f(),Z("is-invalid",t.invalid&&t.touched),D("formControl",t),f(),C(r.actores.length>1?4:-1),f(),C(t.invalid&&t.touched?5:-1)}}function R2(e,n){if(e&1){let t=V();c(0,"div",53)(1,"input",69),I("change",function(){let r=P(t).$implicit,o=y(2);return k(o.toggleCategoria(r))}),s(),c(2,"label",70),u(3),s()()}if(e&2){let t=n.$implicit,i=y(2);f(),D("id","categoria-"+t.id)("checked",i.estaSeleccionada(t)),f(),D("for","categoria-"+t.id),f(),E(" ",t.nombre," ")}}function F2(e,n){e&1&&(c(0,"small",23),u(1," Seleccione al menos una categor\xEDa "),s())}function O2(e,n){if(e&1&&(c(0,"small",54),m(1,"i",71),u(2),s()),e&2){let t=y(2);f(2),E(" ",t.categoriasSeleccionadas.length," categor\xEDa(s) seleccionada(s) ")}}function P2(e,n){if(e&1){let t=V();c(0,"form",17),I("ngSubmit",function(){P(t);let r=y();return k(r.editarPelicula())}),c(1,"div",18)(2,"label",19),m(3,"i",20),u(4," Imagen de la Pel\xEDcula "),s(),c(5,"input",21),I("change",function(r){P(t);let o=y();return k(o.onImagenSeleccionada(r))}),s(),v(6,v2,2,1,"div",22),c(7,"small",23),v(8,C2,2,1)(9,y2,2,0),s()(),c(10,"div",18)(11,"label",24),m(12,"i",25),u(13," Clasificaci\xF3n * "),s(),c(14,"select",26)(15,"option",27),u(16,"Seleccione una clasificaci\xF3n"),s(),G(17,_2,2,3,"option",28,f2),s(),v(19,b2,2,0,"div",29),s(),c(20,"div",18)(21,"label",30),m(22,"i",31),u(23," T\xEDtulo * "),s(),m(24,"input",32),v(25,E2,2,0,"div",29),s(),c(26,"div",18)(27,"label",33),m(28,"i",34),u(29," Sinopsis * "),s(),m(30,"textarea",35),v(31,D2,2,0,"div",29),s(),c(32,"div",36)(33,"div",37)(34,"label",38),m(35,"i",39),u(36," Fecha de Estreno * "),s(),m(37,"input",40),v(38,S2,2,0,"div",29),s(),c(39,"div",37)(40,"label",41),m(41,"i",42),u(42," Duraci\xF3n (minutos) * "),s(),m(43,"input",43),v(44,x2,2,0,"div",29),s()(),c(45,"div",18)(46,"label",44),m(47,"i",45),u(48," Director * "),s(),m(49,"input",46),v(50,I2,2,0,"div",29),s(),c(51,"div",18)(52,"label",47),m(53,"i",48),u(54," Reparto * "),s(),G(55,N2,6,6,null,null,Dn),c(57,"button",49),I("click",function(){P(t);let r=y();return k(r.agregarActor())}),m(58,"i",50),u(59," Agregar Actor "),s()(),c(60,"div",18)(61,"label",47),m(62,"i",51),u(63," Categor\xEDas * "),s(),c(64,"div",52),G(65,R2,4,4,"div",53,p2),s(),v(67,F2,2,0,"small",23),v(68,O2,3,1,"small",54),s(),c(69,"div",55)(70,"button",56),m(71,"i",57),u(72," Cancelar "),s(),c(73,"button",58),m(74,"i",59),u(75," Guardar Cambios "),s()()()}if(e&2){let t,i,r,o,a,l,d,p,h,_,S,b,x=y();D("formGroup",x.peliculaForm),f(6),C(x.imagenPreview?6:-1),f(2),C(x.imagenSeleccionada?8:9),f(6),Z("is-invalid",((t=x.peliculaForm.get("clasificacion"))==null?null:t.invalid)&&((t=x.peliculaForm.get("clasificacion"))==null?null:t.touched)),f(3),z(x.clasificaciones),f(2),C((i=x.peliculaForm.get("clasificacion"))!=null&&i.invalid&&((i=x.peliculaForm.get("clasificacion"))!=null&&i.touched)?19:-1),f(5),Z("is-invalid",((r=x.peliculaForm.get("titulo"))==null?null:r.invalid)&&((r=x.peliculaForm.get("titulo"))==null?null:r.touched)),f(),C((o=x.peliculaForm.get("titulo"))!=null&&o.invalid&&((o=x.peliculaForm.get("titulo"))!=null&&o.touched)?25:-1),f(5),Z("is-invalid",((a=x.peliculaForm.get("sinopsis"))==null?null:a.invalid)&&((a=x.peliculaForm.get("sinopsis"))==null?null:a.touched)),f(),C((l=x.peliculaForm.get("sinopsis"))!=null&&l.invalid&&((l=x.peliculaForm.get("sinopsis"))!=null&&l.touched)?31:-1),f(6),Z("is-invalid",((d=x.peliculaForm.get("fechaEstreno"))==null?null:d.invalid)&&((d=x.peliculaForm.get("fechaEstreno"))==null?null:d.touched)),f(),C((p=x.peliculaForm.get("fechaEstreno"))!=null&&p.invalid&&((p=x.peliculaForm.get("fechaEstreno"))!=null&&p.touched)?38:-1),f(5),Z("is-invalid",((h=x.peliculaForm.get("duracion"))==null?null:h.invalid)&&((h=x.peliculaForm.get("duracion"))==null?null:h.touched)),f(),C((_=x.peliculaForm.get("duracion"))!=null&&_.invalid&&((_=x.peliculaForm.get("duracion"))!=null&&_.touched)?44:-1),f(5),Z("is-invalid",((S=x.peliculaForm.get("director"))==null?null:S.invalid)&&((S=x.peliculaForm.get("director"))==null?null:S.touched)),f(),C((b=x.peliculaForm.get("director"))!=null&&b.invalid&&((b=x.peliculaForm.get("director"))!=null&&b.touched)?50:-1),f(5),z(x.actores.controls),f(10),z(x.categorias),f(2),C(x.categoriasSeleccionadas.length===0?67:-1),f(),C(x.categoriasSeleccionadas.length>0?68:-1),f(2),D("routerLink",Ue(25,d2,x.pelicula==null?null:x.pelicula.id)),f(3),D("disabled",x.peliculaForm.invalid||x.categoriasSeleccionadas.length===0)}}var Uu=class e{errorMsg=null;infoMsg=null;peliculaService=g(xt);imagenService=g(He);route=g(fe);router=g(H);clasificaciones=[];categorias=[];categoriasSeleccionadas=[];pelicula;imagenActual;imagenSeleccionada=null;imagenPreview=null;cargando=!0;peliculaForm=new pe({clasificacion:new R("",[w.required]),titulo:new R("",[w.required,w.maxLength(200)]),sinopsis:new R("",[w.required]),fechaEstreno:new R("",[w.required]),duracion:new R("",[w.required,w.min(1)]),director:new R("",[w.required,w.maxLength(200)]),actores:new Cr([])});ngOnInit(){this.cargarClasificaciones(),this.cargarCategorias(),this.cargarPelicula()}get actores(){return this.peliculaForm.get("actores")}cargarPelicula(){let n=this.route.snapshot.paramMap.get("id");if(!n){this.errorMsg="ID de pel\xEDcula no v\xE1lido",this.cargando=!1;return}this.peliculaService.verPelicula(n).subscribe({next:t=>{this.pelicula=t,this.imagenActual=t.imagen,this.cargarDatosEnFormulario(),this.cargarImagenActual()},error:t=>{this.errorMsg=t.error||"Error al cargar la pel\xEDcula",this.cargando=!1}})}cargarDatosEnFormulario(){if(!this.pelicula)return;this.peliculaForm.patchValue({clasificacion:this.pelicula.clasificacion.codigo,titulo:this.pelicula.titulo,sinopsis:this.pelicula.sinopsis,fechaEstreno:this.pelicula.fechaEstreno,duracion:this.pelicula.duracion,director:this.pelicula.director}),this.pelicula.reparto.split(",").map(t=>t.trim()).forEach(t=>{this.actores.push(new R(t,[w.required,this.validarSinComas]))}),this.pelicula.categorias&&(this.categoriasSeleccionadas=[...this.pelicula.categorias])}cargarImagenActual(){if(!this.imagenActual){this.cargando=!1;return}this.imagenService.obtenerImagen(this.imagenActual.id).subscribe({next:n=>{n&&(this.imagenPreview=URL.createObjectURL(n)),this.cargando=!1},error:n=>{console.error("Error al cargar imagen:",n),this.cargando=!1}})}cargarClasificaciones(){this.peliculaService.verClasificaciones().subscribe({next:n=>{this.clasificaciones=n},error:n=>{this.errorMsg=n.error||"Error al cargar clasificaciones"}})}cargarCategorias(){this.peliculaService.verCategorias().subscribe({next:n=>{this.categorias=n},error:n=>{this.errorMsg=n.error||"Error al cargar categor\xEDas"}})}onImagenSeleccionada(n){let t=n.target;if(t.files&&t.files.length>0){this.imagenSeleccionada=t.files[0];let i=new FileReader;i.onload=()=>{this.imagenPreview=i.result},i.readAsDataURL(this.imagenSeleccionada)}}agregarActor(){this.actores.push(new R("",[w.required,this.validarSinComas]))}eliminarActor(n){this.actores.length>1&&this.actores.removeAt(n)}validarSinComas(n){return n.value&&n.value.includes(",")?{contieneCommas:!0}:null}toggleCategoria(n){let t=this.categoriasSeleccionadas.findIndex(i=>i.id===n.id);t===-1?this.categoriasSeleccionadas.push(n):this.categoriasSeleccionadas.splice(t,1)}estaSeleccionada(n){return this.categoriasSeleccionadas.some(t=>t.id===n.id)}editarPelicula(){if(this.peliculaForm.invalid){this.infoMsg="Complete todos los campos correctamente";return}if(this.categoriasSeleccionadas.length===0){this.infoMsg="Seleccione al menos una categor\xEDa";return}this.imagenSeleccionada?this.imagenService.subirImagen(this.imagenSeleccionada).subscribe({next:n=>{this.actualizarPeliculaConImagen(n)},error:n=>{this.errorMsg=n.error||"Error al subir la imagen"}}):this.actualizarPeliculaConImagen(this.imagenActual)}actualizarPeliculaConImagen(n){if(!this.pelicula)return;let t=this.actores.value.join(", "),i={id:this.pelicula.id,imagen:n,clasificacion:{codigo:this.peliculaForm.value.clasificacion,descripcion:""},titulo:this.peliculaForm.value.titulo,sinopsis:this.peliculaForm.value.sinopsis,fechaEstreno:this.peliculaForm.value.fechaEstreno,duracion:this.peliculaForm.value.duracion,director:this.peliculaForm.value.director,reparto:t,categorias:this.categoriasSeleccionadas};this.peliculaService.editarPelicula(i).subscribe({next:()=>{this.infoMsg="Pel\xEDcula actualizada exitosamente"},error:r=>{this.errorMsg=r.error||"Error al actualizar la pel\xEDcula"}})}ngOnDestroy(){this.imagenPreview&&URL.revokeObjectURL(this.imagenPreview)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-editar-pelicula-component"]],decls:12,vars:3,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","mb-4"],[1,"bi","bi-pencil-square"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"alert","alert-info","alert-dismissible","fade","show"],[1,"text-center","my-5"],[3,"formGroup"],[1,"bi","bi-exclamation-triangle"],["type","button",1,"btn-close",3,"click"],[1,"bi","bi-info-circle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","imagen",1,"form-label"],[1,"bi","bi-image"],["type","file","id","imagen","accept","image/png, image/jpeg, image/gif",1,"form-control",3,"change"],[1,"text-center","mt-3"],[1,"text-muted","d-block","mt-2"],["for","clasificacion",1,"form-label"],[1,"bi","bi-star"],["id","clasificacion","formControlName","clasificacion",1,"form-select"],["value",""],[3,"value"],[1,"invalid-feedback","d-block"],["for","titulo",1,"form-label"],[1,"bi","bi-card-heading"],["type","text","id","titulo","formControlName","titulo","placeholder","Ingrese el t\xEDtulo de la pel\xEDcula",1,"form-control"],["for","sinopsis",1,"form-label"],[1,"bi","bi-text-paragraph"],["id","sinopsis","formControlName","sinopsis","rows","4","placeholder","Ingrese la sinopsis de la pel\xEDcula",1,"form-control"],[1,"row"],[1,"col-md-6","mb-3"],["for","fechaEstreno",1,"form-label"],[1,"bi","bi-calendar-event"],["type","date","id","fechaEstreno","formControlName","fechaEstreno",1,"form-control"],["for","duracion",1,"form-label"],[1,"bi","bi-clock"],["type","number","id","duracion","formControlName","duracion","placeholder","Ej: 120","min","1",1,"form-control"],["for","director",1,"form-label"],[1,"bi","bi-person-video3"],["type","text","id","director","formControlName","director","placeholder","Ingrese el nombre del director",1,"form-control"],[1,"form-label"],[1,"bi","bi-people"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"bi","bi-plus-circle"],[1,"bi","bi-tags"],[1,"d-flex","flex-wrap","gap-2"],[1,"form-check"],[1,"text-success","d-block","mt-2"],[1,"d-flex","gap-2","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"routerLink"],[1,"bi","bi-x-circle"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-save"],["alt","Vista previa",1,"img-thumbnail",2,"max-width","300px","max-height","400px","object-fit","cover",3,"src"],[1,"bi","bi-check-circle","text-success"],[1,"input-group","mb-2"],[1,"input-group-text"],["type","text","placeholder","Nombre del actor (sin comas)",1,"form-control",3,"formControl"],["type","button",1,"btn","btn-outline-danger"],[1,"text-danger","small","mb-2"],["type","button",1,"btn","btn-outline-danger",3,"click"],[1,"bi","bi-trash"],["type","checkbox",1,"btn-check",3,"change","id","checked"],[1,"btn","btn-outline-primary",3,"for"],[1,"bi","bi-check-circle"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),m(6,"i",6),u(7," Editar Pel\xEDcula "),s(),v(8,m2,4,1,"div",7),v(9,h2,4,1,"div",8),v(10,g2,6,0,"div",9)(11,P2,76,27,"form",10),s()()()()()),t&2&&(f(8),C(i.errorMsg?8:-1),f(),C(i.infoMsg?9:-1),f(),C(i.cargando?10:11))},dependencies:[ae,oe,ke,Le,J,at,Re,ee,re,st,rs,ne,ie,Y,$e],encapsulation:2})};var Kn=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/proyecciones";crearProyeccion(n){return this.http.post(this.URL,n)}verProyeccion(n){return this.http.get(`${this.URL}/${n}`)}editarProyeccion(n){return this.http.put(this.URL,n)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var W_=(e,n)=>n.id;function k2(e,n){if(e&1){let t=V();c(0,"div",7),m(1,"i",11),u(2),c(3,"button",12),I("click",function(){P(t);let r=y();return k(r.errorMsg=null)}),s()()}if(e&2){let t=y();f(2),E(" ",t.errorMsg," ")}}function L2(e,n){if(e&1){let t=V();c(0,"div",8),m(1,"i",13),u(2),c(3,"button",12),I("click",function(){P(t);let r=y();return k(r.infoMsg=null)}),s()()}if(e&2){let t=y();f(2),E(" ",t.infoMsg," ")}}function V2(e,n){e&1&&(c(0,"div",9)(1,"div",14)(2,"span",15),u(3,"Cargando..."),s()(),c(4,"p",16),u(5,"Cargando datos..."),s()())}function j2(e,n){if(e&1&&(c(0,"option",23),u(1),s()),e&2){let t=n.$implicit;D("value",t.id),f(),E(" Sala ",t.id," ")}}function U2(e,n){e&1&&(c(0,"div",24),u(1," La sala es requerida "),s())}function B2(e,n){e&1&&(c(0,"small",25),m(1,"i",11),u(2," No hay salas disponibles en este cine "),s())}function $2(e,n){if(e&1&&(c(0,"option",23),u(1),s()),e&2){let t=n.$implicit;D("value",t.id),f(),eo(" ",t.titulo," (",t.clasificacion.codigo,") - ",t.duracion," min ")}}function H2(e,n){e&1&&(c(0,"div",24),u(1," La pel\xEDcula es requerida "),s())}function G2(e,n){e&1&&(c(0,"small",25),m(1,"i",11),u(2," No hay pel\xEDculas disponibles "),s())}function z2(e,n){e&1&&(c(0,"div",24),u(1," La fecha es requerida "),s())}function q2(e,n){e&1&&(c(0,"div",24),u(1," La hora es requerida "),s())}function W2(e,n){if(e&1){let t=V();c(0,"form",17),I("ngSubmit",function(){P(t);let r=y();return k(r.crearProyeccion())}),c(1,"div",18)(2,"label",19),m(3,"i",20),u(4," Sala * "),s(),c(5,"select",21)(6,"option",22),u(7,"Seleccione una sala"),s(),G(8,j2,2,2,"option",23,W_),s(),v(10,U2,2,0,"div",24),v(11,B2,3,0,"small",25),s(),c(12,"div",18)(13,"label",26),m(14,"i",27),u(15," Pel\xEDcula * "),s(),c(16,"select",28)(17,"option",22),u(18,"Seleccione una pel\xEDcula"),s(),G(19,$2,2,4,"option",23,W_),s(),v(21,H2,2,0,"div",24),v(22,G2,3,0,"small",25),s(),c(23,"div",29)(24,"div",30)(25,"label",31),m(26,"i",32),u(27," Fecha * "),s(),m(28,"input",33),v(29,z2,2,0,"div",24),c(30,"small",34),u(31," Seleccione una fecha desde hoy en adelante "),s()(),c(32,"div",30)(33,"label",35),m(34,"i",36),u(35," Hora * "),s(),m(36,"input",37),v(37,q2,2,0,"div",24),c(38,"small",34),u(39," Formato: HH:MM (24 horas) "),s()()(),m(40,"hr"),c(41,"div",38)(42,"button",39),m(43,"i",40),u(44," Crear Proyecci\xF3n "),s()()()}if(e&2){let t,i,r,o,a,l,d,p,h=y();D("formGroup",h.proyeccionForm),f(5),Z("is-invalid",((t=h.proyeccionForm.get("idSala"))==null?null:t.invalid)&&((t=h.proyeccionForm.get("idSala"))==null?null:t.touched)),f(3),z(h.salas),f(2),C((i=h.proyeccionForm.get("idSala"))!=null&&i.invalid&&((i=h.proyeccionForm.get("idSala"))!=null&&i.touched)?10:-1),f(),C(h.salas.length===0&&!h.cargando?11:-1),f(5),Z("is-invalid",((r=h.proyeccionForm.get("idPelicula"))==null?null:r.invalid)&&((r=h.proyeccionForm.get("idPelicula"))==null?null:r.touched)),f(3),z(h.peliculas),f(2),C((o=h.proyeccionForm.get("idPelicula"))!=null&&o.invalid&&((o=h.proyeccionForm.get("idPelicula"))!=null&&o.touched)?21:-1),f(),C(h.peliculas.length===0&&!h.cargando?22:-1),f(6),Z("is-invalid",((a=h.proyeccionForm.get("fecha"))==null?null:a.invalid)&&((a=h.proyeccionForm.get("fecha"))==null?null:a.touched)),D("min",h.obtenerFechaMinima()),f(),C((l=h.proyeccionForm.get("fecha"))!=null&&l.invalid&&((l=h.proyeccionForm.get("fecha"))!=null&&l.touched)?29:-1),f(7),Z("is-invalid",((d=h.proyeccionForm.get("hora"))==null?null:d.invalid)&&((d=h.proyeccionForm.get("hora"))==null?null:d.touched)),f(),C((p=h.proyeccionForm.get("hora"))!=null&&p.invalid&&((p=h.proyeccionForm.get("hora"))!=null&&p.touched)?37:-1),f(5),D("disabled",h.proyeccionForm.invalid||h.salas.length===0||h.peliculas.length===0)}}var Bu=class e{errorMsg=null;infoMsg=null;proyeccionService=g(Kn);salaService=g(pt);peliculaService=g(xt);route=g(fe);router=g(H);salas=[];peliculas=[];idCine=null;cargando=!0;proyeccionForm=new pe({idSala:new R("",[w.required]),idPelicula:new R("",[w.required]),fecha:new R("",[w.required]),hora:new R("",[w.required])});ngOnInit(){if(this.idCine=this.route.snapshot.paramMap.get("idCine"),!this.idCine){this.errorMsg="ID de cine no v\xE1lido",this.cargando=!1;return}this.cargarSalas(),this.cargarPeliculas()}cargarSalas(){this.idCine&&this.salaService.verSalasPorCine(this.idCine).subscribe({next:n=>{this.salas=n,this.verificarCargaCompleta()},error:n=>{this.errorMsg=n.error||"Error al cargar las salas",this.cargando=!1}})}cargarPeliculas(){this.peliculaService.verPeliculas().subscribe({next:n=>{this.peliculas=n,this.verificarCargaCompleta()},error:n=>{this.errorMsg=n.error||"Error al cargar las pel\xEDculas",this.cargando=!1}})}verificarCargaCompleta(){this.salas.length>=0&&this.peliculas.length>=0&&(this.cargando=!1)}crearProyeccion(){if(this.proyeccionForm.invalid){this.infoMsg="Complete todos los campos correctamente";return}let n={idSala:this.proyeccionForm.value.idSala,idPelicula:this.proyeccionForm.value.idPelicula,fecha:this.proyeccionForm.value.fecha,hora:this.proyeccionForm.value.hora};this.proyeccionService.crearProyeccion(n).subscribe({next:()=>{this.infoMsg="Proyecci\xF3n creada exitosamente",this.proyeccionForm.reset()},error:t=>{this.errorMsg=t.error||"Error al crear la proyecci\xF3n"}})}obtenerFechaMinima(){return new Date().toISOString().split("T")[0]}obtenerTituloPelicula(){return this.peliculas.find(n=>n.id===this.proyeccionForm.value.idPelicula)?.titulo||"N/A"}obtenerNombreSala(){return this.salas.find(n=>n.id===this.proyeccionForm.value.idSala)?.id||"N/A"}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-crear-proyeccion-component"]],decls:12,vars:3,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","mb-4"],[1,"bi","bi-calendar-plus"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"alert","alert-success","alert-dismissible","fade","show"],[1,"text-center","my-5"],[3,"formGroup"],[1,"bi","bi-exclamation-triangle"],["type","button",1,"btn-close",3,"click"],[1,"bi","bi-check-circle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","sala",1,"form-label"],[1,"bi","bi-door-closed"],["id","sala","formControlName","idSala",1,"form-select"],["value",""],[3,"value"],[1,"invalid-feedback","d-block"],[1,"text-warning","d-block","mt-2"],["for","pelicula",1,"form-label"],[1,"bi","bi-film"],["id","pelicula","formControlName","idPelicula",1,"form-select"],[1,"row"],[1,"col-md-6","mb-3"],["for","fecha",1,"form-label"],[1,"bi","bi-calendar-event"],["type","date","id","fecha","formControlName","fecha",1,"form-control",3,"min"],[1,"text-muted","d-block","mt-1"],["for","hora",1,"form-label"],[1,"bi","bi-clock"],["type","time","id","hora","formControlName","hora",1,"form-control"],[1,"d-flex","gap-2","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-save"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),m(6,"i",6),u(7," Crear Proyecci\xF3n "),s(),v(8,k2,4,1,"div",7),v(9,L2,4,1,"div",8),v(10,V2,6,0,"div",9)(11,W2,45,17,"form",10),s()()()()()),t&2&&(f(8),C(i.errorMsg?8:-1),f(),C(i.infoMsg?9:-1),f(),C(i.cargando?10:11))},dependencies:[Y,ae,oe,ke,Le,J,Re,ee,re,ne,ie],encapsulation:2})};var Z_=(e,n)=>n.id;function Z2(e,n){if(e&1){let t=V();c(0,"div",7),m(1,"i",11),u(2),c(3,"button",12),I("click",function(){P(t);let r=y();return k(r.errorMsg=null)}),s()()}if(e&2){let t=y();f(2),E(" ",t.errorMsg," ")}}function Y2(e,n){if(e&1){let t=V();c(0,"div",8),m(1,"i",13),u(2),c(3,"button",12),I("click",function(){P(t);let r=y();return k(r.infoMsg=null)}),s()()}if(e&2){let t=y();f(2),E(" ",t.infoMsg," ")}}function Q2(e,n){e&1&&(c(0,"div",9)(1,"div",14)(2,"span",15),u(3,"Cargando..."),s()(),c(4,"p",16),u(5,"Cargando informaci\xF3n de la proyecci\xF3n..."),s()())}function K2(e,n){if(e&1&&(c(0,"option",27),u(1),s()),e&2){let t=n.$implicit;D("value",t.id),f(),E(" Sala ",t.id," ")}}function J2(e,n){e&1&&(c(0,"div",28),u(1," La sala es requerida "),s())}function X2(e,n){if(e&1&&(c(0,"option",27),u(1),s()),e&2){let t=n.$implicit;D("value",t.id),f(),eo(" ",t.titulo," (",t.clasificacion.codigo,") - ",t.duracion," min ")}}function eO(e,n){e&1&&(c(0,"div",28),u(1," La pel\xEDcula es requerida "),s())}function tO(e,n){e&1&&(c(0,"div",28),u(1," La fecha es requerida "),s())}function nO(e,n){e&1&&(c(0,"div",28),u(1," La hora es requerida "),s())}function iO(e,n){if(e&1){let t=V();c(0,"form",17),I("ngSubmit",function(){P(t);let r=y();return k(r.editarProyeccion())}),c(1,"div",18)(2,"label",19),m(3,"i",20),u(4," ID de Proyecci\xF3n "),s(),m(5,"input",21),c(6,"small",22),u(7,"Este campo no se puede modificar"),s()(),c(8,"div",18)(9,"label",23),m(10,"i",24),u(11," Sala * "),s(),c(12,"select",25)(13,"option",26),u(14,"Seleccione una sala"),s(),G(15,K2,2,2,"option",27,Z_),s(),v(17,J2,2,0,"div",28),s(),c(18,"div",18)(19,"label",29),m(20,"i",30),u(21," Pel\xEDcula * "),s(),c(22,"select",31)(23,"option",26),u(24,"Seleccione una pel\xEDcula"),s(),G(25,X2,2,4,"option",27,Z_),s(),v(27,eO,2,0,"div",28),s(),c(28,"div",32)(29,"div",33)(30,"label",34),m(31,"i",35),u(32," Fecha * "),s(),m(33,"input",36),v(34,tO,2,0,"div",28),c(35,"small",37),u(36," Seleccione una fecha desde hoy en adelante "),s()(),c(37,"div",33)(38,"label",38),m(39,"i",39),u(40," Hora * "),s(),m(41,"input",40),v(42,nO,2,0,"div",28),c(43,"small",37),u(44," Formato: HH:MM (24 horas) "),s()()(),c(45,"div",41)(46,"button",42),m(47,"i",43),u(48," Guardar Cambios "),s()()()}if(e&2){let t,i,r,o,a,l,d,p,h=y();D("formGroup",h.proyeccionForm),f(5),D("value",h.proyeccion==null?null:h.proyeccion.id),f(7),Z("is-invalid",((t=h.proyeccionForm.get("idSala"))==null?null:t.invalid)&&((t=h.proyeccionForm.get("idSala"))==null?null:t.touched)),f(3),z(h.salas),f(2),C((i=h.proyeccionForm.get("idSala"))!=null&&i.invalid&&((i=h.proyeccionForm.get("idSala"))!=null&&i.touched)?17:-1),f(5),Z("is-invalid",((r=h.proyeccionForm.get("idPelicula"))==null?null:r.invalid)&&((r=h.proyeccionForm.get("idPelicula"))==null?null:r.touched)),f(3),z(h.peliculas),f(2),C((o=h.proyeccionForm.get("idPelicula"))!=null&&o.invalid&&((o=h.proyeccionForm.get("idPelicula"))!=null&&o.touched)?27:-1),f(6),Z("is-invalid",((a=h.proyeccionForm.get("fecha"))==null?null:a.invalid)&&((a=h.proyeccionForm.get("fecha"))==null?null:a.touched)),D("min",h.obtenerFechaMinima()),f(),C((l=h.proyeccionForm.get("fecha"))!=null&&l.invalid&&((l=h.proyeccionForm.get("fecha"))!=null&&l.touched)?34:-1),f(7),Z("is-invalid",((d=h.proyeccionForm.get("hora"))==null?null:d.invalid)&&((d=h.proyeccionForm.get("hora"))==null?null:d.touched)),f(),C((p=h.proyeccionForm.get("hora"))!=null&&p.invalid&&((p=h.proyeccionForm.get("hora"))!=null&&p.touched)?42:-1),f(4),D("disabled",h.proyeccionForm.invalid)}}var $u=class e{errorMsg=null;infoMsg=null;proyeccionService=g(Kn);salaService=g(pt);peliculaService=g(xt);route=g(fe);router=g(H);salas=[];peliculas=[];proyeccion;idCine=null;cargando=!0;proyeccionForm=new pe({idSala:new R("",[w.required]),idPelicula:new R("",[w.required]),fecha:new R("",[w.required]),hora:new R("",[w.required])});ngOnInit(){let n=this.route.snapshot.paramMap.get("id");if(!n){this.errorMsg="ID de proyecci\xF3n no v\xE1lido",this.cargando=!1;return}this.cargarProyeccion(n)}cargarProyeccion(n){this.proyeccionService.verProyeccion(n).subscribe({next:t=>{this.proyeccion=t,this.salaService.verSala(t.idSala).subscribe({next:i=>{this.idCine=i.idCine,this.cargarSalas(),this.cargarPeliculas(),this.cargarDatosEnFormulario()},error:i=>{this.errorMsg=i.error||"Error al cargar informaci\xF3n de la sala",this.cargando=!1}})},error:t=>{this.errorMsg=t.error||"Error al cargar la proyecci\xF3n",this.cargando=!1}})}cargarDatosEnFormulario(){this.proyeccion&&this.proyeccionForm.patchValue({idSala:this.proyeccion.idSala,idPelicula:this.proyeccion.idPelicula,fecha:this.proyeccion.fecha,hora:this.proyeccion.hora})}cargarSalas(){this.idCine&&this.salaService.verSalasPorCine(this.idCine).subscribe({next:n=>{this.salas=n,this.verificarCargaCompleta()},error:n=>{this.errorMsg=n.error||"Error al cargar las salas",this.cargando=!1}})}cargarPeliculas(){this.peliculaService.verPeliculas().subscribe({next:n=>{this.peliculas=n,this.verificarCargaCompleta()},error:n=>{this.errorMsg=n.error||"Error al cargar las pel\xEDculas",this.cargando=!1}})}verificarCargaCompleta(){this.salas.length>=0&&this.peliculas.length>=0&&(this.cargando=!1)}editarProyeccion(){if(this.proyeccionForm.invalid){this.infoMsg="Complete todos los campos correctamente";return}if(!this.proyeccion?.id){this.errorMsg="No se pudo obtener el ID de la proyecci\xF3n";return}let n={id:this.proyeccion.id,idSala:this.proyeccionForm.value.idSala,idPelicula:this.proyeccionForm.value.idPelicula,fecha:this.proyeccionForm.value.fecha,hora:this.proyeccionForm.value.hora};this.proyeccionService.editarProyeccion(n).subscribe({next:()=>{this.infoMsg="Proyecci\xF3n actualizada exitosamente"},error:t=>{this.errorMsg=t.error||"Error al actualizar la proyecci\xF3n"}})}obtenerFechaMinima(){return new Date().toISOString().split("T")[0]}obtenerTituloPelicula(){return this.peliculas.find(n=>n.id===this.proyeccionForm.value.idPelicula)?.titulo||"N/A"}obtenerNombreSala(){return this.salas.find(n=>n.id===this.proyeccionForm.value.idSala)?.id||"N/A"}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-editar-proyeccion-component"]],decls:12,vars:3,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-md-8"],[1,"card","shadow"],[1,"card-body"],[1,"card-title","mb-4"],[1,"bi","bi-pencil-square"],[1,"alert","alert-danger","alert-dismissible","fade","show"],[1,"alert","alert-success","alert-dismissible","fade","show"],[1,"text-center","my-5"],[3,"formGroup"],[1,"bi","bi-exclamation-triangle"],["type","button",1,"btn-close",3,"click"],[1,"bi","bi-check-circle"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-3"],[3,"ngSubmit","formGroup"],[1,"mb-3"],[1,"form-label"],[1,"bi","bi-hash"],["type","hidden","disabled","","readonly","",1,"form-control",3,"value"],[1,"text-muted"],["for","sala",1,"form-label"],[1,"bi","bi-door-closed"],["id","sala","formControlName","idSala",1,"form-select"],["value",""],[3,"value"],[1,"invalid-feedback","d-block"],["for","pelicula",1,"form-label"],[1,"bi","bi-film"],["id","pelicula","formControlName","idPelicula",1,"form-select"],[1,"row"],[1,"col-md-6","mb-3"],["for","fecha",1,"form-label"],[1,"bi","bi-calendar-event"],["type","date","id","fecha","formControlName","fecha",1,"form-control",3,"min"],[1,"text-muted","d-block","mt-1"],["for","hora",1,"form-label"],[1,"bi","bi-clock"],["type","time","id","hora","formControlName","hora",1,"form-control"],[1,"d-flex","gap-2","justify-content-end"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-save"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3",5),m(6,"i",6),u(7," Editar Proyecci\xF3n "),s(),v(8,Z2,4,1,"div",7),v(9,Y2,4,1,"div",8),v(10,Q2,6,0,"div",9)(11,iO,49,16,"form",10),s()()()()()),t&2&&(f(8),C(i.errorMsg?8:-1),f(),C(i.infoMsg?9:-1),f(),C(i.cargando?10:11))},dependencies:[Y,ae,oe,ke,Le,J,Re,ee,re,ne,ie],encapsulation:2})};var Io=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/boletos";comprarBoleto(n){return this.http.post(this.URL,n)}verMisBoletos(){return this.http.get(this.URL)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var rO=e=>["/ver-pelicula",e];function oO(e,n){e&1&&(c(0,"div",1)(1,"div",3)(2,"span",4),u(3,"Cargando..."),s()(),c(4,"p",5),u(5,"Cargando informaci\xF3n..."),s()())}function aO(e,n){if(e&1){let t=V();c(0,"div",12),m(1,"i",14),u(2),c(3,"button",15),I("click",function(){P(t);let r=y(2);return k(r.errorMsg=null)}),s()()}if(e&2){let t=y(2);f(2),E(" ",t.errorMsg," ")}}function sO(e,n){if(e&1){let t=V();c(0,"div",13),m(1,"i",16),u(2),c(3,"button",15),I("click",function(){P(t);let r=y(2);return k(r.infoMsg=null)}),s()()}if(e&2){let t=y(2);f(2),E(" ",t.infoMsg," ")}}function lO(e,n){e&1&&(c(0,"div",37),u(1," La fecha de pago es requerida "),s())}function cO(e,n){e&1&&(m(0,"span",43),u(1," Procesando... "))}function uO(e,n){e&1&&(m(0,"i",44),u(1," Comprar Boleto "))}function dO(e,n){if(e&1){let t=V();c(0,"div",17)(1,"h5",18),m(2,"i",19),u(3," Detalles de la Proyecci\xF3n "),s(),c(4,"div",20)(5,"div",21)(6,"div",22),m(7,"i",23),c(8,"div")(9,"small",24),u(10,"Fecha"),s(),c(11,"strong"),u(12),s()()()(),c(13,"div",21)(14,"div",22),m(15,"i",25),c(16,"div")(17,"small",24),u(18,"Hora"),s(),c(19,"strong"),u(20),s()()()(),c(21,"div",21)(22,"div",22),m(23,"i",26),c(24,"div")(25,"small",24),u(26,"Sala"),s(),c(27,"strong"),u(28),s()()()(),c(29,"div",21)(30,"div",22),m(31,"i",27),c(32,"div")(33,"small",24),u(34,"Pel\xEDcula"),s(),c(35,"a",28)(36,"strong"),u(37,"Ver detalles"),s()()()()()()(),m(38,"hr"),c(39,"div",17)(40,"h5",18),m(41,"i",29),u(42," Informaci\xF3n de Pago "),s(),c(43,"div",30)(44,"span",31),u(45,"Precio del boleto:"),s(),c(46,"span",32),u(47),s()()(),m(48,"hr"),c(49,"form",33),I("ngSubmit",function(){P(t);let r=y(2);return k(r.comprarBoleto())}),c(50,"div",17)(51,"label",34),m(52,"i",35),u(53," Fecha del Pago "),s(),m(54,"input",36),v(55,lO,2,0,"div",37),s(),c(56,"div",38),m(57,"input",39),c(58,"label",40),u(59," Confirmar compra de este boleto por "),c(60,"strong"),u(61),s()()(),c(62,"div",41)(63,"button",42),v(64,cO,2,0)(65,uO,2,0),s()()()}if(e&2){let t,i,r=y(2);f(12),K(r.proyeccion.fecha),f(8),K(r.proyeccion.hora),f(8),K(r.proyeccion.idSala),f(7),D("routerLink",Ue(12,rO,r.proyeccion.idPelicula)),f(12),E("Q",r.proyeccion.precio),f(2),D("formGroup",r.compraForm),f(5),Z("is-invalid",((t=r.compraForm.get("fechaPago"))==null?null:t.invalid)&&((t=r.compraForm.get("fechaPago"))==null?null:t.touched)),f(),C((i=r.compraForm.get("fechaPago"))!=null&&i.invalid&&((i=r.compraForm.get("fechaPago"))!=null&&i.touched)?55:-1),f(6),E("Q",r.proyeccion.precio),f(2),D("disabled",r.procesandoCompra||r.compraForm.invalid),f(),C(r.procesandoCompra?64:65)}}function fO(e,n){if(e&1&&(c(0,"div",2)(1,"div",6)(2,"div",7)(3,"div",8)(4,"h4",9),m(5,"i",10),u(6," Comprar Boleto "),s()(),c(7,"div",11),v(8,aO,4,1,"div",12),v(9,sO,4,1,"div",13),v(10,dO,66,14),s()()()()),e&2){let t=y();f(8),C(t.errorMsg?8:-1),f(),C(t.infoMsg?9:-1),f(),C(t.proyeccion?10:-1)}}var Hu=class e{route=g(fe);router=g(H);proyeccionService=g(Kn);boletoService=g(Io);proyeccion;cargando=!0;errorMsg=null;infoMsg=null;procesandoCompra=!1;compraForm=new pe({fechaPago:new R("",[w.required]),confirmar:new R(!1,[w.requiredTrue])});ngOnInit(){let n=this.route.snapshot.paramMap.get("idProyeccion");if(!n){this.errorMsg="ID de proyecci\xF3n no v\xE1lido",this.cargando=!1;return}let t=new Date().toISOString().split("T")[0];this.compraForm.patchValue({fechaPago:t}),this.proyeccionService.verProyeccion(n).subscribe({next:i=>{this.proyeccion=i,this.cargando=!1},error:i=>{this.errorMsg=i.error||"Error al cargar la proyecci\xF3n",this.cargando=!1}})}comprarBoleto(){if(this.compraForm.invalid){this.errorMsg="Complete todos los campos correctamente y confirme la compra";return}if(!this.proyeccion){this.errorMsg="No se pudo obtener informaci\xF3n de la proyecci\xF3n";return}this.procesandoCompra=!0,this.errorMsg=null,this.infoMsg=null;let n={idProyeccion:this.proyeccion.id,pagoDTO:{idUsuario:0,fecha:this.compraForm.value.fechaPago,monto:+(this.proyeccion.precio??0)}};this.boletoService.comprarBoleto(n).subscribe({next:()=>{this.infoMsg="Boleto comprado exitosamente",this.procesandoCompra=!1},error:t=>{this.errorMsg=t.error||"Error al procesar la compra",this.procesandoCompra=!1}})}cancelar(){this.router.navigate(["/cines"])}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-comprar-boleto-component"]],decls:3,vars:1,consts:[[1,"container","mt-5"],[1,"text-center","my-5"],[1,"row","justify-content-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"col-md-8","col-lg-6"],[1,"card","shadow-lg"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-ticket-perforated"],[1,"card-body","p-4"],["role","alert",1,"alert","alert-danger","alert-dismissible","fade","show"],["role","alert",1,"alert","alert-success","alert-dismissible","fade","show"],[1,"bi","bi-exclamation-triangle-fill"],["type","button",1,"btn-close",3,"click"],[1,"bi","bi-check-circle-fill"],[1,"mb-4"],[1,"text-secondary","mb-3"],[1,"bi","bi-film"],[1,"row","g-3"],[1,"col-6"],[1,"d-flex","align-items-center"],[1,"bi","bi-calendar3","text-primary","me-2"],[1,"text-muted","d-block"],[1,"bi","bi-clock","text-primary","me-2"],[1,"bi","bi-door-closed","text-primary","me-2"],[1,"bi","bi-camera-reels","text-primary","me-2"],[1,"text-decoration-none",3,"routerLink"],[1,"bi","bi-credit-card"],[1,"d-flex","justify-content-between","align-items-center","mb-3","p-3","bg-light","rounded"],[1,"fw-bold"],[1,"fs-4","text-success","fw-bold"],[3,"ngSubmit","formGroup"],["for","fechaPago",1,"form-label","fw-bold"],[1,"bi","bi-calendar-event"],["type","date","id","fechaPago","formControlName","fechaPago",1,"form-control"],[1,"invalid-feedback"],[1,"form-check","mb-4"],["type","checkbox","id","confirmar","formControlName","confirmar",1,"form-check-input"],["for","confirmar",1,"form-check-label"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary","btn-lg",3,"disabled"],["role","status",1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-cart-check"]],template:function(t,i){t&1&&(c(0,"div",0),v(1,oO,6,0,"div",1)(2,fO,11,3,"div",2),s()),t&2&&(f(),C(i.cargando?1:2))},dependencies:[Y,ae,oe,J,ns,ee,re,ne,ie,$e],encapsulation:2})};var pO=e=>["/ver-pelicula",e],mO=e=>["/ver-cine",e],hO=e=>["/ver-sala",e],gO=(e,n)=>n.id;function vO(e,n){e&1&&(c(0,"div",4)(1,"div",7)(2,"span",8),u(3,"Cargando..."),s()(),c(4,"p",9),u(5,"Cargando tus boletos..."),s()())}function CO(e,n){if(e&1&&(c(0,"div",5),m(1,"i",10),u(2),s()),e&2){let t=y();f(2),E(" ",t.errorMsg," ")}}function yO(e,n){e&1&&(c(0,"div",4),m(1,"i",11),c(2,"h4",12),u(3,"No tienes boletos"),s(),c(4,"p",13),u(5,"A\xFAn no has comprado ning\xFAn boleto para pel\xEDculas"),s(),c(6,"a",14),m(7,"i",15),u(8," Explorar Cines "),s()())}function _O(e,n){if(e&1&&(c(0,"div",23)(1,"h5",26),m(2,"i",27),c(3,"a",28),u(4),s()()()),e&2){let t=y().$implicit;f(3),D("routerLink",Ue(2,pO,t.pelicula.id)),f(),E(" ",t.pelicula.titulo," ")}}function bO(e,n){if(e&1&&(c(0,"div",24)(1,"small",13),m(2,"i",29),u(3," Cine "),s(),c(4,"div")(5,"a",30),u(6),s()(),c(7,"small",13),u(8),s()()),e&2){let t=y().$implicit;f(5),D("routerLink",Ue(3,mO,t.cine.id)),f(),E(" ",t.cine.nombre," "),f(2),K(t.cine.ubicacion)}}function EO(e,n){if(e&1&&(c(0,"div",24)(1,"small",13),m(2,"i",31),u(3," Sala "),s(),c(4,"div")(5,"a",28),u(6),s()()()),e&2){let t=y().$implicit;f(5),D("routerLink",Ue(2,hO,t.sala.id)),f(),E(" Sala #",t.sala.id," ")}}function DO(e,n){if(e&1&&(c(0,"div",24)(1,"div",32)(2,"div",33)(3,"small",34),m(4,"i",35),u(5," Fecha "),s(),c(6,"strong"),u(7),s()(),c(8,"div",33)(9,"small",34),m(10,"i",36),u(11," Hora "),s(),c(12,"strong"),u(13),s()()()()),e&2){let t=y().$implicit,i=y(2);f(7),K(i.formatearFecha(t.proyeccion.fecha)),f(6),K(i.formatearHora(t.proyeccion.hora))}}function SO(e,n){if(e&1&&(c(0,"div",16)(1,"div",17)(2,"div",18)(3,"div",19)(4,"h6",20),m(5,"i",21),u(6),s()()(),c(7,"div",22),v(8,_O,5,4,"div",23),v(9,bO,9,5,"div",24),m(10,"hr",25),v(11,EO,7,4,"div",24),v(12,DO,14,2,"div",24),s()()()),e&2){let t=n.$implicit;f(6),E(" Boleto #",t.id," "),f(2),C(t.pelicula?8:-1),f(),C(t.cine?9:-1),f(2),C(t.sala?11:-1),f(),C(t.proyeccion?12:-1)}}function xO(e,n){if(e&1&&(c(0,"div",6),G(1,SO,13,5,"div",16,gO),s()),e&2){let t=y();f(),z(t.boletos)}}var Gu=class e{boletoService=g(Io);proyeccionService=g(Kn);cineService=g(Ee);salaService=g(pt);peliculaService=g(xt);boletos=[];cargando=!0;errorMsg=null;ngOnInit(){this.cargarBoletos()}cargarBoletos(){this.boletoService.verMisBoletos().subscribe({next:n=>{this.boletos=n,this.cargando=!1,console.log(n)},error:n=>{this.errorMsg=n.error||"Error al cargar los boletos",this.cargando=!1}})}formatearFecha(n){return new Date(n).toLocaleDateString("es-GT",{year:"numeric",month:"long",day:"numeric"})}formatearHora(n){return n.substring(0,5)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-mis-boletos-component"]],decls:9,vars:1,consts:[[1,"container","mt-5"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"text-primary"],[1,"bi","bi-ticket-perforated-fill"],[1,"text-center","my-5"],["role","alert",1,"alert","alert-danger"],[1,"row","g-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"bi","bi-exclamation-triangle-fill"],[1,"bi","bi-ticket",2,"font-size","5rem","color","#ccc"],[1,"text-muted","mt-3"],[1,"text-muted"],["routerLink","/cines",1,"btn","btn-primary","mt-3"],[1,"bi","bi-film"],[1,"col-12","col-md-6","col-lg-4"],[1,"card","h-100","shadow-sm","hover-shadow"],[1,"card-header","bg-primary","text-white"],[1,"d-flex","justify-content-between","align-items-center"],[1,"mb-0"],[1,"bi","bi-ticket-detailed"],[1,"card-body"],[1,"mb-3"],[1,"mb-2"],[1,"my-2"],[1,"card-title"],[1,"bi","bi-film","text-primary"],[1,"text-decoration-none",3,"routerLink"],[1,"bi","bi-geo-alt-fill"],[1,"text-decoration-none","fw-bold",3,"routerLink"],[1,"bi","bi-door-closed"],[1,"row","g-2"],[1,"col-6"],[1,"text-muted","d-block"],[1,"bi","bi-calendar3"],[1,"bi","bi-clock"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"h2",2),m(3,"i",3),u(4," Mis Boletos "),s()(),v(5,vO,6,0,"div",4)(6,CO,3,1,"div",5)(7,yO,9,0,"div",4)(8,xO,3,0,"div",6),s()),t&2&&(f(5),C(i.cargando?5:i.errorMsg?6:i.boletos.length===0?7:8))},dependencies:[Y,$e],encapsulation:2})};var wo=class e{http=g(xe);URL="http://localhost:8080/manejador-cines-api/api/v1/reportes";verReporteAdminCines(n,t){return this.http.post(`${this.URL}/admin-cines/${t}`,n,{responseType:"blob"})}verReporteAdminSistema(n,t){return this.http.post(`${this.URL}/admin-sistema/${t}`,n,{responseType:"blob"})}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var IO=(e,n)=>n.valor,wO=(e,n)=>n.id;function TO(e,n){if(e&1&&(c(0,"div",3),m(1,"i",32),u(2),s()),e&2){let t=y();f(2),E(" ",t.errorMsg," ")}}function MO(e,n){if(e&1&&(c(0,"div",4),m(1,"i",33),u(2),s()),e&2){let t=y();f(2),E(" ",t.infoMsg," ")}}function AO(e,n){if(e&1&&(c(0,"option",16),u(1),s()),e&2){let t=n.$implicit;D("value",t.valor),f(),K(t.texto)}}function NO(e,n){e&1&&(c(0,"div",26),m(1,"i",34),u(2," No tienes salas disponibles en tus cines "),s())}function RO(e,n){if(e&1&&(c(0,"option",16),u(1),s()),e&2){let t=n.$implicit,i=y(2);D("value",t.id),f(),Nt(" Sala #",t.id," - ",i.obtenerNombreCine(+t.idCine)," ")}}function FO(e,n){if(e&1&&(c(0,"select",27)(1,"option",35),u(2,"Todas las salas de mis cines"),s(),G(3,RO,2,3,"option",16,wO),s()),e&2){let t=y();f(3),z(t.salas)}}function OO(e,n){e&1&&(m(0,"span",36),u(1," Generando... "))}function PO(e,n){e&1&&(m(0,"i",8),u(1," Generar Reporte "))}var zu=class e{reporteService=g(wo);salaService=g(pt);cineService=g(Ee);jwtService=g(Ie);fb=g(Oi);filtrosForm;salas=[];cines=[];cargando=!1;errorMsg=null;infoMsg=null;tiposReporte=[{valor:"comentarios",texto:"Comentarios de Salas"},{valor:"peliculas",texto:"Pel\xEDculas M\xE1s Gustadas"},{valor:"salas",texto:"Salas M\xE1s Gustadas"},{valor:"boletos",texto:"Boletos Vendidos"}];constructor(){this.filtrosForm=this.fb.group({tipoReporte:["comentarios",w.required],idSala:[""],fechaInicio:[""],fechaFin:[""]})}ngOnInit(){this.cargarCinesDelUsuario()}cargarCinesDelUsuario(){let n=this.jwtService.getUsuarioActual();this.cineService.verCinesPorUsuario(n.id).subscribe({next:t=>{this.cines=t,this.cines.length>0?this.cargarSalasDeCines():this.errorMsg="No tienes cines registrados"},error:t=>{this.errorMsg=t.error||"Error al cargar los cines"}})}cargarSalasDeCines(){this.salaService.verSalas().subscribe({next:n=>{let t=this.cines.map(i=>i.id);this.salas=n.filter(i=>t.includes(i.idCine))},error:n=>{this.errorMsg=n.error||"Error al cargar las salas"}})}validarFormulario(){let n=this.filtrosForm.get("fechaInicio")?.value,t=this.filtrosForm.get("fechaFin")?.value;return n>t?(this.errorMsg="La fecha de inicio debe ser menor o igual a la fecha de fin",!1):this.filtrosForm.get("tipoReporte")?.value?!0:(this.errorMsg="Debe seleccionar un tipo de reporte",!1)}generarReporte(){if(this.errorMsg=null,this.infoMsg=null,!this.validarFormulario())return;this.cargando=!0;let n={fechaInicio:this.filtrosForm.get("fechaInicio")?.value,fechaFin:this.filtrosForm.get("fechaFin")?.value},t=this.filtrosForm.get("idSala")?.value;t&&(n.idSala=t);let i=this.filtrosForm.get("tipoReporte")?.value;this.reporteService.verReporteAdminCines(n,i).subscribe({next:r=>{this.cargando=!1,this.infoMsg="Reporte generado exitosamente";let o=window.URL.createObjectURL(r);window.open(o,"_blank")},error:r=>{this.cargando=!1,this.errorMsg="Sin coincidencias"}})}limpiarFormulario(){this.filtrosForm.reset({tipoReporte:"comentarios"}),this.errorMsg=null,this.infoMsg=null}obtenerNombreCine(n){let t=this.cines.find(i=>i.id===n.toString());return t?t.nombre:`Cine ${n}`}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-reporte-admin-cines-component"]],decls:48,vars:7,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-8"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[1,"card","shadow-lg"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"bi","bi-file-earmark-pdf"],[1,"card-body","p-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","tipoReporte",1,"form-label"],[1,"bi","bi-card-list"],[1,"text-danger"],["id","tipoReporte","formControlName","tipoReporte",1,"form-select"],[3,"value"],[1,"row"],[1,"col-md-6","mb-3"],["for","fechaInicio",1,"form-label"],[1,"bi","bi-calendar-event"],["type","date","id","fechaInicio","formControlName","fechaInicio",1,"form-control"],["for","fechaFin",1,"form-label"],["type","date","id","fechaFin","formControlName","fechaFin",1,"form-control"],["for","idSala",1,"form-label"],[1,"bi","bi-door-open"],[1,"alert","alert-warning"],["id","idSala","formControlName","idSala",1,"form-select"],[1,"d-flex","gap-2","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"bi","bi-x-circle"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"bi","bi-exclamation-triangle"],[1,"bi","bi-check-circle"],[1,"bi","bi-info-circle"],["value",""],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),v(3,TO,3,1,"div",3),v(4,MO,3,1,"div",4),c(5,"div",5)(6,"div",6)(7,"h3",7),m(8,"i",8),u(9," Reportes de Administraci\xF3n de Cines "),s()(),c(10,"div",9)(11,"form",10),I("ngSubmit",function(){return i.generarReporte()}),c(12,"div",11)(13,"label",12),m(14,"i",13),u(15," Tipo de Reporte "),c(16,"span",14),u(17,"*"),s()(),c(18,"select",15),G(19,AO,2,2,"option",16,IO),s()(),m(21,"hr"),c(22,"div",17)(23,"div",18)(24,"label",19),m(25,"i",20),u(26," Fecha de Inicio "),s(),m(27,"input",21),s(),c(28,"div",18)(29,"label",22),m(30,"i",20),u(31," Fecha de Fin "),s(),m(32,"input",23),s()(),m(33,"hr"),c(34,"div",11)(35,"label",24),m(36,"i",25),u(37," Sala "),s(),v(38,NO,3,0,"div",26)(39,FO,5,0,"select",27),s(),m(40,"hr"),c(41,"div",28)(42,"button",29),I("click",function(){return i.limpiarFormulario()}),m(43,"i",30),u(44," Limpiar "),s(),c(45,"button",31),v(46,OO,2,0)(47,PO,2,0),s()()()()()()()()),t&2&&(f(3),C(i.errorMsg?3:-1),f(),C(i.infoMsg?4:-1),f(7),D("formGroup",i.filtrosForm),f(8),z(i.tiposReporte),f(19),C(i.salas.length===0?38:39),f(4),D("disabled",i.cargando),f(3),D("disabled",i.cargando||i.filtrosForm.invalid),f(),C(i.cargando?46:47))},dependencies:[Y,ae,oe,ke,Le,J,Re,ee,re,ne,ie],encapsulation:2})};var bh=(e,n)=>n.valor,kO=(e,n)=>n.id;function LO(e,n){if(e&1&&(c(0,"div",3),m(1,"i",28),u(2),s()),e&2){let t=y();f(2),E(" ",t.errorMsg," ")}}function VO(e,n){if(e&1&&(c(0,"div",4),m(1,"i",29),u(2),s()),e&2){let t=y();f(2),E(" ",t.infoMsg," ")}}function jO(e,n){if(e&1&&(c(0,"option",16),u(1),s()),e&2){let t=n.$implicit;D("value",t.valor),f(),K(t.texto)}}function UO(e,n){if(e&1&&(c(0,"option",16),u(1),s()),e&2){let t=n.$implicit;D("value",t.valor),f(),K(t.texto)}}function BO(e,n){if(e&1&&(c(0,"option",16),u(1),s()),e&2){let t=n.$implicit;D("value",t.valor),f(),K(t.texto)}}function $O(e,n){if(e&1&&(m(0,"hr"),c(1,"div",30)(2,"div",31)(3,"h6",32),m(4,"i",33),u(5," Filtros Adicionales para Anuncios "),s(),c(6,"div",17)(7,"div",18)(8,"label",34),m(9,"i",35),u(10," Tipo de Anuncio (Opcional) "),s(),c(11,"select",36)(12,"option",37),u(13,"Todos los tipos"),s(),G(14,UO,2,2,"option",16,bh),s()(),c(16,"div",18)(17,"label",38),m(18,"i",39),u(19," Vigencia en D\xEDas (Opcional) "),s(),c(20,"select",40)(21,"option",37),u(22,"Todas las vigencias"),s(),G(23,BO,2,2,"option",16,bh),s()()()()()),e&2){let t=y();f(14),z(t.tiposAnuncio),f(9),z(t.diasVigencia)}}function HO(e,n){e&1&&(c(0,"div",43),m(1,"i",45),u(2," No hay anunciantes registrados en el sistema "),s())}function GO(e,n){if(e&1&&(c(0,"option",16),u(1),s()),e&2){let t=n.$implicit;D("value",t.id),f(),Nt(" ",t.nombre," (",t.correo,") ")}}function zO(e,n){if(e&1&&(c(0,"select",44)(1,"option",37),u(2,"Todos los anunciantes"),s(),G(3,GO,2,3,"option",16,kO),s()),e&2){let t=y(2);f(3),z(t.anunciantes)}}function qO(e,n){if(e&1&&(m(0,"hr"),c(1,"div",30)(2,"div",31)(3,"h6",32),m(4,"i",33),u(5," Filtro por Anunciante "),s(),c(6,"div",11)(7,"label",41),m(8,"i",42),u(9," Anunciante (Opcional) "),s(),v(10,HO,3,0,"div",43)(11,zO,5,0,"select",44),s()()()),e&2){let t=y();f(10),C(t.anunciantes.length===0?10:11)}}function WO(e,n){e&1&&(m(0,"span",46),u(1," Generando... "))}function ZO(e,n){e&1&&(m(0,"i",47),u(1," Generar Reporte "))}var qu=class e{reporteService=g(wo);cineService=g(Ee);usuarioService=g(Ut);fb=g(Oi);filtrosForm;cines=[];anunciantes=[];cargando=!1;errorMsg=null;infoMsg=null;tiposReporte=[{valor:"ganancias",texto:"Ganancias del Sistema"},{valor:"anuncios",texto:"Anuncios Publicados"},{valor:"ganancias-anunciante",texto:"Ganancias por Anunciante"},{valor:"salas-populares",texto:"Salas M\xE1s Populares"},{valor:"salas-comentadas",texto:"Salas M\xE1s Comentadas"}];tiposAnuncio=[{valor:"TEXTO_IMAGEN",texto:"Texto e Imagen"},{valor:"TEXTO_VIDEO",texto:"Texto y Video"},{valor:"TEXTO",texto:"Texto"}];diasVigencia=[{valor:"1",texto:"1 d\xEDa"},{valor:"3",texto:"3 d\xEDas"},{valor:"7",texto:"7 d\xEDas"},{valor:"14",texto:"14 d\xEDas"}];constructor(){this.filtrosForm=this.fb.group({tipoReporte:["ganancias",w.required],fechaInicio:[""],fechaFin:[""],tipoAnuncio:[""],vigencia:[""],anuncianteId:[""]}),this.filtrosForm.get("tipoReporte")?.valueChanges.subscribe(()=>{this.limpiarFiltrosOpcionales()})}ngOnInit(){this.cargarAnunciantes()}cargarAnunciantes(){this.usuarioService.obtenerUsuarios().subscribe({next:n=>{this.anunciantes=n.filter(t=>t.rol==="ANUNCIANTE")},error:n=>{console.error("Error al cargar anunciantes:",n)}})}limpiarFiltrosOpcionales(){this.filtrosForm.patchValue({fechaInicio:"",fechaFin:"",tipoAnuncio:"",vigencia:"",anuncianteId:""})}mostrarFiltrosAnuncios(){return this.filtrosForm.get("tipoReporte")?.value==="anuncios"}mostrarFiltroAnunciante(){return this.filtrosForm.get("tipoReporte")?.value==="ganancias-anunciante"}validarFormulario(){let n=this.filtrosForm.get("fechaInicio")?.value,t=this.filtrosForm.get("fechaFin")?.value;return n&&!t||!n&&t?(this.errorMsg="Debe ingresar ambas fechas o ninguna",!1):n&&t&&n>t?(this.errorMsg="La fecha de inicio debe ser menor o igual a la fecha de fin",!1):this.filtrosForm.get("tipoReporte")?.value?!0:(this.errorMsg="Debe seleccionar un tipo de reporte",!1)}generarReporte(){if(this.errorMsg=null,this.infoMsg=null,!this.validarFormulario())return;this.cargando=!0;let n={},t=this.filtrosForm.get("fechaInicio")?.value,i=this.filtrosForm.get("fechaFin")?.value;t&&i&&(n.fechaInicio=t,n.fechaFin=i);let r=this.filtrosForm.get("tipoReporte")?.value;if(this.mostrarFiltrosAnuncios()){let o=this.filtrosForm.get("tipoAnuncio")?.value,a=this.filtrosForm.get("vigencia")?.value;o&&(n.tipoAnuncio=o),a&&(n.vigencia=a)}if(this.mostrarFiltroAnunciante()){let o=this.filtrosForm.get("anuncianteId")?.value;o&&(n.anuncianteId=o)}this.reporteService.verReporteAdminSistema(n,r).subscribe({next:o=>{this.cargando=!1,this.infoMsg="Reporte generado exitosamente";let a=window.URL.createObjectURL(o);window.open(a,"_blank")},error:o=>{this.cargando=!1,this.errorMsg="Sin coincidencias"}})}limpiarFormulario(){this.filtrosForm.reset({tipoReporte:"ganancias"}),this.errorMsg=null,this.infoMsg=null}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-reporte-admin-sistema-component"]],decls:43,vars:8,consts:[[1,"container","mt-4"],[1,"row","justify-content-center"],[1,"col-lg-8"],["role","alert",1,"alert","alert-danger"],["role","alert",1,"alert","alert-success"],[1,"card","shadow-lg"],[1,"card-header","bg-success","text-white"],[1,"mb-0"],[1,"bi","bi-file-earmark-bar-graph"],[1,"card-body","p-4"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","tipoReporte",1,"form-label"],[1,"bi","bi-card-list"],[1,"text-danger"],["id","tipoReporte","formControlName","tipoReporte",1,"form-select"],[3,"value"],[1,"row"],[1,"col-md-6","mb-3"],["for","fechaInicio",1,"form-label"],[1,"bi","bi-calendar-event"],["type","date","id","fechaInicio","formControlName","fechaInicio",1,"form-control"],["for","fechaFin",1,"form-label"],["type","date","id","fechaFin","formControlName","fechaFin",1,"form-control"],[1,"d-flex","gap-2","justify-content-end"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"bi","bi-x-circle"],["type","submit",1,"btn","btn-success",3,"disabled"],[1,"bi","bi-exclamation-triangle"],[1,"bi","bi-check-circle"],[1,"card","bg-light","mb-3"],[1,"card-body"],[1,"card-title"],[1,"bi","bi-funnel"],["for","tipoAnuncio",1,"form-label"],[1,"bi","bi-image"],["id","tipoAnuncio","formControlName","tipoAnuncio",1,"form-select"],["value",""],["for","vigencia",1,"form-label"],[1,"bi","bi-calendar-check"],["id","vigencia","formControlName","vigencia",1,"form-select"],["for","anuncianteId",1,"form-label"],[1,"bi","bi-person-badge"],[1,"alert","alert-warning"],["id","anuncianteId","formControlName","anuncianteId",1,"form-select"],[1,"bi","bi-info-circle"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm","me-2"],[1,"bi","bi-file-earmark-pdf"]],template:function(t,i){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2),v(3,LO,3,1,"div",3),v(4,VO,3,1,"div",4),c(5,"div",5)(6,"div",6)(7,"h3",7),m(8,"i",8),u(9," Reportes de Administraci\xF3n del Sistema "),s()(),c(10,"div",9)(11,"form",10),I("ngSubmit",function(){return i.generarReporte()}),c(12,"div",11)(13,"label",12),m(14,"i",13),u(15," Tipo de Reporte "),c(16,"span",14),u(17,"*"),s()(),c(18,"select",15),G(19,jO,2,2,"option",16,bh),s()(),m(21,"hr"),c(22,"div",17)(23,"div",18)(24,"label",19),m(25,"i",20),u(26," Fecha de Inicio (Opcional) "),s(),m(27,"input",21),s(),c(28,"div",18)(29,"label",22),m(30,"i",20),u(31," Fecha de Fin (Opcional) "),s(),m(32,"input",23),s()(),v(33,$O,25,0),v(34,qO,12,1),m(35,"hr"),c(36,"div",24)(37,"button",25),I("click",function(){return i.limpiarFormulario()}),m(38,"i",26),u(39," Limpiar "),s(),c(40,"button",27),v(41,WO,2,0)(42,ZO,2,0),s()()()()()()()()),t&2&&(f(3),C(i.errorMsg?3:-1),f(),C(i.infoMsg?4:-1),f(7),D("formGroup",i.filtrosForm),f(8),z(i.tiposReporte),f(14),C(i.mostrarFiltrosAnuncios()?33:-1),f(),C(i.mostrarFiltroAnunciante()?34:-1),f(3),D("disabled",i.cargando),f(3),D("disabled",i.cargando),f(),C(i.cargando?41:42))},dependencies:[Y,ae,oe,ke,Le,J,Re,ee,re,ne,ie],encapsulation:2})};var ze=class e{router=g(H);jwtService=g(Ie);canActivate(n,t){let i=n.data.allowedRoles;return!i||i.length===0||this.rolPermitido(i)?!0:(this.router.navigate(["/"]),!1)}rolPermitido(n){let t=this.jwtService.getUsuarioActual();return t?.rol!=null&&n.includes(t.rol)}static \u0275fac=function(t){return new(t||e)};static \u0275prov=A({token:e,factory:e.\u0275fac,providedIn:"root"})};var Y_=[{path:"",component:Qc},{path:"login",component:du},{path:"home",component:fu},{path:"registro",component:pu},{path:"perfil/:id",component:mu},{path:"usuarios",component:hu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_SISTEMA"]}},{path:"precios-tipo-anuncio",component:Du,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_SISTEMA"]}},{path:"precios-vigencia-anuncio",component:Su,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_SISTEMA"]}},{path:"costo-global",component:Fu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_SISTEMA"]}},{path:"reportes-admin-sistema",component:qu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_SISTEMA"]}},{path:"ver-anuncios/:propios",component:bu,canActivate:[ze],data:{allowedRoles:["ANUNCIANTE","ADMINISTRADOR_SISTEMA"]}},{path:"editar-usuario",component:gu},{path:"cartera",component:Cu},{path:"comprar-boleto/:idProyeccion",component:Hu},{path:"mis-boletos",component:Gu},{path:"comprar-anuncio",component:_u,canActivate:[ze],data:{allowedRoles:["ANUNCIANTE"]}},{path:"editar-anuncio",component:Eu,canActivate:[ze],data:{allowedRoles:["ANUNCIANTE","ADMINISTRADOR_SISTEMA"]}},{path:"crear-cine",component:xu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_CINES"]}},{path:"mis-cines",component:Mu},{path:"editar-cine/:id",component:Au,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_CINES"]}},{path:"bloqueo-anuncios/:id",component:Nu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_CINES"]}},{path:"costo-diario/:id",component:Ru,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_CINES","ADMINISTRADOR_SISTEMA"]}},{path:"crear-sala/:idCine",component:Ou,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_CINES"]}},{path:"editar-sala/:id",component:Lu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_CINES"]}},{path:"crear-pelicula",component:Vu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_SISTEMA"]}},{path:"editar-pelicula/:id",component:Uu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_SISTEMA"]}},{path:"crear-proyeccion/:idCine",component:Bu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_CINES"]}},{path:"editar-proyeccion/:id",component:$u,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_CINES"]}},{path:"reportes-admin-cines",component:zu,canActivate:[ze],data:{allowedRoles:["ADMINISTRADOR_CINES"]}},{path:"ver-cines",component:Iu},{path:"ver-cine/:id",component:Tu},{path:"ver-salas/:idCine",component:as},{path:"ver-salas",component:as},{path:"ver-sala/:id",component:ku},{path:"ver-pelicula/:id",component:ju}];var Q_=(e,n)=>{let t=sessionStorage.getItem("token"),i=t?JSON.parse(t).token:null;if(i){let r=e.clone({setHeaders:{Authorization:`Bearer ${i}`}});return n(r)}return n(e)};var K_={providers:[hf(),Xp({eventCoalescing:!0}),oh(Y_),Mm(Am([Q_]))]};var YO=e=>["/perfil",e],QO=()=>["/ver-anuncios",!0],KO=()=>["/ver-anuncios",!1];function JO(e,n){e&1&&(c(0,"a",2),m(1,"img",6),c(2,"span",7),u(3,"Manejador de Cines"),s()())}function XO(e,n){e&1&&(c(0,"a",3),m(1,"img",6),c(2,"span",7),u(3,"Manejador de Cines"),s()())}function eP(e,n){e&1&&(c(0,"div",5)(1,"button",8),u(2,"Iniciar sesi\xF3n"),s(),c(3,"button",9),u(4,"Registrarse"),s()())}function tP(e,n){e&1&&(c(0,"li")(1,"a",27),u(2,"Crear cine"),s()(),c(3,"li")(4,"a",28),u(5,"Ver mis cines"),s()())}function nP(e,n){e&1&&(c(0,"li")(1,"a",29),u(2,"Costo global diario"),s()())}function iP(e,n){e&1&&(c(0,"div",11)(1,"a",12),m(2,"i",30)(3,"br"),c(4,"small"),u(5,"Anuncios"),s()(),c(6,"ul",31)(7,"li")(8,"a",32),u(9,"Comprar"),s()(),c(10,"li")(11,"a",33),u(12,"Ver mis anuncios"),s()()()()),e&2&&(f(11),D("routerLink",Si(1,QO)))}function rP(e,n){e&1&&(c(0,"div",11)(1,"a",12),m(2,"i",34)(3,"br"),c(4,"small"),u(5,"Reportes"),s()(),c(6,"ul",14)(7,"li")(8,"a",35),u(9,"Ver"),s()()()())}function oP(e,n){e&1&&(c(0,"div",11)(1,"a",12),m(2,"i",36)(3,"br"),c(4,"small"),u(5,"Usuarios"),s()(),c(6,"ul",14)(7,"li")(8,"a",37),u(9,"Crear usuario"),s()(),c(10,"li")(11,"a",38),u(12,"Ver usuarios"),s()()()(),c(13,"div",11)(14,"a",12),m(15,"i",30)(16,"br"),c(17,"small"),u(18,"Anuncios"),s()(),c(19,"ul",14)(20,"li")(21,"a",33),u(22,"Ver anuncios"),s()(),c(23,"li")(24,"a",39),u(25,"Precio por tipo"),s()(),c(26,"li")(27,"a",40),u(28,"Precio por vigencia"),s()()()(),c(29,"a",41),m(30,"i",42)(31,"br"),c(32,"small"),u(33,"Crear pel\xEDcula"),s()(),c(34,"a",43),m(35,"i",44)(36,"br"),c(37,"small"),u(38,"Categor\xEDas"),s()(),c(39,"div",11)(40,"a",12),m(41,"i",45)(42,"br"),c(43,"small"),u(44,"Reportes"),s()(),c(45,"ul",14)(46,"li")(47,"a",46),u(48,"Ver"),s()()()()),e&2&&(f(21),D("routerLink",Si(1,KO)))}function aP(e,n){if(e&1&&m(0,"img",23),e&2){let t=y(2);D("src",t.imagenUrl,Xe)}}function sP(e,n){e&1&&m(0,"i",24)}function lP(e,n){if(e&1){let t=V();c(0,"nav",10)(1,"div",11)(2,"a",12),m(3,"i",13)(4,"br"),c(5,"small"),u(6,"Cines"),s()(),c(7,"ul",14)(8,"li")(9,"a",15),u(10,"Ver cines"),s()(),v(11,tP,6,0),v(12,nP,3,0,"li"),s()(),c(13,"a",16),m(14,"i",17)(15,"br"),c(16,"small"),u(17,"Salas"),s()(),c(18,"a",18),m(19,"i",19)(20,"br"),c(21,"small"),u(22,"Boletos"),s()(),v(23,iP,13,2,"div",11),v(24,rP,10,0,"div",11),v(25,oP,49,2),c(26,"a",20),m(27,"i",21)(28,"br"),c(29,"small"),u(30,"Cartera"),s()(),c(31,"a",22),v(32,aP,1,1,"img",23)(33,sP,1,0,"i",24),m(34,"br"),c(35,"small"),u(36,"Perfil"),s()()(),c(37,"button",25),I("click",function(){P(t);let r=y();return k(r.logout())}),m(38,"i",26),u(39," Cerrar sesi\xF3n "),s()}if(e&2){let t=y();f(11),C(t.usuario.rol==="ADMINISTRADOR_CINES"?11:-1),f(),C(t.usuario.rol==="ADMINISTRADOR_SISTEMA"?12:-1),f(11),C(t.usuario.rol==="ANUNCIANTE"?23:-1),f(),C(t.usuario.rol==="ADMINISTRADOR_CINES"?24:-1),f(),C(t.usuario.rol==="ADMINISTRADOR_SISTEMA"?25:-1),f(6),D("routerLink",Ue(7,YO,t.usuario.id)),f(),C(t.usuario&&t.imagenUrl?32:33)}}var Wu=class e{router=g(H);imagenService=g(He);usuario=null;imagenUrl="";usuarioService=g(Ut);ngOnInit(){this.actualizarUsuario(),this.router.events.pipe(tt(n=>n instanceof jt)).subscribe(()=>{this.actualizarUsuario()})}logout(){sessionStorage.removeItem("token"),this.usuario=null,this.router.navigate(["/"])}actualizarUsuario(){let n=sessionStorage.getItem("token");n?(this.usuario=JSON.parse(n).usuario,this.usuarioService.obtenerUsuario(this.usuario.id).subscribe({next:t=>{this.usuario=t,this.usuario.imagen?.id?this.imagenService.obtenerImagen(this.usuario.imagen.id).subscribe({next:i=>this.imagenUrl=URL.createObjectURL(i),error:i=>{console.error("No se pudo cargar la imagen",i),this.imagenUrl=null}}):this.imagenUrl=null},error:t=>{console.error("No se pudo cargar el usuario",t)}})):(this.usuario=null,this.imagenUrl=null)}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-header"]],decls:7,vars:3,consts:[[1,"border-bottom","shadow-sm","bg-dark","text-light"],[1,"container-fluid","d-flex","justify-content-between","align-items-center","py-3","px-4"],["routerLink","/",1,"d-flex","align-items-center","text-light","text-decoration-none"],["routerLink","/home",1,"d-flex","align-items-center","text-light","text-decoration-none"],[1,"d-flex","align-items-center","gap-4"],[1,"d-flex","gap-2"],["src","cine.png","alt","Cines","width","40","height","32",1,"me-2"],[1,"fs-4","fw-semibold"],["routerLink","/login",1,"btn","btn-outline-light"],["routerLink","/registro",1,"btn","btn-primary"],[1,"nav","justify-content-center","align-items-center"],[1,"nav-item","dropdown","text-center"],["data-bs-toggle","dropdown",1,"nav-link","dropdown-toggle","text-light"],[1,"bi","bi-building","fs-4"],[1,"dropdown-menu","dropdown-menu-dark","shadow"],["routerLink","/ver-cines",1,"dropdown-item"],["routerLink","/ver-salas","title","Ver todas las salas",1,"nav-link","text-center","text-light"],[1,"bi","bi-door-open","fs-4"],["routerLink","/mis-boletos","title","Mis boletos",1,"nav-link","text-center","text-light"],[1,"bi","bi-ticket-perforated","fs-4"],["routerLink","/cartera","title","Cartera digital",1,"nav-link","text-center","text-light"],[1,"bi","bi-wallet2","fs-4"],["title","Perfil",1,"nav-link","text-center","text-light",3,"routerLink"],["alt","Perfil","width","32","height","32",1,"rounded-circle",3,"src"],[1,"bi","bi-person-circle","fs-4"],["type","button",1,"btn","btn-outline-danger","ms-3",3,"click"],[1,"bi","bi-box-arrow-right"],["routerLink","/crear-cine",1,"dropdown-item"],["routerLink","/mis-cines",1,"dropdown-item"],["routerLink","/costo-global",1,"dropdown-item"],[1,"bi","bi-megaphone","fs-4"],[1,"dropdown-menu","dropdown-menu-dark","text-small","shadow"],["routerLink","/comprar-anuncio",1,"dropdown-item"],[1,"dropdown-item",3,"routerLink"],[1,"bi","bi-bar-chart-line","fs-4"],["routerLink","/reportes-admin-cines",1,"dropdown-item"],[1,"bi","bi-people","fs-4"],["routerLink","/registro",1,"dropdown-item"],["routerLink","/usuarios",1,"dropdown-item"],["routerLink","/precios-tipo-anuncio",1,"dropdown-item"],["routerLink","/precios-vigencia-anuncio",1,"dropdown-item"],["routerLink","/crear-pelicula",1,"nav-link","text-center","text-light"],[1,"bi","bi-camera-reels","fs-4"],["routerLink","/admin/categorias",1,"nav-link","text-center","text-light"],[1,"bi","bi-tags","fs-4"],[1,"bi","bi-graph-up","fs-4"],["routerLink","/reportes-admin-sistema",1,"dropdown-item"]],template:function(t,i){t&1&&(c(0,"header",0)(1,"div",1),v(2,JO,4,0,"a",2)(3,XO,4,0,"a",3),c(4,"div",4),v(5,eP,5,0,"div",5),v(6,lP,40,9),s()()()),t&2&&(f(2),C(i.usuario?3:2),f(3),C(i.usuario?-1:5),f(),C(i.usuario?6:-1))},dependencies:[sh,$e],styles:["nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{color:#dcdcdc;transition:all .2s ease-in-out}nav[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#0d6efd;transform:translateY(-2px)}.dropdown-menu-dark[_ngcontent-%COMP%]{background-color:#2b2b2b;border:none}.dropdown-item[_ngcontent-%COMP%]:hover{background-color:#3b3b3b}.dropdown-toggle[_ngcontent-%COMP%]:after{display:none}"]})};var Zu=class e{static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-footer"]],decls:4,vars:0,consts:[[1,"bg-dark","text-light","py-4","mt-auto"],[1,"container","text-center"],["href","https://github.com/MynorDaniel/manejador-de-cines","target","_blank",1,"text-light","fs-4"],[1,"bi","bi-github"]],template:function(t,i){t&1&&(M(0,"footer",0)(1,"div",1)(2,"a",2),Fe(3,"i",3),T()()())},encapsulation:2})};var cP=(e,n)=>({"w-auto h-auto p-2 text-only":e,"h-100":n}),uP=(e,n)=>n.id;function dP(e,n){if(e&1&&m(0,"img",3),e&2){let t=y().$implicit,i=y();D("src",i.mediaMap.get(t.id),Xe)}}function fP(e,n){if(e&1&&(c(0,"div",4),m(1,"iframe",7),s()),e&2){let t=y().$implicit,i=y();f(),D("src",i.mediaMap.get(t.id),$l)}}function pP(e,n){if(e&1&&(c(0,"div",1)(1,"div",2),v(2,dP,1,1,"img",3),v(3,fP,2,1,"div",4),c(4,"div",5)(5,"p",6),u(6),s()()()()),e&2){let t=n.$implicit,i=y();f(),D("ngClass",Qp(4,cP,t.tipo==="TEXTO",t.tipo!=="TEXTO")),f(),C(t.tipo==="TEXTO_IMAGEN"&&i.mediaMap.has(t.id)?2:-1),f(),C(t.tipo==="TEXTO_VIDEO"&&i.mediaMap.has(t.id)?3:-1),f(3),K(t.texto)}}var Yu=class e{anuncios=[];imagenService=g(He);videoService=g(Pi);sanitizer=g(Nm);cdr=g(Gn);mediaMap=new Map;anunciosCargados=new Set;objectUrls=[];ngOnInit(){this.cargarMedias()}ngOnChanges(n){n.anuncios&&this.cargarMedias()}cargarMedias(){Array.isArray(this.anuncios)&&this.anuncios.forEach(n=>{!n?.id||this.anunciosCargados.has(n.id)||n.idMedia&&(n.tipo==="TEXTO_IMAGEN"&&this.imagenService.obtenerImagen(n.idMedia).pipe(Kt(1)).subscribe({next:t=>{let i=URL.createObjectURL(t);console.log("imagen",i),this.objectUrls.push(i);let r=this.sanitizer.bypassSecurityTrustUrl(i);this.mediaMap.set(n.id,r),this.anunciosCargados.add(n.id),this.cdr.markForCheck()},error:t=>console.error("Error al obtener imagen:",t)}),n.tipo==="TEXTO_VIDEO"&&this.videoService.obtenerVideo(n.idMedia).pipe(Kt(1)).subscribe({next:t=>{let i=(t.link||"").trim();console.log("video",i);let r="";if(i.includes("youtu.be/")?r=i.split("youtu.be/")[1].split("?")[0]:i.includes("watch?v=")&&(r=i.split("v=")[1].split("&")[0]),!r)return;let o=`https://www.youtube.com/embed/${r}?autoplay=1&mute=1&loop=1&playlist=${r}&vq=small&rel=0`,a=this.sanitizer.bypassSecurityTrustResourceUrl(o);this.mediaMap.set(n.id,a),this.anunciosCargados.add(n.id),this.cdr.markForCheck()},error:t=>console.error("Error al obtener video:",t)}))})}ngOnDestroy(){this.objectUrls.forEach(n=>{try{URL.revokeObjectURL(n)}catch{}}),this.objectUrls=[],this.mediaMap.clear(),this.anunciosCargados.clear()}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-anuncios-widget"]],inputs:{anuncios:"anuncios"},features:[Dt],decls:3,vars:0,consts:[[1,"row","row-cols-1","g-3"],[1,"col"],[1,"card","shadow-sm",3,"ngClass"],["alt","Anuncio imagen",1,"card-img-top",3,"src"],[1,"ratio","ratio-16x9"],[1,"card-body","text-center","p-2"],[1,"card-text","m-0"],["frameborder","0","allowfullscreen","",3,"src"]],template:function(t,i){t&1&&(c(0,"div",0),G(1,pP,7,7,"div",1,uP),s()),t&2&&(f(),z(i.anuncios))},dependencies:[Y,pm],styles:[".text-only[_ngcontent-%COMP%]{display:inline-block;width:100%;height:auto}.card[_ngcontent-%COMP%]{border-radius:10px;overflow:hidden}.card-img-top[_ngcontent-%COMP%], .ratio[_ngcontent-%COMP%]   iframe[_ngcontent-%COMP%]{border-radius:8px;width:100%}.card-body[_ngcontent-%COMP%]{padding:.5rem}"],changeDetection:0})};function mP(e,n){if(e&1&&(c(0,"aside",2),m(1,"app-anuncios-widget",3),s()),e&2){let t=y();f(),D("anuncios",t.anunciosIzquierda)}}function hP(e,n){if(e&1&&(c(0,"aside",2),m(1,"app-anuncios-widget",3),s()),e&2){let t=y();f(),D("anuncios",t.anunciosDerecha)}}var Qu=class e{title=At("manejador-cines-app");anuncioService=g(Ge);mostrarAnuncios=this.anuncioService.mostrarAnuncios;anunciosIzquierda=[];anunciosDerecha=[];ngOnInit(){this.cargarAnuncios()}cargarAnuncios(){this.anuncioService.verMostrables().subscribe({next:n=>{this.anunciosIzquierda=n.slice(0,4),this.anunciosDerecha=n.slice(4,8)},error:n=>{console.error("Error al cargar anuncios:",n)}})}static \u0275fac=function(t){return new(t||e)};static \u0275cmp=F({type:e,selectors:[["app-root"]],decls:8,vars:4,consts:[[1,"container-fluid",2,"flex","1"],[1,"row"],[1,"col-lg-2","d-none","d-lg-block","p-3","bg-light"],[3,"anuncios"]],template:function(t,i){if(t&1&&(m(0,"app-header"),c(1,"div",0)(2,"div",1),v(3,mP,2,1,"aside",2),c(4,"main"),m(5,"router-outlet"),s(),v(6,hP,2,1,"aside",2),s()(),m(7,"app-footer")),t&2){let r,o;f(3),C((r=i.mostrarAnuncios())?3:-1,r),f(),Zp(i.mostrarAnuncios()?"col-lg-8":"col-lg-12"),f(2),C((o=i.mostrarAnuncios())?6:-1,o)}},dependencies:[za,Wu,Zu,Y,Yu],styles:["body[_ngcontent-%COMP%]{background-color:#000}.app-footer[_ngcontent-%COMP%]{background-color:#000;color:#fff;padding:20px;text-align:center;font-size:.9rem;margin-top:auto}.footer-content[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto}.footer-links[_ngcontent-%COMP%]{margin-top:10px}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;margin:0 10px;text-decoration:none;transition:color .2s}.footer-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#bbdefb}"]})};Sm(Qu,K_).catch(e=>console.error(e));
